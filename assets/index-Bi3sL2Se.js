(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function T1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Id={exports:{}},vl={};var N_;function b1(){if(N_)return vl;N_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var D_;function S1(){return D_||(D_=1,Id.exports=b1()),Id.exports}var b=S1(),xd={exports:{}},Mt={};var O_;function A1(){if(O_)return Mt;O_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,X={};function ft(M,K,st){this.props=M,this.context=K,this.refs=X,this.updater=st||F}ft.prototype.isReactComponent={},ft.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},ft.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Tt(){}Tt.prototype=ft.prototype;function pt(M,K,st){this.props=M,this.context=K,this.refs=X,this.updater=st||F}var qt=pt.prototype=new Tt;qt.constructor=pt,tt(qt,ft.prototype),qt.isPureReactComponent=!0;var yt=Array.isArray;function Rt(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(M,K,st){var ut=st.ref;return{$$typeof:s,type:M,key:K,ref:ut!==void 0?ut:null,props:st}}function V(M,K){return w(M.type,K,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function L(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(st){return K[st]})}var C=/\/+/g;function _e(M,K){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):K.toString(36)}function Ne(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Rt,Rt):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,K,st,ut,Ct){var Nt=typeof M;(Nt==="undefined"||Nt==="boolean")&&(M=null);var lt=!1;if(M===null)lt=!0;else switch(Nt){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(M.$$typeof){case s:case t:lt=!0;break;case T:return lt=M._init,G(lt(M._payload),K,st,ut,Ct)}}if(lt)return Ct=Ct(M),lt=ut===""?"."+_e(M,0):ut,yt(Ct)?(st="",lt!=null&&(st=lt.replace(C,"$&/")+"/"),G(Ct,K,st,"",function(kt){return kt})):Ct!=null&&(D(Ct)&&(Ct=V(Ct,st+(Ct.key==null||M&&M.key===Ct.key?"":(""+Ct.key).replace(C,"$&/")+"/")+lt)),K.push(Ct)),1;lt=0;var Z=ut===""?".":ut+":";if(yt(M))for(var et=0;et<M.length;et++)ut=M[et],Nt=Z+_e(ut,et),lt+=G(ut,K,st,Nt,Ct);else if(et=B(M),typeof et=="function")for(M=et.call(M),et=0;!(ut=M.next()).done;)ut=ut.value,Nt=Z+_e(ut,et++),lt+=G(ut,K,st,Nt,Ct);else if(Nt==="object"){if(typeof M.then=="function")return G(Ne(M),K,st,ut,Ct);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return lt}function nt(M,K,st){if(M==null)return M;var ut=[],Ct=0;return G(M,ut,"","",function(Nt){return K.call(st,Nt,Ct++)}),ut}function _t(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(st){(M._status===0||M._status===-1)&&(M._status=1,M._result=st)},function(st){(M._status===0||M._status===-1)&&(M._status=2,M._result=st)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var jt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Xt={map:nt,forEach:function(M,K,st){nt(M,function(){K.apply(this,arguments)},st)},count:function(M){var K=0;return nt(M,function(){K++}),K},toArray:function(M){return nt(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Mt.Activity=A,Mt.Children=Xt,Mt.Component=ft,Mt.Fragment=i,Mt.Profiler=l,Mt.PureComponent=pt,Mt.StrictMode=a,Mt.Suspense=_,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Mt.cache=function(M){return function(){return M.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(M,K,st){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ut=tt({},M.props),Ct=M.key;if(K!=null)for(Nt in K.key!==void 0&&(Ct=""+K.key),K)!R.call(K,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&K.ref===void 0||(ut[Nt]=K[Nt]);var Nt=arguments.length-2;if(Nt===1)ut.children=st;else if(1<Nt){for(var lt=Array(Nt),Z=0;Z<Nt;Z++)lt[Z]=arguments[Z+2];ut.children=lt}return w(M.type,Ct,ut)},Mt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Mt.createElement=function(M,K,st){var ut,Ct={},Nt=null;if(K!=null)for(ut in K.key!==void 0&&(Nt=""+K.key),K)R.call(K,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(Ct[ut]=K[ut]);var lt=arguments.length-2;if(lt===1)Ct.children=st;else if(1<lt){for(var Z=Array(lt),et=0;et<lt;et++)Z[et]=arguments[et+2];Ct.children=Z}if(M&&M.defaultProps)for(ut in lt=M.defaultProps,lt)Ct[ut]===void 0&&(Ct[ut]=lt[ut]);return w(M,Nt,Ct)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(M){return{$$typeof:g,render:M}},Mt.isValidElement=D,Mt.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:_t}},Mt.memo=function(M,K){return{$$typeof:p,type:M,compare:K===void 0?null:K}},Mt.startTransition=function(M){var K=I.T,st={};I.T=st;try{var ut=M(),Ct=I.S;Ct!==null&&Ct(st,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Rt,jt)}catch(Nt){jt(Nt)}finally{K!==null&&st.types!==null&&(K.types=st.types),I.T=K}},Mt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Mt.use=function(M){return I.H.use(M)},Mt.useActionState=function(M,K,st){return I.H.useActionState(M,K,st)},Mt.useCallback=function(M,K){return I.H.useCallback(M,K)},Mt.useContext=function(M){return I.H.useContext(M)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(M,K){return I.H.useDeferredValue(M,K)},Mt.useEffect=function(M,K){return I.H.useEffect(M,K)},Mt.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Mt.useId=function(){return I.H.useId()},Mt.useImperativeHandle=function(M,K,st){return I.H.useImperativeHandle(M,K,st)},Mt.useInsertionEffect=function(M,K){return I.H.useInsertionEffect(M,K)},Mt.useLayoutEffect=function(M,K){return I.H.useLayoutEffect(M,K)},Mt.useMemo=function(M,K){return I.H.useMemo(M,K)},Mt.useOptimistic=function(M,K){return I.H.useOptimistic(M,K)},Mt.useReducer=function(M,K,st){return I.H.useReducer(M,K,st)},Mt.useRef=function(M){return I.H.useRef(M)},Mt.useState=function(M){return I.H.useState(M)},Mt.useSyncExternalStore=function(M,K,st){return I.H.useSyncExternalStore(M,K,st)},Mt.useTransition=function(){return I.H.useTransition()},Mt.version="19.2.0",Mt}var M_;function Em(){return M_||(M_=1,xd.exports=A1()),xd.exports}var Gt=Em();const Oc=T1(Gt);var Nd={exports:{}},El={},Dd={exports:{}},Od={};var V_;function w1(){return V_||(V_=1,(function(s){function t(G,nt){var _t=G.length;G.push(nt);t:for(;0<_t;){var jt=_t-1>>>1,Xt=G[jt];if(0<l(Xt,nt))G[jt]=nt,G[_t]=Xt,_t=jt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var nt=G[0],_t=G.pop();if(_t!==nt){G[0]=_t;t:for(var jt=0,Xt=G.length,M=Xt>>>1;jt<M;){var K=2*(jt+1)-1,st=G[K],ut=K+1,Ct=G[ut];if(0>l(st,_t))ut<Xt&&0>l(Ct,st)?(G[jt]=Ct,G[ut]=_t,jt=ut):(G[jt]=st,G[K]=_t,jt=K);else if(ut<Xt&&0>l(Ct,_t))G[jt]=Ct,G[ut]=_t,jt=ut;else break t}}return nt}function l(G,nt){var _t=G.sortIndex-nt.sortIndex;return _t!==0?_t:G.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],p=[],T=1,A=null,N=3,B=!1,F=!1,tt=!1,X=!1,ft=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function qt(G){for(var nt=i(p);nt!==null;){if(nt.callback===null)a(p);else if(nt.startTime<=G)a(p),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(p)}}function yt(G){if(tt=!1,qt(G),!F)if(i(_)!==null)F=!0,Rt||(Rt=!0,L());else{var nt=i(p);nt!==null&&Ne(yt,nt.startTime-G)}}var Rt=!1,I=-1,R=5,w=-1;function V(){return X?!0:!(s.unstable_now()-w<R)}function D(){if(X=!1,Rt){var G=s.unstable_now();w=G;var nt=!0;try{t:{F=!1,tt&&(tt=!1,Tt(I),I=-1),B=!0;var _t=N;try{e:{for(qt(G),A=i(_);A!==null&&!(A.expirationTime>G&&V());){var jt=A.callback;if(typeof jt=="function"){A.callback=null,N=A.priorityLevel;var Xt=jt(A.expirationTime<=G);if(G=s.unstable_now(),typeof Xt=="function"){A.callback=Xt,qt(G),nt=!0;break e}A===i(_)&&a(_),qt(G)}else a(_);A=i(_)}if(A!==null)nt=!0;else{var M=i(p);M!==null&&Ne(yt,M.startTime-G),nt=!1}}break t}finally{A=null,N=_t,B=!1}nt=void 0}}finally{nt?L():Rt=!1}}}var L;if(typeof pt=="function")L=function(){pt(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,_e=C.port2;C.port1.onmessage=D,L=function(){_e.postMessage(null)}}else L=function(){ft(D,0)};function Ne(G,nt){I=ft(function(){G(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(G){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var _t=N;N=nt;try{return G()}finally{N=_t}},s.unstable_requestPaint=function(){X=!0},s.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var _t=N;N=G;try{return nt()}finally{N=_t}},s.unstable_scheduleCallback=function(G,nt,_t){var jt=s.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?jt+_t:jt):_t=jt,G){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=_t+Xt,G={id:T++,callback:nt,priorityLevel:G,startTime:_t,expirationTime:Xt,sortIndex:-1},_t>jt?(G.sortIndex=_t,t(p,G),i(_)===null&&G===i(p)&&(tt?(Tt(I),I=-1):tt=!0,Ne(yt,_t-jt))):(G.sortIndex=Xt,t(_,G),F||B||(F=!0,Rt||(Rt=!0,L()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var nt=N;return function(){var _t=N;N=nt;try{return G.apply(this,arguments)}finally{N=_t}}}})(Od)),Od}var k_;function R1(){return k_||(k_=1,Dd.exports=w1()),Dd.exports}var Md={exports:{}},yn={};var L_;function C1(){if(L_)return yn;L_=1;var s=Em();function t(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,p,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:p,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,yn.createPortal=function(_,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(_,p,null,T)},yn.flushSync=function(_){var p=d.T,T=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=p,a.p=T,a.d.f()}},yn.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(_,p))},yn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},yn.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var T=p.as,A=g(T,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,B=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?a.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:B}):T==="script"&&a.d.X(_,{crossOrigin:A,integrity:N,fetchPriority:B,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},yn.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(_)},yn.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,A=g(T,p.crossOrigin);a.d.L(_,T,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},yn.preloadModule=function(_,p){if(typeof _=="string")if(p){var T=g(p.as,p.crossOrigin);a.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(_)},yn.requestFormReset=function(_){a.d.r(_)},yn.unstable_batchedUpdates=function(_,p){return _(p)},yn.useFormState=function(_,p,T){return d.H.useFormState(_,p,T)},yn.useFormStatus=function(){return d.H.useHostTransitionStatus()},yn.version="19.2.0",yn}var P_;function I1(){if(P_)return Md.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=C1(),Md.exports}var U_;function x1(){if(U_)return El;U_=1;var s=R1(),t=Em(),i=I1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===r){y=!0,r=h,o=f;break}if(E===o){y=!0,o=h,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,o=h;break}if(E===o){y=!0,o=f,r=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ft:return"Profiler";case X:return"StrictMode";case yt:return"Suspense";case Rt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case pt:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:_e(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return _e(e(n))}catch{}}return null}var Ne=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},jt=[],Xt=-1;function M(e){return{current:e}}function K(e){0>Xt||(e.current=jt[Xt],jt[Xt]=null,Xt--)}function st(e,n){Xt++,jt[Xt]=e.current,e.current=n}var ut=M(null),Ct=M(null),Nt=M(null),lt=M(null);function Z(e,n){switch(st(Nt,n),st(Ct,e),st(ut,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=t_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(ut),st(ut,e)}function et(){K(ut),K(Ct),K(Nt)}function kt(e){e.memoizedState!==null&&st(lt,e);var n=ut.current,r=t_(n,e.type);n!==r&&(st(Ct,e),st(ut,r))}function St(e){Ct.current===e&&(K(ut),K(Ct)),lt.current===e&&(K(lt),gl._currentValue=_t)}var Te,at;function rt(e){if(Te===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Te=n&&n[1]||"",at=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+e+at}var ot=!1;function dt(e,n){if(!e||ot)return"";ot=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var z=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){z=H}e.call($.prototype)}}else{try{throw Error()}catch(H){z=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var x=y.split(`
`),j=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===j.length)for(o=x.length-1,h=j.length-1;1<=o&&0<=h&&x[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==j[h]){var Q=`
`+x[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{ot=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?rt(r):""}function Zt(e,n){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return e.child!==n&&n!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return dt(e.type,!1);case 11:return dt(e.type.render,!1);case 1:return dt(e.type,!0);case 31:return rt("Activity");default:return""}}function le(e){try{var n="",r=null;do n+=Zt(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vt=Object.prototype.hasOwnProperty,At=s.unstable_scheduleCallback,$t=s.unstable_cancelCallback,re=s.unstable_shouldYield,ne=s.unstable_requestPaint,Jt=s.unstable_now,qe=s.unstable_getCurrentPriorityLevel,be=s.unstable_ImmediatePriority,Ot=s.unstable_UserBlockingPriority,ee=s.unstable_NormalPriority,De=s.unstable_LowPriority,Le=s.unstable_IdlePriority,Me=s.log,Pe=s.unstable_setDisableYieldValue,ve=null,ce=null;function An(e){if(typeof Me=="function"&&Pe(e),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(ve,e)}catch{}}var Ce=Math.clz32?Math.clz32:tu,As=Math.log,_i=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(As(e)/_i|0)|0}var vi=256,Sr=262144,He=4194304;function Ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ti(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Ei(o):(y&=E,y!==0?h=Ei(y):r||(r=E&~e,r!==0&&(h=Ei(r))))):(E=o&~f,E!==0?h=Ei(E):y!==0?h=Ei(y):r||(r=o&~e,r!==0&&(h=Ei(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function si(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=He;return He<<=1,(He&62914560)===0&&(He=4194304),e}function bi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,r,o,h,f){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,j=e.hiddenUpdates;for(r=y&~r;0<r;){var Q=31-Ce(r),$=1<<Q;E[Q]=0,x[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var H=z[Q];H!==null&&(H.lane&=-536870913)}r&=~$}o!==0&&wr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function wr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Eo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ce(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function To(e,n){var r=n&-n;return r=(r&42)!==0?1:Rr(r),(r&(e.suspendedLanes|n))!==0?0:r}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function ri(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var ai=Math.random().toString(36).slice(2),Fe="__reactFiber$"+ai,sn="__reactProps$"+ai,Si="__reactContainer$"+ai,ua="__reactEvents$"+ai,Mh="__reactListeners$"+ai,iu="__reactHandles$"+ai,su="__reactResources$"+ai,Ai="__reactMarker$"+ai;function ca(e){delete e[Fe],delete e[sn],delete e[ua],delete e[Mh],delete e[iu]}function wi(e){var n=e[Fe];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Si]||r[Fe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=o_(e);e!==null;){if(r=e[Fe])return r;e=o_(e)}return n}e=r,r=e.parentNode}return null}function Fn(e){if(e=e[Fe]||e[Si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ri(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ge(e){e[Ai]=!0}var bo=new Set,So={};function Ci(e,n){Ii(e,n),Ii(e+"Capture",n)}function Ii(e,n){for(So[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function ru(e){return vt.call(Ro,e)?!0:vt.call(wo,e)?!1:Ao.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function ha(e,n,r){if(ru(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function kn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Qe(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ws(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function he(e){if(!e._valueTracker){var n=ws(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function Cr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ws(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ir=/[\n"\\]/g;function wn(e){return e.replace(Ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fa(e,n,r,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+rn(n)):e.value!==""+rn(n)&&(e.value=""+rn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Io(e,y,rn(n)):r!=null?Io(e,y,rn(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+rn(E):e.removeAttribute("name")}function au(e,n,r,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){he(e);return}r=r!=null?""+rn(r):"",n=n!=null?""+rn(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),he(e)}function Io(e,n,r){n==="number"&&xi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Rs(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+rn(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,r){if(n!=null&&(n=""+rn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+rn(r):""}function Cs(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ne(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=rn(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),he(e)}function Rn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||lu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function No(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&xo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&xo(e,f,n[f])}function da(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(e){return Is.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function oi(){}var Do=null;function Gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xs=null,Ni=null;function xr(e){var n=Fn(e);if(n&&(e=n.stateNode)){var r=e[sn]||null;t:switch(e=n.stateNode,n.type){case"input":if(fa(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+wn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[sn]||null;if(!h)throw Error(a(90));fa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Cr(o)}break t;case"textarea":ou(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Rs(e,!!r.multiple,n,!1)}}}var ga=!1;function Ns(e,n,r){if(ga)return e(n,r);ga=!0;try{var o=e(n);return o}finally{if(ga=!1,(xs!==null||Ni!==null)&&(nc(),xs&&(n=xs,e=Ni,Ni=xs=null,xr(n),e)))for(n=0;n<e.length;n++)xr(e[n])}}function li(e,n){var r=e.stateNode;if(r===null)return null;var o=r[sn]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Qn)try{var me={};Object.defineProperty(me,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",me,me),window.removeEventListener("test",me,me)}catch{Nr=!1}var Di=null,Oo=null,Dr=null;function Mo(){if(Dr)return Dr;var e,n=Oo,r=n.length,o,h="value"in Di?Di.value:Di.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var y=r-e;for(o=1;o<=y&&n[r-o]===h[f-o];o++);return Dr=h.slice(e,1<o?1-o:void 0)}function Or(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function ui(){return!1}function un(e){function n(r,o,h,f,y){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:ui,this.isPropagationStopped=ui,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=un(Wi),Ds=A({},Wi,{view:0,detail:0}),Vo=un(Ds),Os,pa,Mi,ya=A({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(Os=e.screenX-Mi.screenX,pa=e.screenY-Mi.screenY):pa=Os=0,Mi=e),Os)},movementY:function(e){return"movementY"in e?e.movementY:pa}}),ko=un(ya),Mr=A({},ya,{dataTransfer:0}),cu=un(Mr),hu=A({},Ds,{relatedTarget:0}),Vr=un(hu),Lo=A({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=un(Lo),_a=A({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=un(_a),mu=A({},Wi,{data:0}),Vi=un(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function Ms(){return _u}var bn=A({},Ds,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=un(bn),Eu=A({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=un(Eu),u=A({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),m=un(u),v=A({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=un(v),P=A({},ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=un(P),it=A({},Wi,{newState:0,oldState:0}),Lt=un(it),Ue=[9,13,27,32],ae=Qn&&"CompositionEvent"in window,Ie=null;Qn&&"documentMode"in document&&(Ie=document.documentMode);var Kn=Qn&&"TextEvent"in window&&!Ie,ki=Qn&&(!ae||Ie&&8<Ie&&11>=Ie),ci=" ",hi=!1;function kr(e,n){switch(e){case"keyup":return Ue.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ea=!1;function GT(e,n){switch(e){case"compositionend":return va(n);case"keypress":return n.which!==32?null:(hi=!0,ci);case"textInput":return e=n.data,e===ci&&hi?null:e;default:return null}}function QT(e,n){if(Ea)return e==="compositionend"||!ae&&kr(e,n)?(e=Mo(),Dr=Oo=Di=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var KT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!KT[e.type]:n==="textarea"}function hg(e,n,r,o){xs?Ni?Ni.push(o):Ni=[o]:xs=o,n=uc(n,"onChange"),0<n.length&&(r=new Oi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Po=null,Uo=null;function YT(e){Ky(e,0)}function Tu(e){var n=Vn(e);if(Cr(n))return e}function fg(e,n){if(e==="change")return n}var dg=!1;if(Qn){var Vh;if(Qn){var kh="oninput"in document;if(!kh){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),kh=typeof mg.oninput=="function"}Vh=kh}else Vh=!1;dg=Vh&&(!document.documentMode||9<document.documentMode)}function gg(){Po&&(Po.detachEvent("onpropertychange",pg),Uo=Po=null)}function pg(e){if(e.propertyName==="value"&&Tu(Uo)){var n=[];hg(n,Uo,e,Gn(e)),Ns(YT,n)}}function XT(e,n,r){e==="focusin"?(gg(),Po=n,Uo=r,Po.attachEvent("onpropertychange",pg)):e==="focusout"&&gg()}function $T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Uo)}function WT(e,n){if(e==="click")return Tu(n)}function ZT(e,n){if(e==="input"||e==="change")return Tu(n)}function JT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ln=typeof Object.is=="function"?Object.is:JT;function jo(e,n){if(Ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!vt.call(n,h)||!Ln(e[h],n[h]))return!1}return!0}function yg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _g(e,n){var r=yg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=yg(r)}}function vg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?vg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Eg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=xi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=xi(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var tb=Qn&&"documentMode"in document&&11>=document.documentMode,Ta=null,Ph=null,zo=null,Uh=!1;function Tg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uh||Ta==null||Ta!==xi(o)||(o=Ta,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&jo(zo,o)||(zo=o,o=uc(Ph,"onSelect"),0<o.length&&(n=new Oi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Ta)))}function Lr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ba={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},jh={},bg={};Qn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Pr(e){if(jh[e])return jh[e];if(!ba[e])return e;var n=ba[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in bg)return jh[e]=n[r];return e}var Sg=Pr("animationend"),Ag=Pr("animationiteration"),wg=Pr("animationstart"),eb=Pr("transitionrun"),nb=Pr("transitionstart"),ib=Pr("transitioncancel"),Rg=Pr("transitionend"),Cg=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function fi(e,n){Cg.set(e,n),Ci(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yn=[],Sa=0,Bh=0;function Su(){for(var e=Sa,n=Bh=Sa=0;n<e;){var r=Yn[n];Yn[n++]=null;var o=Yn[n];Yn[n++]=null;var h=Yn[n];Yn[n++]=null;var f=Yn[n];if(Yn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Ig(r,h,f)}}function Au(e,n,r,o){Yn[Sa++]=e,Yn[Sa++]=n,Yn[Sa++]=r,Yn[Sa++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,r,o){return Au(e,n,r,o),wu(e)}function Ur(e,n){return Au(e,null,null,n),wu(e)}function Ig(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ce(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function wu(e){if(50<ll)throw ll=0,Zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Aa={};function sb(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(e,n,r,o){return new sb(e,n,r,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ji(e,n){var r=e.alternate;return r===null?(r=Pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function xg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,r,o,h,f){var y=0;if(o=e,typeof e=="function")Hh(e)&&(y=1);else if(typeof e=="string")y=u1(e,r,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Pn(31,r,n,h),e.elementType=w,e.lanes=f,e;case tt:return jr(r.children,h,f,n);case X:y=8,h|=24;break;case ft:return e=Pn(12,r,n,h|2),e.elementType=ft,e.lanes=f,e;case yt:return e=Pn(13,r,n,h),e.elementType=yt,e.lanes=f,e;case Rt:return e=Pn(19,r,n,h),e.elementType=Rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:y=10;break t;case Tt:y=9;break t;case qt:y=11;break t;case I:y=14;break t;case R:y=16,o=null;break t}y=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Pn(y,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function jr(e,n,r,o){return e=Pn(7,e,o,n),e.lanes=r,e}function Fh(e,n,r){return e=Pn(6,e,null,n),e.lanes=r,e}function Ng(e){var n=Pn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,r){return n=Pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Dg=new WeakMap;function Xn(e,n){if(typeof e=="object"&&e!==null){var r=Dg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:le(n)},Dg.set(e,n),n)}return{value:e,source:n,stack:le(n)}}var wa=[],Ra=0,Cu=null,Bo=0,$n=[],Wn=0,Vs=null,Li=1,Pi="";function ts(e,n){wa[Ra++]=Bo,wa[Ra++]=Cu,Cu=e,Bo=n}function Og(e,n,r){$n[Wn++]=Li,$n[Wn++]=Pi,$n[Wn++]=Vs,Vs=e;var o=Li;e=Pi;var h=32-Ce(o)-1;o&=~(1<<h),r+=1;var f=32-Ce(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Li=1<<32-Ce(n)+h|r<<h|o,Pi=f+e}else Li=1<<f|r<<h|o,Pi=e}function Qh(e){e.return!==null&&(ts(e,1),Og(e,1,0))}function Kh(e){for(;e===Cu;)Cu=wa[--Ra],wa[Ra]=null,Bo=wa[--Ra],wa[Ra]=null;for(;e===Vs;)Vs=$n[--Wn],$n[Wn]=null,Pi=$n[--Wn],$n[Wn]=null,Li=$n[--Wn],$n[Wn]=null}function Mg(e,n){$n[Wn++]=Li,$n[Wn++]=Pi,$n[Wn++]=Vs,Li=n.id,Pi=n.overflow,Vs=e}var cn=null,Se=null,Wt=!1,ks=null,Zn=!1,Yh=Error(a(519));function Ls(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Xn(n,e)),Yh}function Vg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Fe]=e,n[sn]=o,r){case"dialog":Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":case"embed":Bt("load",n);break;case"video":case"audio":for(r=0;r<cl.length;r++)Bt(cl[r],n);break;case"source":Bt("error",n);break;case"img":case"image":case"link":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"input":Bt("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Bt("invalid",n);break;case"textarea":Bt("invalid",n),Cs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Wy(n.textContent,r)?(o.popover!=null&&(Bt("beforetoggle",n),Bt("toggle",n)),o.onScroll!=null&&Bt("scroll",n),o.onScrollEnd!=null&&Bt("scrollend",n),o.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||Ls(e,!0)}function kg(e){for(cn=e.return;cn;)switch(cn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:cn=cn.return}}function Ca(e){if(e!==cn)return!1;if(!Wt)return kg(e),Wt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||dd(e.type,e.memoizedProps)),r=!r),r&&Se&&Ls(e),kg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Se=a_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Se=a_(e)}else n===27?(n=Se,$s(e.type)?(e=_d,_d=null,Se=e):Se=n):Se=cn?ti(e.stateNode.nextSibling):null;return!0}function zr(){Se=cn=null,Wt=!1}function Xh(){var e=ks;return e!==null&&(Nn===null?Nn=e:Nn.push.apply(Nn,e),ks=null),e}function qo(e){ks===null?ks=[e]:ks.push(e)}var $h=M(null),Br=null,es=null;function Ps(e,n,r){st($h,n._currentValue),n._currentValue=r}function ns(e){e._currentValue=$h.current,K($h)}function Wh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Zh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Wh(f.return,r,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Wh(y,r,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ia(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;Ln(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===lt.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&Zh(n,e,r,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!Ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Br=e,es=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function hn(e){return Lg(Br,e)}function xu(e,n){return Br===null&&qr(e),Lg(e,n)}function Lg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},es===null){if(e===null)throw Error(a(308));es=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else es=es.next=n;return r}var rb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},ab=s.unstable_scheduleCallback,ob=s.unstable_NormalPriority,Ke={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new rb,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&ab(ob,function(){e.controller.abort()})}var Fo=null,tf=0,xa=0,Na=null;function lb(e,n){if(Fo===null){var r=Fo=[];tf=0,xa=sd(),Na={status:"pending",value:void 0,then:function(o){r.push(o)}}}return tf++,n.then(Pg,Pg),n}function Pg(){if(--tf===0&&Fo!==null){Na!==null&&(Na.status="fulfilled");var e=Fo;Fo=null,xa=0,Na=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ub(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Ug=G.S;G.S=function(e,n){Ty=Jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&lb(e,n),Ug!==null&&Ug(e,n)};var Hr=M(null);function ef(){var e=Hr.current;return e!==null?e:Ee.pooledCache}function Nu(e,n){n===null?st(Hr,Hr.current):st(Hr,n.pool)}function jg(){var e=ef();return e===null?null:{parent:Ke._currentValue,pool:e}}var Da=Error(a(460)),nf=Error(a(474)),Du=Error(a(542)),Ou={then:function(){}};function zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(oi,oi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hg(e),e;default:if(typeof n.status=="string")n.then(oi,oi);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hg(e),e}throw Gr=n,Da}}function Fr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Gr=r,Da):r}}var Gr=null;function qg(){if(Gr===null)throw Error(a(459));var e=Gr;return Gr=null,e}function Hg(e){if(e===Da||e===Du)throw Error(a(483))}var Oa=null,Go=0;function Mu(e){var n=Go;return Go+=1,Oa===null&&(Oa=[]),Bg(Oa,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===N?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Fg(e){function n(k,O){if(e){var U=k.deletions;U===null?(k.deletions=[O],k.flags|=16):U.push(O)}}function r(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Ji(k,O),k.index=0,k.sibling=null,k}function f(k,O,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<O?(k.flags|=67108866,O):U):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,U,Y){return O===null||O.tag!==6?(O=Fh(U,k.mode,Y),O.return=k,O):(O=h(O,U),O.return=k,O)}function x(k,O,U,Y){var Et=U.type;return Et===tt?Q(k,O,U.props.children,Y,U.key):O!==null&&(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&Fr(Et)===O.type)?(O=h(O,U.props),Qo(O,U),O.return=k,O):(O=Ru(U.type,U.key,U.props,null,k.mode,Y),Qo(O,U),O.return=k,O)}function j(k,O,U,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Gh(U,k.mode,Y),O.return=k,O):(O=h(O,U.children||[]),O.return=k,O)}function Q(k,O,U,Y,Et){return O===null||O.tag!==7?(O=jr(U,k.mode,Y,Et),O.return=k,O):(O=h(O,U),O.return=k,O)}function $(k,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Fh(""+O,k.mode,U),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return U=Ru(O.type,O.key,O.props,null,k.mode,U),Qo(U,O),U.return=k,U;case F:return O=Gh(O,k.mode,U),O.return=k,O;case R:return O=Fr(O),$(k,O,U)}if(Ne(O)||L(O))return O=jr(O,k.mode,U,null),O.return=k,O;if(typeof O.then=="function")return $(k,Mu(O),U);if(O.$$typeof===pt)return $(k,xu(k,O),U);Vu(k,O)}return null}function z(k,O,U,Y){var Et=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return Et!==null?null:E(k,O,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case B:return U.key===Et?x(k,O,U,Y):null;case F:return U.key===Et?j(k,O,U,Y):null;case R:return U=Fr(U),z(k,O,U,Y)}if(Ne(U)||L(U))return Et!==null?null:Q(k,O,U,Y,null);if(typeof U.then=="function")return z(k,O,Mu(U),Y);if(U.$$typeof===pt)return z(k,O,xu(k,U),Y);Vu(k,U)}return null}function H(k,O,U,Y,Et){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(U)||null,E(O,k,""+Y,Et);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return k=k.get(Y.key===null?U:Y.key)||null,x(O,k,Y,Et);case F:return k=k.get(Y.key===null?U:Y.key)||null,j(O,k,Y,Et);case R:return Y=Fr(Y),H(k,O,U,Y,Et)}if(Ne(Y)||L(Y))return k=k.get(U)||null,Q(O,k,Y,Et,null);if(typeof Y.then=="function")return H(k,O,U,Mu(Y),Et);if(Y.$$typeof===pt)return H(k,O,U,xu(O,Y),Et);Vu(O,Y)}return null}function ht(k,O,U,Y){for(var Et=null,ie=null,mt=O,Ut=O=0,Ft=null;mt!==null&&Ut<U.length;Ut++){mt.index>Ut?(Ft=mt,mt=null):Ft=mt.sibling;var se=z(k,mt,U[Ut],Y);if(se===null){mt===null&&(mt=Ft);break}e&&mt&&se.alternate===null&&n(k,mt),O=f(se,O,Ut),ie===null?Et=se:ie.sibling=se,ie=se,mt=Ft}if(Ut===U.length)return r(k,mt),Wt&&ts(k,Ut),Et;if(mt===null){for(;Ut<U.length;Ut++)mt=$(k,U[Ut],Y),mt!==null&&(O=f(mt,O,Ut),ie===null?Et=mt:ie.sibling=mt,ie=mt);return Wt&&ts(k,Ut),Et}for(mt=o(mt);Ut<U.length;Ut++)Ft=H(mt,k,Ut,U[Ut],Y),Ft!==null&&(e&&Ft.alternate!==null&&mt.delete(Ft.key===null?Ut:Ft.key),O=f(Ft,O,Ut),ie===null?Et=Ft:ie.sibling=Ft,ie=Ft);return e&&mt.forEach(function(er){return n(k,er)}),Wt&&ts(k,Ut),Et}function wt(k,O,U,Y){if(U==null)throw Error(a(151));for(var Et=null,ie=null,mt=O,Ut=O=0,Ft=null,se=U.next();mt!==null&&!se.done;Ut++,se=U.next()){mt.index>Ut?(Ft=mt,mt=null):Ft=mt.sibling;var er=z(k,mt,se.value,Y);if(er===null){mt===null&&(mt=Ft);break}e&&mt&&er.alternate===null&&n(k,mt),O=f(er,O,Ut),ie===null?Et=er:ie.sibling=er,ie=er,mt=Ft}if(se.done)return r(k,mt),Wt&&ts(k,Ut),Et;if(mt===null){for(;!se.done;Ut++,se=U.next())se=$(k,se.value,Y),se!==null&&(O=f(se,O,Ut),ie===null?Et=se:ie.sibling=se,ie=se);return Wt&&ts(k,Ut),Et}for(mt=o(mt);!se.done;Ut++,se=U.next())se=H(mt,k,Ut,se.value,Y),se!==null&&(e&&se.alternate!==null&&mt.delete(se.key===null?Ut:se.key),O=f(se,O,Ut),ie===null?Et=se:ie.sibling=se,ie=se);return e&&mt.forEach(function(E1){return n(k,E1)}),Wt&&ts(k,Ut),Et}function ye(k,O,U,Y){if(typeof U=="object"&&U!==null&&U.type===tt&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case B:t:{for(var Et=U.key;O!==null;){if(O.key===Et){if(Et=U.type,Et===tt){if(O.tag===7){r(k,O.sibling),Y=h(O,U.props.children),Y.return=k,k=Y;break t}}else if(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&Fr(Et)===O.type){r(k,O.sibling),Y=h(O,U.props),Qo(Y,U),Y.return=k,k=Y;break t}r(k,O);break}else n(k,O);O=O.sibling}U.type===tt?(Y=jr(U.props.children,k.mode,Y,U.key),Y.return=k,k=Y):(Y=Ru(U.type,U.key,U.props,null,k.mode,Y),Qo(Y,U),Y.return=k,k=Y)}return y(k);case F:t:{for(Et=U.key;O!==null;){if(O.key===Et)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){r(k,O.sibling),Y=h(O,U.children||[]),Y.return=k,k=Y;break t}else{r(k,O);break}else n(k,O);O=O.sibling}Y=Gh(U,k.mode,Y),Y.return=k,k=Y}return y(k);case R:return U=Fr(U),ye(k,O,U,Y)}if(Ne(U))return ht(k,O,U,Y);if(L(U)){if(Et=L(U),typeof Et!="function")throw Error(a(150));return U=Et.call(U),wt(k,O,U,Y)}if(typeof U.then=="function")return ye(k,O,Mu(U),Y);if(U.$$typeof===pt)return ye(k,O,xu(k,U),Y);Vu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(r(k,O.sibling),Y=h(O,U),Y.return=k,k=Y):(r(k,O),Y=Fh(U,k.mode,Y),Y.return=k,k=Y),y(k)):r(k,O)}return function(k,O,U,Y){try{Go=0;var Et=ye(k,O,U,Y);return Oa=null,Et}catch(mt){if(mt===Da||mt===Du)throw mt;var ie=Pn(29,mt,null,k.mode);return ie.lanes=Y,ie.return=k,ie}finally{}}}var Qr=Fg(!0),Gg=Fg(!1),Us=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function js(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zs(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(oe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),Ig(e,null,r),n}return Au(e,o,n,r),wu(e)}function Ko(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Eo(e,r)}}function af(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var of=!1;function Yo(){if(of){var e=Na;if(e!==null)throw e}}function Xo(e,n,r,o){of=!1;var h=e.updateQueue;Us=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,y===null?f=j:y.next=j,y=x;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=x))}if(f!==null){var $=h.baseState;y=0,Q=j=x=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Ht&z)===z:(o&z)===z){z!==0&&z===xa&&(of=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=e,wt=E;z=n;var ye=r;switch(wt.tag){case 1:if(ht=wt.payload,typeof ht=="function"){$=ht.call(ye,$,z);break t}$=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=wt.payload,z=typeof ht=="function"?ht.call(ye,$,z):ht,z==null)break t;$=A({},$,z);break t;case 2:Us=!0}}z=E.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=H,x=$):Q=Q.next=H,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(x=$),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Gs|=y,e.lanes=y,e.memoizedState=$}}function Qg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Kg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Qg(r[e],n)}var Ma=M(null),ku=M(0);function Yg(e,n){e=hs,st(ku,e),st(Ma,n),hs=e|n.baseLanes}function lf(){st(ku,hs),st(Ma,Ma.current)}function uf(){hs=ku.current,K(Ma),K(ku)}var Un=M(null),Jn=null;function Bs(e){var n=e.alternate;st(je,je.current&1),st(Un,e),Jn===null&&(n===null||Ma.current!==null||n.memoizedState!==null)&&(Jn=e)}function cf(e){st(je,je.current),st(Un,e),Jn===null&&(Jn=e)}function Xg(e){e.tag===22?(st(je,je.current),st(Un,e),Jn===null&&(Jn=e)):qs()}function qs(){st(je,je.current),st(Un,Un.current)}function jn(e){K(Un),Jn===e&&(Jn=null),K(je)}var je=M(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||pd(r)||yd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,Pt=null,ge=null,Ye=null,Pu=!1,Va=!1,Kr=!1,Uu=0,$o=0,ka=null,cb=0;function Ve(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Ln(e[r],n[r]))return!1;return!0}function ff(e,n,r,o,h,f){return is=f,Pt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Op:Cf,Kr=!1,f=r(o,h),Kr=!1,Va&&(f=Wg(n,r,o,h)),$g(e),f}function $g(e){G.H=Jo;var n=ge!==null&&ge.next!==null;if(is=0,Ye=ge=Pt=null,Pu=!1,$o=0,ka=null,n)throw Error(a(300));e===null||Xe||(e=e.dependencies,e!==null&&Iu(e)&&(Xe=!0))}function Wg(e,n,r,o){Pt=e;var h=0;do{if(Va&&(ka=null),$o=0,Va=!1,25<=h)throw Error(a(301));if(h+=1,Ye=ge=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Mp,f=n(r,o)}while(Va);return f}function hb(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Wo(n):n,e=e.useState()[0],(ge!==null?ge.memoizedState:null)!==e&&(Pt.flags|=1024),n}function df(){var e=Uu!==0;return Uu=0,e}function mf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function gf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}is=0,Ye=ge=Pt=null,Va=!1,$o=Uu=0,ka=null}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Pt.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function ze(){if(ge===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var n=Ye===null?Pt.memoizedState:Ye.next;if(n!==null)Ye=n,ge=e;else{if(e===null)throw Pt.alternate===null?Error(a(467)):Error(a(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Ye===null?Pt.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var n=$o;return $o+=1,ka===null&&(ka=[]),e=Bg(ka,e,n),n=Pt,(Ye===null?n.memoizedState:Ye.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Op:Cf),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===pt)return hn(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,r=Pt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Pt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ju(),Pt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function ss(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=ze();return yf(n,ge,e)}function yf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,x=null,j=n,Q=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Ht&$)===$:(is&$)===$){var z=j.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===xa&&(Q=!0);else if((is&z)===z){j=j.next,z===xa&&(Q=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=$,y=f):x=x.next=$,Pt.lanes|=z,Gs|=z;$=j.action,Kr&&r(f,$),f=j.hasEagerState?j.eagerState:r(f,$)}else z={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=z,y=f):x=x.next=z,Pt.lanes|=$,Gs|=$;j=j.next}while(j!==null&&j!==n);if(x===null?y=f:x.next=E,!Ln(f,e.memoizedState)&&(Xe=!0,Q&&(r=Na,r!==null)))throw r;e.memoizedState=f,e.baseState=y,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=ze(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);Ln(f,n.memoizedState)||(Xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Zg(e,n,r){var o=Pt,h=ze(),f=Wt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!Ln((ge||h).memoizedState,r);if(y&&(h.memoizedState=r,Xe=!0),h=h.queue,Tf(ep.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,La(9,{destroy:void 0},tp.bind(null,o,h,r,n),null),Ee===null)throw Error(a(349));f||(is&127)!==0||Jg(o,n,r)}return r}function Jg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Pt.updateQueue,n===null?(n=ju(),Pt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function tp(e,n,r,o){n.value=r,n.getSnapshot=o,np(n)&&ip(e)}function ep(e,n,r){return r(function(){np(n)&&ip(e)})}function np(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Ln(e,r)}catch{return!0}}function ip(e){var n=Ur(e,2);n!==null&&Dn(n,e,2)}function vf(e){var n=Sn();if(typeof e=="function"){var r=e;if(e=r(),Kr){An(!0);try{r()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},n}function sp(e,n,r,o){return e.baseState=r,yf(e,ge,typeof o=="function"?o:ss)}function fb(e,n,r,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,rp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function rp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var E=r(h,o),x=G.S;x!==null&&x(y,E),ap(e,n,E)}catch(j){Ef(e,n,j)}finally{f!==null&&y.types!==null&&(f.types=y.types),G.T=f}}else try{f=r(h,o),ap(e,n,f)}catch(j){Ef(e,n,j)}}function ap(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){op(e,n,o)},function(o){return Ef(e,n,o)}):op(e,n,r)}function op(e,n,r){n.status="fulfilled",n.value=r,lp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,rp(e,r)))}function Ef(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,lp(n),n=n.next;while(n!==o)}e.action=null}function lp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function up(e,n){return n}function cp(e,n){if(Wt){var r=Ee.formState;if(r!==null){t:{var o=Pt;if(Wt){if(Se){e:{for(var h=Se,f=Zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=ti(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Se=ti(h.nextSibling),o=h.data==="F!";break t}}Ls(o)}o=!1}o&&(n=r[0])}}return r=Sn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},r.queue=o,r=xp.bind(null,Pt,o),o.dispatch=r,o=vf(!1),f=Rf.bind(null,Pt,!1,o.queue),o=Sn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=fb.bind(null,Pt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function hp(e){var n=ze();return fp(n,ge,e)}function fp(e,n,r){if(n=yf(e,n,up)[0],e=Bu(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Wo(n)}catch(y){throw y===Da?Du:y}else o=n;n=ze();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Pt.flags|=2048,La(9,{destroy:void 0},db.bind(null,h,r),null)),[o,f,e]}function db(e,n){e.action=n}function dp(e){var n=ze(),r=ge;if(r!==null)return fp(n,r,e);ze(),n=n.memoizedState,r=ze();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function La(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Pt.updateQueue,n===null&&(n=ju(),Pt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function mp(){return ze().memoizedState}function qu(e,n,r,o){var h=Sn();Pt.flags|=e,h.memoizedState=La(1|n,{destroy:void 0},r,o===void 0?null:o)}function Hu(e,n,r,o){var h=ze();o=o===void 0?null:o;var f=h.memoizedState.inst;ge!==null&&o!==null&&hf(o,ge.memoizedState.deps)?h.memoizedState=La(n,f,r,o):(Pt.flags|=e,h.memoizedState=La(1|n,f,r,o))}function gp(e,n){qu(8390656,8,e,n)}function Tf(e,n){Hu(2048,8,e,n)}function mb(e){Pt.flags|=4;var n=Pt.updateQueue;if(n===null)n=ju(),Pt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function pp(e){var n=ze().memoizedState;return mb({ref:n,nextImpl:e}),function(){if((oe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function yp(e,n){return Hu(4,2,e,n)}function _p(e,n){return Hu(4,4,e,n)}function vp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ep(e,n,r){r=r!=null?r.concat([e]):null,Hu(4,4,vp.bind(null,n,e),r)}function bf(){}function Tp(e,n){var r=ze();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function bp(e,n){var r=ze();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),Kr){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o}function Sf(e,n,r){return r===void 0||(is&1073741824)!==0&&(Ht&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Sy(),Pt.lanes|=e,Gs|=e,r)}function Sp(e,n,r,o){return Ln(r,n)?r:Ma.current!==null?(e=Sf(e,r,o),Ln(e,n)||(Xe=!0),e):(is&42)===0||(is&1073741824)!==0&&(Ht&261930)===0?(Xe=!0,e.memoizedState=r):(e=Sy(),Pt.lanes|=e,Gs|=e,n)}function Ap(e,n,r,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,Rf(e,!1,n,r);try{var x=h(),j=G.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=ub(x,o);Zo(e,n,Q,qn(e))}else Zo(e,n,o,qn(e))}catch($){Zo(e,n,{then:function(){},status:"rejected",reason:$},qn())}finally{nt.p=f,y!==null&&E.types!==null&&(y.types=E.types),G.T=y}}function gb(){}function Af(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=wp(e).queue;Ap(e,h,n,_t,r===null?gb:function(){return Rp(e),r(o)})}function wp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:_t},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Rp(e){var n=wp(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},qn())}function wf(){return hn(gl)}function Cp(){return ze().memoizedState}function Ip(){return ze().memoizedState}function pb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=qn();e=js(r);var o=zs(n,e,r);o!==null&&(Dn(o,n,r),Ko(o,n,r)),n={cache:Jh()},e.payload=n;return}n=n.return}}function yb(e,n,r){var o=qn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Np(n,r):(r=qh(e,n,r,o),r!==null&&(Dn(r,e,o),Dp(r,n,o)))}function xp(e,n,r){var o=qn();Zo(e,n,r,o)}function Zo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Np(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(h.hasEagerState=!0,h.eagerState=E,Ln(E,y))return Au(e,n,h,0),Ee===null&&Su(),!1}catch{}finally{}if(r=qh(e,n,h,o),r!==null)return Dn(r,e,o),Dp(r,n,o),!0}return!1}function Rf(e,n,r,o){if(o={lane:2,revertLane:sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=qh(e,r,o,2),n!==null&&Dn(n,e,2)}function Fu(e){var n=e.alternate;return e===Pt||n!==null&&n===Pt}function Np(e,n){Va=Pu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Dp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Eo(e,r)}}var Jo={readContext:hn,use:zu,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Jo.useEffectEvent=Ve;var Op={readContext:hn,use:zu,useCallback:function(e,n){return Sn().memoizedState=[e,n===void 0?null:n],e},useContext:hn,useEffect:gp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,qu(4194308,4,vp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var r=Sn();n=n===void 0?null:n;var o=e();if(Kr){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Sn();if(r!==void 0){var h=r(n);if(Kr){An(!0);try{r(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=yb.bind(null,Pt,e),[o.memoizedState,e]},useRef:function(e){var n=Sn();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,r=xp.bind(null,Pt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:bf,useDeferredValue:function(e,n){var r=Sn();return Sf(r,e,n)},useTransition:function(){var e=vf(!1);return e=Ap.bind(null,Pt,e.queue,!0,!1),Sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Pt,h=Sn();if(Wt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Ee===null)throw Error(a(349));(Ht&127)!==0||Jg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,gp(ep.bind(null,o,f,e),[e]),o.flags|=2048,La(9,{destroy:void 0},tp.bind(null,o,f,r,n),null),r},useId:function(){var e=Sn(),n=Ee.identifierPrefix;if(Wt){var r=Pi,o=Li;r=(o&~(1<<32-Ce(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Uu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=cb++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:cp,useActionState:cp,useOptimistic:function(e){var n=Sn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Rf.bind(null,Pt,!0,r),r.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return Sn().memoizedState=pb.bind(null,Pt)},useEffectEvent:function(e){var n=Sn(),r={impl:e};return n.memoizedState=r,function(){if((oe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Cf={readContext:hn,use:zu,useCallback:Tp,useContext:hn,useEffect:Tf,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:bp,useReducer:Bu,useRef:mp,useState:function(){return Bu(ss)},useDebugValue:bf,useDeferredValue:function(e,n){var r=ze();return Sp(r,ge.memoizedState,e,n)},useTransition:function(){var e=Bu(ss)[0],n=ze().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:Zg,useId:Cp,useHostTransitionStatus:wf,useFormState:hp,useActionState:hp,useOptimistic:function(e,n){var r=ze();return sp(r,ge,e,n)},useMemoCache:pf,useCacheRefresh:Ip};Cf.useEffectEvent=pp;var Mp={readContext:hn,use:zu,useCallback:Tp,useContext:hn,useEffect:Tf,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:bp,useReducer:_f,useRef:mp,useState:function(){return _f(ss)},useDebugValue:bf,useDeferredValue:function(e,n){var r=ze();return ge===null?Sf(r,e,n):Sp(r,ge.memoizedState,e,n)},useTransition:function(){var e=_f(ss)[0],n=ze().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:Zg,useId:Cp,useHostTransitionStatus:wf,useFormState:dp,useActionState:dp,useOptimistic:function(e,n){var r=ze();return ge!==null?sp(r,ge,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Ip};Mp.useEffectEvent=pp;function If(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=qn(),h=js(o);h.payload=n,r!=null&&(h.callback=r),n=zs(e,h,o),n!==null&&(Dn(n,e,o),Ko(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=qn(),h=js(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=zs(e,h,o),n!==null&&(Dn(n,e,o),Ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=qn(),o=js(r);o.tag=2,n!=null&&(o.callback=n),n=zs(e,o,r),n!==null&&(Dn(n,e,r),Ko(n,e,r))}};function Vp(e,n,r,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!jo(r,o)||!jo(h,f):!0}function kp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function Yr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Lp(e){bu(e)}function Pp(e){console.error(e)}function Up(e){bu(e)}function Gu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function jp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,r){return r=js(r),r.tag=3,r.payload={element:null},r.callback=function(){Gu(e,n)},r}function zp(e){return e=js(e),e.tag=3,e}function Bp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){jp(n,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){jp(n,r,o),typeof h!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function _b(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ia(n,r,h,!0),r=Un.current,r!==null){switch(r.tag){case 31:case 13:return Jn===null?ic():r.alternate===null&&ke===0&&(ke=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ou?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return r.flags|=65536,o===Ou?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ed(e,o,h)),!1}throw Error(a(435,r.tag))}return ed(e,o,h),ic(),!1}if(Wt)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(a(422),{cause:o}),qo(Xn(e,r)))):(o!==Yh&&(n=Error(a(423),{cause:o}),qo(Xn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Xn(o,r),h=Nf(e.stateNode,o,h),af(e,h),ke!==4&&(ke=2)),!1;var f=Error(a(520),{cause:o});if(f=Xn(f,r),ol===null?ol=[f]:ol.push(f),ke!==4&&(ke=2),n===null)return!0;o=Xn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Nf(r.stateNode,o,e),af(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Qs===null||!Qs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=zp(h),Bp(h,e,r,o),af(r,h),!1}r=r.return}while(r!==null);return!1}var Df=Error(a(461)),Xe=!1;function fn(e,n,r,o){n.child=e===null?Gg(n,null,r,o):Qr(n,e.child,r,o)}function qp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return qr(n),o=ff(e,n,r,y,f,h),E=df(),e!==null&&!Xe?(mf(e,n,h),rs(e,n,h)):(Wt&&E&&Qh(n),n.flags|=1,fn(e,n,o,h),n.child)}function Hp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Fp(e,n,f,o,h)):(e=Ru(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:jo,r(y,o)&&e.ref===n.ref)return rs(e,n,h)}return n.flags|=1,e=Ji(f,o),e.ref=n.ref,e.return=n,n.child=e}function Fp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(jo(f,o)&&e.ref===n.ref)if(Xe=!1,n.pendingProps=o=f,jf(e,h))(e.flags&131072)!==0&&(Xe=!0);else return n.lanes=e.lanes,rs(e,n,h)}return Of(e,n,r,o,h)}function Gp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Qp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Yg(n,f):lf(),Xg(n);else return o=n.lanes=536870912,Qp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Nu(n,f.cachePool),Yg(n,f),qs(),n.memoizedState=null):(e!==null&&Nu(n,null),lf(),qs());return fn(e,n,h,r),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qp(e,n,r,o,h){var f=ef();return f=f===null?null:{parent:Ke._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Nu(n,null),lf(),Xg(n),e!==null&&Ia(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kp(e,n,r){return Qr(n,e.child,null,r),e=Qu(n,n.pendingProps),e.flags|=2,jn(n),n.memoizedState=null,e}function vb(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Wt){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,tl(null,e);if(cf(n),(e=Se)?(e=r_(e,Zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Vs!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Ng(e),r.return=n,n.child=r,cn=n,Se=null)):e=null,e===null)throw Ls(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Kp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Xe||Ia(e,n,r,!1),h=(r&e.childLanes)!==0,Xe||h){if(o=Ee,o!==null&&(y=To(o,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,Ur(e,y),Dn(o,e,y),Df;ic(),n=Kp(e,n,r)}else e=f.treeContext,Se=ti(y.nextSibling),cn=n,Wt=!0,ks=null,Zn=!1,e!==null&&Mg(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=Ji(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Of(e,n,r,o,h){return qr(n),r=ff(e,n,r,o,void 0,h),o=df(),e!==null&&!Xe?(mf(e,n,h),rs(e,n,h)):(Wt&&o&&Qh(n),n.flags|=1,fn(e,n,r,h),n.child)}function Yp(e,n,r,o,h,f){return qr(n),n.updateQueue=null,r=Wg(n,o,r,h),$g(e),o=df(),e!==null&&!Xe?(mf(e,n,f),rs(e,n,f)):(Wt&&o&&Qh(n),n.flags|=1,fn(e,n,r,f),n.child)}function Xp(e,n,r,o,h){if(qr(n),n.stateNode===null){var f=Aa,y=r.contextType;typeof y=="object"&&y!==null&&(f=hn(y)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},sf(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?hn(y):Aa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(If(n,r,y,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&xf.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,x=Yr(r,E);f.props=x;var j=f.context,Q=r.contextType;y=Aa,typeof Q=="object"&&Q!==null&&(y=hn(Q));var $=r.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==y)&&kp(n,f,o,y),Us=!1;var z=n.memoizedState;f.state=z,Xo(n,o,f,h),Yo(),j=n.memoizedState,E||z!==j||Us?(typeof $=="function"&&(If(n,r,$,o),j=n.memoizedState),(x=Us||Vp(n,r,x,o,z,j,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=y,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),y=n.memoizedProps,Q=Yr(r,y),f.props=Q,$=n.pendingProps,z=f.context,j=r.contextType,x=Aa,typeof j=="object"&&j!==null&&(x=hn(j)),E=r.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||z!==x)&&kp(n,f,o,x),Us=!1,z=n.memoizedState,f.state=z,Xo(n,o,f,h),Yo();var H=n.memoizedState;y!==$||z!==H||Us||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(If(n,r,E,o),H=n.memoizedState),(Q=Us||Vp(n,r,Q,o,z,H,x)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=x,o=Q):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Qr(n,e.child,null,h),n.child=Qr(n,null,r,h)):fn(e,n,r,h),n.memoizedState=f.state,e=n.child):e=rs(e,n,h),e}function $p(e,n,r,o){return zr(),n.flags|=256,fn(e,n,r,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:jg()}}function kf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Bn),e}function Wp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(je.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Wt){if(h?Bs(n):qs(),(e=Se)?(e=r_(e,Zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Vs!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Ng(e),r.return=n,n.child=r,cn=n,Se=null)):e=null,e===null)throw Ls(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(qs(),h=n.mode,E=Yu({mode:"hidden",children:E},h),o=jr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Vf(r),o.childLanes=kf(e,y,r),n.memoizedState=Mf,tl(null,o)):(Bs(n),Lf(n,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Bs(n),n.flags&=-257,n=Pf(e,n,r)):n.memoizedState!==null?(qs(),n.child=e.child,n.flags|=128,n=null):(qs(),E=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),E=jr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Qr(n,e.child,null,r),o=n.child,o.memoizedState=Vf(r),o.childLanes=kf(e,y,r),n.memoizedState=Mf,n=tl(null,o));else if(Bs(n),yd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(a(419)),o.stack="",o.digest=y,qo({value:o,source:null,stack:null}),n=Pf(e,n,r)}else if(Xe||Ia(e,n,r,!1),y=(r&e.childLanes)!==0,Xe||y){if(y=Ee,y!==null&&(o=To(y,r),o!==0&&o!==x.retryLane))throw x.retryLane=o,Ur(e,o),Dn(y,e,o),Df;pd(E)||ic(),n=Pf(e,n,r)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,Se=ti(E.nextSibling),cn=n,Wt=!0,ks=null,Zn=!1,e!==null&&Mg(n,e),n=Lf(n,o.children),n.flags|=4096);return n}return h?(qs(),E=o.fallback,h=n.mode,x=e.child,j=x.sibling,o=Ji(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=Ji(j,E):(E=jr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,tl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Vf(r):(h=E.cachePool,h!==null?(x=Ke._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=jg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=kf(e,y,r),n.memoizedState=Mf,tl(e.child,o)):(Bs(n),r=e.child,e=r.sibling,r=Ji(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=r,n.memoizedState=null,r)}function Lf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=Pn(22,e,null,n),e.lanes=0,e}function Pf(e,n,r){return Qr(n,e.child,null,r),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wh(e.return,n,r)}function Uf(e,n,r,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=r,y.tailMode=h,y.treeForkCount=f)}function Jp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=je.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,st(je,y),fn(e,n,o,r),o=Wt?Bo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zp(e,r,n);else if(e.tag===19)Zp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Lu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Uf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Uf(n,!0,r,null,f,o);break;case"together":Uf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rs(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Gs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ia(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Ji(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ji(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function Eb(e,n,r){switch(n.tag){case 3:Z(n,n.stateNode.containerInfo),Ps(n,Ke,e.memoizedState.cache),zr();break;case 27:case 5:kt(n);break;case 4:Z(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Bs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Wp(e,n,r):(Bs(n),e=rs(e,n,r),e!==null?e.sibling:null);Bs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ia(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Jp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(je,je.current),o)break;return null;case 22:return n.lanes=0,Gp(e,n,r,n.pendingProps);case 24:Ps(n,Ke,e.memoizedState.cache)}return rs(e,n,r)}function ty(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Xe=!0;else{if(!jf(e,r)&&(n.flags&128)===0)return Xe=!1,Eb(e,n,r);Xe=(e.flags&131072)!==0}else Xe=!1,Wt&&(n.flags&1048576)!==0&&Og(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Fr(n.elementType),n.type=e,typeof e=="function")Hh(e)?(o=Yr(e,o),n.tag=1,n=Xp(null,n,e,o,r)):(n.tag=0,n=Of(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=qp(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Hp(null,n,e,o,r);break t}}throw n=_e(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Yr(o,n.pendingProps),Xp(e,n,o,h,r);case 3:t:{if(Z(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Xo(n,o,null,r);var y=n.memoizedState;if(o=y.cache,Ps(n,Ke,o),o!==f.cache&&Zh(n,[Ke],r,!0),Yo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$p(e,n,o,r);break t}else if(o!==h){h=Xn(Error(a(424)),n),qo(h),n=$p(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Se=ti(e.firstChild),cn=n,Wt=!0,ks=null,Zn=!0,r=Gg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(zr(),o===h){n=rs(e,n,r);break t}fn(e,n,o,r)}n=n.child}return n;case 26:return Ku(e,n),e===null?(r=h_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Wt||(r=n.type,e=n.pendingProps,o=cc(Nt.current).createElement(r),o[Fe]=n,o[sn]=e,dn(o,r,e),Ge(o),n.stateNode=o):n.memoizedState=h_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return kt(n),e===null&&Wt&&(o=n.stateNode=l_(n.type,n.pendingProps,Nt.current),cn=n,Zn=!0,h=Se,$s(n.type)?(_d=h,Se=ti(o.firstChild)):Se=h),fn(e,n,n.pendingProps.children,r),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Wt&&((h=o=Se)&&(o=$b(o,n.type,n.pendingProps,Zn),o!==null?(n.stateNode=o,cn=n,Se=ti(o.firstChild),Zn=!1,h=!0):h=!1),h||Ls(n)),kt(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:y!==null&&dd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,hb,null,null,r),gl._currentValue=h),Ku(e,n),fn(e,n,o,r),n.child;case 6:return e===null&&Wt&&((e=r=Se)&&(r=Wb(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,cn=n,Se=null,e=!0):e=!1),e||Ls(n)),null;case 13:return Wp(e,n,r);case 4:return Z(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Qr(n,null,o,r):fn(e,n,o,r),n.child;case 11:return qp(e,n,n.type,n.pendingProps,r);case 7:return fn(e,n,n.pendingProps,r),n.child;case 8:return fn(e,n,n.pendingProps.children,r),n.child;case 12:return fn(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ps(n,n.type,o.value),fn(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,qr(n),h=hn(h),o=o(h),n.flags|=1,fn(e,n,o,r),n.child;case 14:return Hp(e,n,n.type,n.pendingProps,r);case 15:return Fp(e,n,n.type,n.pendingProps,r);case 19:return Jp(e,n,r);case 31:return vb(e,n,r);case 22:return Gp(e,n,r,n.pendingProps);case 24:return qr(n),o=hn(Ke),e===null?(h=ef(),h===null&&(h=Ee,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},sf(n),Ps(n,Ke,h)):((e.lanes&r)!==0&&(rf(e,n),Xo(n,null,null,r),Yo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,Ke,o)):(o=f.cache,Ps(n,Ke,o),o!==h.cache&&Zh(n,[Ke],r,!0))),fn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function as(e){e.flags|=4}function zf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Cy())e.flags|=8192;else throw Gr=Ou,nf}else e.flags&=-16777217}function ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Cy())e.flags|=8192;else throw Gr=Ou,nf}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,za|=n)}function el(e,n){if(!Wt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function Tb(e,n,r){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(n),null;case 1:return Ae(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ns(Ke),et(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ca(n)?as(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),Ae(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(as(n),f!==null?(Ae(n),ey(n,f)):(Ae(n),zf(n,h,null,o,r))):f?f!==e.memoizedState?(as(n),Ae(n),ey(n,f)):(Ae(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&as(n),Ae(n),zf(n,h,e,o,r)),null;case 27:if(St(n),r=Nt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Ae(n),null}e=ut.current,Ca(n)?Vg(n):(e=l_(h,o,r),n.stateNode=e,as(n))}return Ae(n),null;case 5:if(St(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Ae(n),null}if(f=ut.current,Ca(n))Vg(n);else{var y=cc(Nt.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Fe]=n,f[sn]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(dn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&as(n)}}return Ae(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&as(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Nt.current,Ca(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=cn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Fe]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Wy(e.nodeValue,r)),e||Ls(n,!0)}else e=cc(e).createTextNode(o),e[Fe]=n,n.stateNode=e}return Ae(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ca(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Fe]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ae(n),e=!1}else r=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ae(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ca(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Fe]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ae(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Xu(n,n.updateQueue),Ae(n),null);case 4:return et(),e===null&&ld(n.stateNode.containerInfo),Ae(n),null;case 10:return ns(n.type),Ae(n),null;case 19:if(K(je),o=n.memoizedState,o===null)return Ae(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)xg(r,e),r=r.sibling;return st(je,je.current&1|2),Wt&&ts(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Jt()>tc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Wt)return Ae(n),null}else 2*Jt()-o.renderingStartTime>tc&&r!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Jt(),e.sibling=null,r=je.current,st(je,h?r&1|2:r&1),Wt&&ts(n,o.treeForkCount),e):(Ae(n),null);case 22:case 23:return jn(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Ae(n),n.subtreeFlags&6&&(n.flags|=8192)):Ae(n),r=n.updateQueue,r!==null&&Xu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(Hr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ns(Ke),Ae(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function bb(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ns(Ke),et(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return St(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(jn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(je),null;case 4:return et(),null;case 10:return ns(n.type),null;case 22:case 23:return jn(n),uf(),e!==null&&K(Hr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ns(Ke),null;case 25:return null;default:return null}}function ny(e,n){switch(Kh(n),n.tag){case 3:ns(Ke),et();break;case 26:case 27:case 5:St(n);break;case 4:et();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:K(je);break;case 10:ns(n.type);break;case 22:case 23:jn(n),uf(),e!==null&&K(Hr);break;case 24:ns(Ke)}}function nl(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,y=r.inst;o=f(),y.destroy=o}r=r.next}while(r!==h)}}catch(E){de(n,n.return,E)}}function Hs(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var x=r,j=E;try{j()}catch(Q){de(h,x,Q)}}}o=o.next}while(o!==f)}}catch(Q){de(n,n.return,Q)}}function iy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Kg(n,r)}catch(o){de(e,e.return,o)}}}function sy(e,n,r){r.props=Yr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){de(e,n,o)}}function il(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){de(e,n,h)}}function Ui(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){de(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){de(e,n,h)}else r.current=null}function ry(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){de(e,e.return,h)}}function Bf(e,n,r){try{var o=e.stateNode;Fb(o,e.type,r,n),o[sn]=n}catch(h){de(e,e.return,h)}}function ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$s(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$s(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oi));else if(o!==4&&(o===27&&$s(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,r),e=e.sibling;e!==null;)Hf(e,n,r),e=e.sibling}function $u(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&$s(e.type)&&(r=e.stateNode),e=e.child,e!==null))for($u(e,n,r),e=e.sibling;e!==null;)$u(e,n,r),e=e.sibling}function oy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);dn(n,o,r),n[Fe]=e,n[sn]=r}catch(f){de(e,e.return,f)}}var os=!1,$e=!1,Ff=!1,ly=typeof WeakSet=="function"?WeakSet:Set,an=null;function Sb(e,n){if(e=e.containerInfo,hd=yc,e=Eg(e),Lh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,x=-1,j=0,Q=0,$=e,z=null;e:for(;;){for(var H;$!==r||h!==0&&$.nodeType!==3||(E=y+h),$!==f||o!==0&&$.nodeType!==3||(x=y+o),$.nodeType===3&&(y+=$.nodeValue.length),(H=$.firstChild)!==null;)z=$,$=H;for(;;){if($===e)break e;if(z===r&&++j===h&&(E=y),z===f&&++Q===o&&(x=y),(H=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=H}r=E===-1||x===-1?null:{start:E,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(fd={focusedElem:e,selectionRange:r},yc=!1,an=n;an!==null;)if(n=an,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,an=e;else for(;an!==null;){switch(n=an,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ht=Yr(r.type,h);e=o.getSnapshotBeforeUpdate(ht,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(wt){de(r,r.return,wt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)gd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,an=e;break}an=n.return}}function uy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:us(e,r),o&4&&nl(5,r);break;case 1:if(us(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(y){de(r,r.return,y)}else{var h=Yr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){de(r,r.return,y)}}o&64&&iy(r),o&512&&il(r,r.return);break;case 3:if(us(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Kg(e,n)}catch(y){de(r,r.return,y)}}break;case 27:n===null&&o&4&&oy(r);case 26:case 5:us(e,r),n===null&&o&4&&ry(r),o&512&&il(r,r.return);break;case 12:us(e,r);break;case 31:us(e,r),o&4&&fy(e,r);break;case 13:us(e,r),o&4&&dy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Ob.bind(null,r),Zb(e,r))));break;case 22:if(o=r.memoizedState!==null||os,!o){n=n!==null&&n.memoizedState!==null||$e,h=os;var f=$e;os=o,($e=n)&&!f?cs(e,r,(r.subtreeFlags&8772)!==0):us(e,r),os=h,$e=f}break;case 30:break;default:us(e,r)}}function cy(e){var n=e.alternate;n!==null&&(e.alternate=null,cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ca(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xe=null,Cn=!1;function ls(e,n,r){for(r=r.child;r!==null;)hy(e,n,r),r=r.sibling}function hy(e,n,r){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(ve,r)}catch{}switch(r.tag){case 26:$e||Ui(r,n),ls(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:$e||Ui(r,n);var o=xe,h=Cn;$s(r.type)&&(xe=r.stateNode,Cn=!1),ls(e,n,r),fl(r.stateNode),xe=o,Cn=h;break;case 5:$e||Ui(r,n);case 6:if(o=xe,h=Cn,xe=null,ls(e,n,r),xe=o,Cn=h,xe!==null)if(Cn)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(r.stateNode)}catch(f){de(r,n,f)}else try{xe.removeChild(r.stateNode)}catch(f){de(r,n,f)}break;case 18:xe!==null&&(Cn?(e=xe,i_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ya(e)):i_(xe,r.stateNode));break;case 4:o=xe,h=Cn,xe=r.stateNode.containerInfo,Cn=!0,ls(e,n,r),xe=o,Cn=h;break;case 0:case 11:case 14:case 15:Hs(2,r,n),$e||Hs(4,r,n),ls(e,n,r);break;case 1:$e||(Ui(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&sy(r,n,o)),ls(e,n,r);break;case 21:ls(e,n,r);break;case 22:$e=(o=$e)||r.memoizedState!==null,ls(e,n,r),$e=o;break;default:ls(e,n,r)}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ya(e)}catch(r){de(n,n.return,r)}}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ya(e)}catch(r){de(n,n.return,r)}}function Ab(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var r=Ab(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=Mb.bind(null,e,o);o.then(h,h)}})}function In(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if($s(E.type)){xe=E.stateNode,Cn=!1;break t}break;case 5:xe=E.stateNode,Cn=!1;break t;case 3:case 4:xe=E.stateNode.containerInfo,Cn=!0;break t}E=E.return}if(xe===null)throw Error(a(160));hy(f,y,h),xe=null,Cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)my(n,e),n=n.sibling}var di=null;function my(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:In(n,e),xn(e),o&4&&(Hs(3,e,e.return),nl(3,e),Hs(5,e,e.return));break;case 1:In(n,e),xn(e),o&512&&($e||r===null||Ui(r,r.return)),o&64&&os&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=di;if(In(n,e),xn(e),o&512&&($e||r===null||Ui(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[Fe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),dn(f,o,r),f[Fe]=e,Ge(f),o=f;break t;case"link":var y=m_("link","href",h).get(o+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),dn(f,o,r),h.head.appendChild(f);break;case"meta":if(y=m_("meta","content",h).get(o+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=h.createElement(o),dn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Fe]=e,Ge(f),o=f}e.stateNode=o}else g_(h,e.type,e.stateNode);else e.stateNode=d_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?g_(h,e.type,e.stateNode):d_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,r.memoizedProps)}break;case 27:In(n,e),xn(e),o&512&&($e||r===null||Ui(r,r.return)),r!==null&&o&4&&Bf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(In(n,e),xn(e),o&512&&($e||r===null||Ui(r,r.return)),e.flags&32){h=e.stateNode;try{Rn(h,"")}catch(ht){de(e,e.return,ht)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Ff=!0);break;case 6:if(In(n,e),xn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ht){de(e,e.return,ht)}}break;case 3:if(dc=null,h=di,di=hc(n.containerInfo),In(n,e),di=h,xn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ya(n.containerInfo)}catch(ht){de(e,e.return,ht)}Ff&&(Ff=!1,gy(e));break;case 4:o=di,di=hc(e.stateNode.containerInfo),In(n,e),xn(e),di=o;break;case 12:In(n,e),xn(e);break;case 31:In(n,e),xn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:In(n,e),xn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ju=Jt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,j=os,Q=$e;if(os=j||h,$e=Q||x,In(n,e),$e=Q,os=j,xn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||x||os||$e||Xr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){x=r=n;try{if(f=x.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=x.stateNode;var $=x.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ht){de(x,x.return,ht)}}}else if(n.tag===6){if(r===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ht){de(x,x.return,ht)}}}else if(n.tag===18){if(r===null){x=n;try{var H=x.stateNode;h?s_(H,!0):s_(x.stateNode,!1)}catch(ht){de(x,x.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Wu(e,r))));break;case 19:In(n,e),xn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:In(n,e),xn(e)}}function xn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(ay(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=qf(e);$u(e,f,h);break;case 5:var y=r.stateNode;r.flags&32&&(Rn(y,""),r.flags&=-33);var E=qf(e);$u(e,E,y);break;case 3:case 4:var x=r.stateNode.containerInfo,j=qf(e);Hf(e,j,x);break;default:throw Error(a(161))}}catch(Q){de(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function us(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)uy(e,n.alternate,n),n=n.sibling}function Xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Hs(4,n,n.return),Xr(n);break;case 1:Ui(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sy(n,n.return,r),Xr(n);break;case 27:fl(n.stateNode);case 26:case 5:Ui(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}e=e.sibling}}function cs(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,r),nl(4,f);break;case 1:if(cs(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){de(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Qg(x[h],E)}catch(j){de(o,o.return,j)}}r&&y&64&&iy(f),il(f,f.return);break;case 27:oy(f);case 26:case 5:cs(h,f,r),r&&o===null&&y&4&&ry(f),il(f,f.return);break;case 12:cs(h,f,r);break;case 31:cs(h,f,r),r&&y&4&&fy(h,f);break;case 13:cs(h,f,r),r&&y&4&&dy(h,f);break;case 22:f.memoizedState===null&&cs(h,f,r),il(f,f.return);break;case 30:break;default:cs(h,f,r)}n=n.sibling}}function Gf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ho(r))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function mi(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,r,o),n=n.sibling}function py(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:mi(e,n,r,o),h&2048&&nl(9,n);break;case 1:mi(e,n,r,o);break;case 3:mi(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){mi(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){de(n,n.return,x)}}else mi(e,n,r,o);break;case 31:mi(e,n,r,o);break;case 13:mi(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?mi(e,n,r,o):sl(e,n):f._visibility&2?mi(e,n,r,o):(f._visibility|=2,Pa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(y,n);break;case 24:mi(e,n,r,o),h&2048&&Qf(n.alternate,n);break;default:mi(e,n,r,o)}}function Pa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=r,x=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:Pa(f,y,E,x,h),nl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Pa(f,y,E,x,h):sl(f,y):(Q._visibility|=2,Pa(f,y,E,x,h)),h&&j&2048&&Gf(y.alternate,y);break;case 24:Pa(f,y,E,x,h),h&&j&2048&&Qf(y.alternate,y);break;default:Pa(f,y,E,x,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:sl(r,o),h&2048&&Gf(o.alternate,o);break;case 24:sl(r,o),h&2048&&Qf(o.alternate,o);break;default:sl(r,o)}n=n.sibling}}var rl=8192;function Ua(e,n,r){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)yy(e,n,r),e=e.sibling}function yy(e,n,r){switch(e.tag){case 26:Ua(e,n,r),e.flags&rl&&e.memoizedState!==null&&c1(r,di,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,n,r);break;case 3:case 4:var o=di;di=hc(e.stateNode.containerInfo),Ua(e,n,r),di=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Ua(e,n,r),rl=o):Ua(e,n,r));break;default:Ua(e,n,r)}}function _y(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];an=o,Ey(o,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Hs(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):al(e);break;default:al(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];an=o,Ey(o,e)}_y(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Hs(8,n,n.return),Zu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function Ey(e,n){for(;an!==null;){var r=an;switch(r.tag){case 0:case 11:case 15:Hs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,an=o;else t:for(r=e;an!==null;){o=an;var h=o.sibling,f=o.return;if(cy(o),o===r){an=null;break t}if(h!==null){h.return=f,an=h;break t}an=f}}}var wb={getCacheForType:function(e){var n=hn(Ke),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return hn(Ke).controller.signal}},Rb=typeof WeakMap=="function"?WeakMap:Map,oe=0,Ee=null,zt=null,Ht=0,fe=0,zn=null,Fs=!1,ja=!1,Kf=!1,hs=0,ke=0,Gs=0,$r=0,Yf=0,Bn=0,za=0,ol=null,Nn=null,Xf=!1,Ju=0,Ty=0,tc=1/0,ec=null,Qs=null,Je=0,Ks=null,Ba=null,fs=0,$f=0,Wf=null,by=null,ll=0,Zf=null;function qn(){return(oe&2)!==0&&Ht!==0?Ht&-Ht:G.T!==null?sd():nu()}function Sy(){if(Bn===0)if((Ht&536870912)===0||Wt){var e=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Bn=e}else Bn=536870912;return e=Un.current,e!==null&&(e.flags|=32),Bn}function Dn(e,n,r){(e===Ee&&(fe===2||fe===9)||e.cancelPendingCommit!==null)&&(qa(e,0),Ys(e,Ht,Bn,!1)),Ar(e,r),((oe&2)===0||e!==Ee)&&(e===Ee&&((oe&2)===0&&($r|=r),ke===4&&Ys(e,Ht,Bn,!1)),ji(e))}function Ay(e,n,r){if((oe&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||si(e,n),h=o?xb(e,n):td(e,n,!0),f=o;do{if(h===0){ja&&!o&&Ys(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!Cb(r)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=ol;var x=E.current.memoizedState.isDehydrated;if(x&&(qa(E,y).flags|=256),y=td(E,y,!1),y!==2){if(Kf&&!x){E.errorRecoveryDisabledLanes|=f,$r|=f,h=4;break t}f=Nn,Nn=h,f!==null&&(Nn===null?Nn=f:Nn.push.apply(Nn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){qa(e,0),Ys(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ys(o,n,Bn,!Fs);break t;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Ju+300-Jt(),10<h)){if(Ys(o,n,Bn,!Fs),Ti(o,0,!0)!==0)break t;fs=n,o.timeoutHandle=e_(wy.bind(null,o,r,Nn,ec,Xf,n,Bn,$r,za,Fs,f,"Throttled",-0,0),h);break t}wy(o,r,Nn,ec,Xf,n,Bn,$r,za,Fs,f,null,-0,0)}}break}while(!0);ji(e)}function wy(e,n,r,o,h,f,y,E,x,j,Q,$,z,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},yy(n,f,$);var ht=(f&62914560)===f?Ju-Jt():(f&4194048)===f?Ty-Jt():0;if(ht=h1($,ht),ht!==null){fs=f,e.cancelPendingCommit=ht(My.bind(null,e,n,f,r,o,h,y,E,x,Q,$,null,z,H)),Ys(e,f,y,!j);return}}My(e,n,f,r,o,h,y,E,x)}function Cb(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(e,n,r,o){n&=~Yf,n&=~$r,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ce(h),y=1<<f;o[f]=-1,h&=~y}r!==0&&wr(e,r,n)}function nc(){return(oe&6)===0?(ul(0),!1):!0}function Jf(){if(zt!==null){if(fe===0)var e=zt.return;else e=zt,es=Br=null,gf(e),Oa=null,Go=0,e=zt;for(;e!==null;)ny(e.alternate,e),e=e.return;zt=null}}function qa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Kb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),fs=0,Jf(),Ee=e,zt=r=Ji(e.current,null),Ht=n,fe=0,zn=null,Fs=!1,ja=si(e,n),Kf=!1,za=Bn=Yf=$r=Gs=ke=0,Nn=ol=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ce(o),f=1<<h;n|=e[h],o&=~f}return hs=n,Su(),r}function Ry(e,n){Pt=null,G.H=Jo,n===Da||n===Du?(n=qg(),fe=3):n===nf?(n=qg(),fe=4):fe=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,zt===null&&(ke=1,Gu(e,Xn(n,e.current)))}function Cy(){var e=Un.current;return e===null?!0:(Ht&4194048)===Ht?Jn===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?e===Jn:!1}function Iy(){var e=G.H;return G.H=Jo,e===null?Jo:e}function xy(){var e=G.A;return G.A=wb,e}function ic(){ke=4,Fs||(Ht&4194048)!==Ht&&Un.current!==null||(ja=!0),(Gs&134217727)===0&&($r&134217727)===0||Ee===null||Ys(Ee,Ht,Bn,!1)}function td(e,n,r){var o=oe;oe|=2;var h=Iy(),f=xy();(Ee!==e||Ht!==n)&&(ec=null,qa(e,n)),n=!1;var y=ke;t:do try{if(fe!==0&&zt!==null){var E=zt,x=zn;switch(fe){case 8:Jf(),y=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var j=fe;if(fe=0,zn=null,Ha(e,E,x,j),r&&ja){y=0;break t}break;default:j=fe,fe=0,zn=null,Ha(e,E,x,j)}}Ib(),y=ke;break}catch(Q){Ry(e,Q)}while(!0);return n&&e.shellSuspendCounter++,es=Br=null,oe=o,G.H=h,G.A=f,zt===null&&(Ee=null,Ht=0,Su()),y}function Ib(){for(;zt!==null;)Ny(zt)}function xb(e,n){var r=oe;oe|=2;var o=Iy(),h=xy();Ee!==e||Ht!==n?(ec=null,tc=Jt()+500,qa(e,n)):ja=si(e,n);t:do try{if(fe!==0&&zt!==null){n=zt;var f=zn;e:switch(fe){case 1:fe=0,zn=null,Ha(e,n,f,1);break;case 2:case 9:if(zg(f)){fe=0,zn=null,Dy(n);break}n=function(){fe!==2&&fe!==9||Ee!==e||(fe=7),ji(e)},f.then(n,n);break t;case 3:fe=7;break t;case 4:fe=5;break t;case 7:zg(f)?(fe=0,zn=null,Dy(n)):(fe=0,zn=null,Ha(e,n,f,7));break;case 5:var y=null;switch(zt.tag){case 26:y=zt.memoizedState;case 5:case 27:var E=zt;if(y?p_(y):E.stateNode.complete){fe=0,zn=null;var x=E.sibling;if(x!==null)zt=x;else{var j=E.return;j!==null?(zt=j,sc(j)):zt=null}break e}}fe=0,zn=null,Ha(e,n,f,5);break;case 6:fe=0,zn=null,Ha(e,n,f,6);break;case 8:Jf(),ke=6;break t;default:throw Error(a(462))}}Nb();break}catch(Q){Ry(e,Q)}while(!0);return es=Br=null,G.H=o,G.A=h,oe=r,zt!==null?0:(Ee=null,Ht=0,Su(),ke)}function Nb(){for(;zt!==null&&!re();)Ny(zt)}function Ny(e){var n=ty(e.alternate,e,hs);e.memoizedProps=e.pendingProps,n===null?sc(e):zt=n}function Dy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Yp(r,n,n.pendingProps,n.type,void 0,Ht);break;case 11:n=Yp(r,n,n.pendingProps,n.type.render,n.ref,Ht);break;case 5:gf(n);default:ny(r,n),n=zt=xg(n,hs),n=ty(r,n,hs)}e.memoizedProps=e.pendingProps,n===null?sc(e):zt=n}function Ha(e,n,r,o){es=Br=null,gf(n),Oa=null,Go=0;var h=n.return;try{if(_b(e,h,n,r,Ht)){ke=1,Gu(e,Xn(r,e.current)),zt=null;return}}catch(f){if(h!==null)throw zt=h,f;ke=1,Gu(e,Xn(r,e.current)),zt=null;return}n.flags&32768?(Wt||o===1?e=!0:ja||(Ht&536870912)!==0?e=!1:(Fs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Un.current,o!==null&&o.tag===13&&(o.flags|=16384))),Oy(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){Oy(n,Fs);return}e=n.return;var r=Tb(n.alternate,n,hs);if(r!==null){zt=r;return}if(n=n.sibling,n!==null){zt=n;return}zt=n=e}while(n!==null);ke===0&&(ke=5)}function Oy(e,n){do{var r=bb(e.alternate,e);if(r!==null){r.flags&=32767,zt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){zt=e;return}zt=e=r}while(e!==null);ke=6,zt=null}function My(e,n,r,o,h,f,y,E,x){e.cancelPendingCommit=null;do rc();while(Je!==0);if((oe&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(e,r,f,y,E,x),e===Ee&&(zt=Ee=null,Ht=0),Ba=n,Ks=e,fs=r,$f=f,Wf=h,by=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vb(ee,function(){return Uy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,y=oe,oe|=4;try{Sb(e,n,r)}finally{oe=y,nt.p=h,G.T=o}}Je=1,Vy(),ky(),Ly()}}function Vy(){if(Je===1){Je=0;var e=Ks,n=Ba,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=nt.p;nt.p=2;var h=oe;oe|=4;try{my(n,e);var f=fd,y=Eg(e.containerInfo),E=f.focusedElem,x=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&vg(E.ownerDocument.documentElement,E)){if(x!==null&&Lh(E)){var j=x.start,Q=x.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var H=z.getSelection(),ht=E.textContent.length,wt=Math.min(x.start,ht),ye=x.end===void 0?wt:Math.min(x.end,ht);!H.extend&&wt>ye&&(y=ye,ye=wt,wt=y);var k=_g(E,wt),O=_g(E,ye);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var U=$.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),wt>ye?(H.addRange(U),H.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),H.addRange(U))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}yc=!!hd,fd=hd=null}finally{oe=h,nt.p=o,G.T=r}}e.current=n,Je=2}}function ky(){if(Je===2){Je=0;var e=Ks,n=Ba,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=nt.p;nt.p=2;var h=oe;oe|=4;try{uy(e,n.alternate,n)}finally{oe=h,nt.p=o,G.T=r}}Je=3}}function Ly(){if(Je===4||Je===3){Je=0,ne();var e=Ks,n=Ba,r=fs,o=by;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Je=5:(Je=0,Ba=Ks=null,Py(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Qs=null),Xi(r),n=n.stateNode,ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(ve,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=h}}(fs&3)!==0&&rc(),ji(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Zf?ll++:(ll=0,Zf=e):ll=0,ul(0)}}function Py(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function rc(){return Vy(),ky(),Ly(),Uy()}function Uy(){if(Je!==5)return!1;var e=Ks,n=$f;$f=0;var r=Xi(fs),o=G.T,h=nt.p;try{nt.p=32>r?32:r,G.T=null,r=Wf,Wf=null;var f=Ks,y=fs;if(Je=0,Ba=Ks=null,fs=0,(oe&6)!==0)throw Error(a(331));var E=oe;if(oe|=4,vy(f.current),py(f,f.current,y,r),oe=E,ul(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(ve,f)}catch{}return!0}finally{nt.p=h,G.T=o,Py(e,n)}}function jy(e,n,r){n=Xn(r,n),n=Nf(e.stateNode,n,2),e=zs(e,n,2),e!==null&&(Ar(e,2),ji(e))}function de(e,n,r){if(e.tag===3)jy(e,e,r);else for(;n!==null;){if(n.tag===3){jy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Qs===null||!Qs.has(o))){e=Xn(r,e),r=zp(2),o=zs(n,r,2),o!==null&&(Bp(r,o,n,e),Ar(o,2),ji(o));break}}n=n.return}}function ed(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Rb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Kf=!0,h.add(r),e=Db.bind(null,e,n,r),n.then(e,e))}function Db(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ee===e&&(Ht&r)===r&&(ke===4||ke===3&&(Ht&62914560)===Ht&&300>Jt()-Ju?(oe&2)===0&&qa(e,0):Yf|=r,za===Ht&&(za=0)),ji(e)}function zy(e,n){n===0&&(n=eu()),e=Ur(e,n),e!==null&&(Ar(e,n),ji(e))}function Ob(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),zy(e,r)}function Mb(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),zy(e,r)}function Vb(e,n){return At(e,n)}var ac=null,Fa=null,nd=!1,oc=!1,id=!1,Xs=0;function ji(e){e!==Fa&&e.next===null&&(Fa===null?ac=Fa=e:Fa=Fa.next=e),oc=!0,nd||(nd=!0,Lb())}function ul(e,n){if(!id&&oc){id=!0;do for(var r=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ce(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Fy(o,f))}else f=Ht,f=Ti(o,o===Ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||si(o,f)||(r=!0,Fy(o,f));o=o.next}while(r);id=!1}}function kb(){By()}function By(){oc=nd=!1;var e=0;Xs!==0&&Qb()&&(e=Xs);for(var n=Jt(),r=null,o=ac;o!==null;){var h=o.next,f=qy(o,n);f===0?(o.next=null,r===null?ac=h:r.next=h,h===null&&(Fa=r)):(r=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}Je!==0&&Je!==5||ul(e),Xs!==0&&(Xs=0)}function qy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Ce(f),E=1<<y,x=h[y];x===-1?((E&r)===0||(E&o)!==0)&&(h[y]=Dh(E,n)):x<=n&&(e.expiredLanes|=E),f&=~E}if(n=Ee,r=Ht,r=Ti(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(fe===2||fe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&$t(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||si(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&$t(o),Xi(r)){case 2:case 8:r=Ot;break;case 32:r=ee;break;case 268435456:r=Le;break;default:r=ee}return o=Hy.bind(null,e),r=At(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&$t(o),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,n){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(rc()&&e.callbackNode!==r)return null;var o=Ht;return o=Ti(e,e===Ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ay(e,o,n),qy(e,Jt()),e.callbackNode!=null&&e.callbackNode===r?Hy.bind(null,e):null)}function Fy(e,n){if(rc())return null;Ay(e,n,!0)}function Lb(){Yb(function(){(oe&6)!==0?At(be,kb):By()})}function sd(){if(Xs===0){var e=xa;e===0&&(e=vi,vi<<=1,(vi&261888)===0&&(vi=256)),Xs=e}return Xs}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ma(""+e)}function Qy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Pb(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Gy((h[sn]||null).action),y=o.submitter;y&&(n=(n=y[sn]||null)?Gy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Oi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xs!==0){var x=y?Qy(h,y):new FormData(h);Af(r,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=y?Qy(h,y):new FormData(h),Af(r,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var rd=0;rd<zh.length;rd++){var ad=zh[rd],Ub=ad.toLowerCase(),jb=ad[0].toUpperCase()+ad.slice(1);fi(Ub,"on"+jb)}fi(Sg,"onAnimationEnd"),fi(Ag,"onAnimationIteration"),fi(wg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(eb,"onTransitionRun"),fi(nb,"onTransitionStart"),fi(ib,"onTransitionCancel"),fi(Rg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function Ky(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){bu(Q)}h.currentTarget=null,f=x}else for(y=0;y<o.length;y++){if(E=o[y],x=E.instance,j=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){bu(Q)}h.currentTarget=null,f=x}}}}function Bt(e,n){var r=n[ua];r===void 0&&(r=n[ua]=new Set);var o=e+"__bubble";r.has(o)||(Yy(n,e,2,!1),r.add(o))}function od(e,n,r){var o=0;n&&(o|=4),Yy(r,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[lc]){e[lc]=!0,bo.forEach(function(r){r!=="selectionchange"&&(zb.has(r)||od(r,!1,e),od(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,od("selectionchange",!1,n))}}function Yy(e,n,r,o){switch(S_(n)){case 2:var h=m1;break;case 8:h=g1;break;default:h=Sd}r=h.bind(null,n,r,e),h=void 0,!Nr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ud(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var x=y.tag;if((x===3||x===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=wi(E),y===null)return;if(x=y.tag,x===5||x===6||x===26||x===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Ns(function(){var j=f,Q=Gn(r),$=[];t:{var z=Cg.get(e);if(z!==void 0){var H=Oi,ht=e;switch(e){case"keypress":if(Or(r)===0)break t;case"keydown":case"keyup":H=vu;break;case"focusin":ht="focus",H=Vr;break;case"focusout":ht="blur",H=Vr;break;case"beforeblur":case"afterblur":H=Vr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Sg:case Ag:case wg:H=fu;break;case Rg:H=S;break;case"scroll":case"scrollend":H=Vo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Zi;break;case"toggle":case"beforetoggle":H=Lt}var wt=(n&4)!==0,ye=!wt&&(e==="scroll"||e==="scrollend"),k=wt?z!==null?z+"Capture":null:z;wt=[];for(var O=j,U;O!==null;){var Y=O;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||k===null||(Y=li(O,k),Y!=null&&wt.push(hl(O,Y,U))),ye)break;O=O.return}0<wt.length&&(z=new H(z,ht,null,r,Q),$.push({event:z,listeners:wt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&r!==Do&&(ht=r.relatedTarget||r.fromElement)&&(wi(ht)||ht[Si]))break t;if((H||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ht=r.relatedTarget||r.toElement,H=j,ht=ht?wi(ht):null,ht!==null&&(ye=c(ht),wt=ht.tag,ht!==ye||wt!==5&&wt!==27&&wt!==6)&&(ht=null)):(H=null,ht=j),H!==ht)){if(wt=ko,Y="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(wt=Zi,Y="onPointerLeave",k="onPointerEnter",O="pointer"),ye=H==null?z:Vn(H),U=ht==null?z:Vn(ht),z=new wt(Y,O+"leave",H,r,Q),z.target=ye,z.relatedTarget=U,Y=null,wi(Q)===j&&(wt=new wt(k,O+"enter",ht,r,Q),wt.target=U,wt.relatedTarget=ye,Y=wt),ye=Y,H&&ht)e:{for(wt=Bb,k=H,O=ht,U=0,Y=k;Y;Y=wt(Y))U++;Y=0;for(var Et=O;Et;Et=wt(Et))Y++;for(;0<U-Y;)k=wt(k),U--;for(;0<Y-U;)O=wt(O),Y--;for(;U--;){if(k===O||O!==null&&k===O.alternate){wt=k;break e}k=wt(k),O=wt(O)}wt=null}else wt=null;H!==null&&Xy($,z,H,wt,!1),ht!==null&&ye!==null&&Xy($,ye,ht,wt,!0)}}t:{if(z=j?Vn(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var ie=fg;else if(cg(z))if(dg)ie=ZT;else{ie=$T;var mt=XT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&da(j.elementType)&&(ie=fg):ie=WT;if(ie&&(ie=ie(e,j))){hg($,ie,r,Q);break t}mt&&mt(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Io(z,"number",z.value)}switch(mt=j?Vn(j):window,e){case"focusin":(cg(mt)||mt.contentEditable==="true")&&(Ta=mt,Ph=j,zo=null);break;case"focusout":zo=Ph=Ta=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,Tg($,r,Q);break;case"selectionchange":if(tb)break;case"keydown":case"keyup":Tg($,r,Q)}var Ut;if(ae)t:{switch(e){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else Ea?kr(e,r)&&(Ft="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ft="onCompositionStart");Ft&&(ki&&r.locale!=="ko"&&(Ea||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Ea&&(Ut=Mo()):(Di=Q,Oo="value"in Di?Di.value:Di.textContent,Ea=!0)),mt=uc(j,Ft),0<mt.length&&(Ft=new Vi(Ft,e,null,r,Q),$.push({event:Ft,listeners:mt}),Ut?Ft.data=Ut:(Ut=va(r),Ut!==null&&(Ft.data=Ut)))),(Ut=Kn?GT(e,r):QT(e,r))&&(Ft=uc(j,"onBeforeInput"),0<Ft.length&&(mt=new Vi("onBeforeInput","beforeinput",null,r,Q),$.push({event:mt,listeners:Ft}),mt.data=Ut)),Pb($,e,j,r,Q)}Ky($,n)})}function hl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function uc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=li(e,r),h!=null&&o.unshift(hl(e,h,f)),h=li(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Bb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xy(e,n,r,o,h){for(var f=n._reactName,y=[];r!==null&&r!==o;){var E=r,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=li(r,f),j!=null&&y.unshift(hl(r,j,x))):h||(j=li(r,f),j!=null&&y.push(hl(r,j,x)))),r=r.return}y.length!==0&&e.push({event:n,listeners:y})}var qb=/\r\n?/g,Hb=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(qb,`
`).replace(Hb,"")}function Wy(e,n){return n=$y(n),$y(e)===n}function pe(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Rn(e,""+o);break;case"className":kn(e,"class",o);break;case"tabIndex":kn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(e,r,o);break;case"style":No(e,o,f);break;case"data":if(n!=="object"){kn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ma(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&pe(e,n,"name",h.name,h,null),pe(e,n,"formEncType",h.formEncType,h,null),pe(e,n,"formMethod",h.formMethod,h,null),pe(e,n,"formTarget",h.formTarget,h,null)):(pe(e,n,"encType",h.encType,h,null),pe(e,n,"method",h.method,h,null),pe(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ma(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=oi);break;case"onScroll":o!=null&&Bt("scroll",e);break;case"onScrollEnd":o!=null&&Bt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ma(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Bt("beforetoggle",e),Bt("toggle",e),ha(e,"popover",o);break;case"xlinkActuate":Qe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Qe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Qe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Qe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Qe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Qe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Qe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Qe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Qe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ha(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=uu.get(r)||r,ha(e,r,o))}}function cd(e,n,r,o,h,f){switch(r){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Rn(e,o):(typeof o=="number"||typeof o=="bigint")&&Rn(e,""+o);break;case"onScroll":o!=null&&Bt("scroll",e);break;case"onScrollEnd":o!=null&&Bt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[sn]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ha(e,r,o)}}}function dn(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",e),Bt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:pe(e,n,f,y,r,null)}}h&&pe(e,n,"srcSet",r.srcSet,r,null),o&&pe(e,n,"src",r.src,r,null);return;case"input":Bt("invalid",e);var E=f=y=h=null,x=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var Q=r[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":y=Q;break;case"checked":x=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:pe(e,n,o,Q,r,null)}}au(e,f,E,x,j,y,h,!1);return;case"select":Bt("invalid",e),o=y=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:pe(e,n,h,E,r,null)}n=f,r=y,e.multiple=!!o,n!=null?Rs(e,!!o,n,!1):r!=null&&Rs(e,!!o,r,!0);return;case"textarea":Bt("invalid",e),f=h=o=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:pe(e,n,y,E,r,null)}Cs(e,o,h,f);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(o=r[x],o!=null))switch(x){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:pe(e,n,x,o,r,null)}return;case"dialog":Bt("beforetoggle",e),Bt("toggle",e),Bt("cancel",e),Bt("close",e);break;case"iframe":case"object":Bt("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)Bt(cl[o],e);break;case"image":Bt("error",e),Bt("load",e);break;case"details":Bt("toggle",e);break;case"embed":case"source":case"link":Bt("error",e),Bt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:pe(e,n,j,o,r,null)}return;default:if(da(n)){for(Q in r)r.hasOwnProperty(Q)&&(o=r[Q],o!==void 0&&cd(e,n,Q,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&pe(e,n,E,o,r,null))}function Fb(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,x=null,j=null,Q=null;for(H in r){var $=r[H];if(r.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=$;default:o.hasOwnProperty(H)||pe(e,n,H,null,o,$)}}for(var z in o){var H=o[z];if($=r[z],o.hasOwnProperty(z)&&(H!=null||$!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":Q=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&pe(e,n,z,H,o,$)}}fa(e,y,E,x,j,Q,f,h);return;case"select":H=y=E=z=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":H=x;default:o.hasOwnProperty(f)||pe(e,n,f,null,o,x)}for(h in o)if(f=o[h],x=r[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==x&&pe(e,n,h,f,o,x)}n=E,r=y,o=H,z!=null?Rs(e,!!r,z,!1):!!o!=!!r&&(n!=null?Rs(e,!!r,n,!0):Rs(e,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:pe(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=r[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&pe(e,n,y,h,o,f)}ou(e,z,H);return;case"option":for(var ht in r)if(z=r[ht],r.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:pe(e,n,ht,null,o,z)}for(x in o)if(z=o[x],H=r[x],o.hasOwnProperty(x)&&z!==H&&(z!=null||H!=null))switch(x){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:pe(e,n,x,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in r)z=r[wt],r.hasOwnProperty(wt)&&z!=null&&!o.hasOwnProperty(wt)&&pe(e,n,wt,null,o,z);for(j in o)if(z=o[j],H=r[j],o.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:pe(e,n,j,z,o,H)}return;default:if(da(n)){for(var ye in r)z=r[ye],r.hasOwnProperty(ye)&&z!==void 0&&!o.hasOwnProperty(ye)&&cd(e,n,ye,void 0,o,z);for(Q in o)z=o[Q],H=r[Q],!o.hasOwnProperty(Q)||z===H||z===void 0&&H===void 0||cd(e,n,Q,z,o,H);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&pe(e,n,k,null,o,z);for($ in o)z=o[$],H=r[$],!o.hasOwnProperty($)||z===H||z==null&&H==null||pe(e,n,$,z,o,H)}function Zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&Zy(y)){for(y=0,E=h.responseEnd,o+=1;o<r.length;o++){var x=r[o],j=x.startTime;if(j>E)break;var Q=x.transferSize,$=x.initiatorType;Q&&Zy($)&&(x=x.responseEnd,y+=Q*(x<E?1:(E-j)/(x-j)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function Qb(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,Kb=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,Yb=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(e){return n_.resolve(null).then(e).catch(Xb)}:e_;function Xb(e){setTimeout(function(){throw e})}function $s(e){return e==="head"}function i_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ya(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")fl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,fl(r);for(var f=r.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&fl(e.ownerDocument.body);r=h}while(r);Ya(n)}function s_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gd(r),ca(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function $b(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ti(e.nextSibling),e===null)break}return null}function Wb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=ti(e.nextSibling),e===null))return null;return e}function r_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ti(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Zb(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ti(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function a_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return ti(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function o_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,r){switch(n=cc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ca(e)}var ei=new Map,u_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ds=nt.d;nt.d={f:Jb,r:t1,D:e1,C:n1,L:i1,m:s1,X:a1,S:r1,M:o1};function Jb(){var e=ds.f(),n=nc();return e||n}function t1(e){var n=Fn(e);n!==null&&n.tag===5&&n.type==="form"?Rp(n):ds.r(e)}var Ga=typeof document>"u"?null:document;function c_(e,n,r){var o=Ga;if(o&&typeof n=="string"&&n){var h=wn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),u_.has(h)||(u_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),dn(n,"link",e),Ge(n),o.head.appendChild(n)))}}function e1(e){ds.D(e),c_("dns-prefetch",e,null)}function n1(e,n){ds.C(e,n),c_("preconnect",e,n)}function i1(e,n,r){ds.L(e,n,r);var o=Ga;if(o&&e&&n){var h='link[rel="preload"][as="'+wn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+wn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+wn(r.imageSizes)+'"]')):h+='[href="'+wn(e)+'"]';var f=h;switch(n){case"style":f=Qa(e);break;case"script":f=Ka(e)}ei.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),ei.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),dn(n,"link",e),Ge(n),o.head.appendChild(n)))}}function s1(e,n){ds.m(e,n);var r=Ga;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+wn(o)+'"][href="'+wn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(e)}if(!ei.has(f)&&(e=A({rel:"modulepreload",href:e},n),ei.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ml(f)))return}o=r.createElement("link"),dn(o,"link",e),Ge(o),r.head.appendChild(o)}}}function r1(e,n,r){ds.S(e,n,r);var o=Ga;if(o&&e){var h=Ri(o).hoistableStyles,f=Qa(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(dl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=ei.get(f))&&vd(e,r);var x=y=o.createElement("link");Ge(x),dn(x,"link",e),x._p=new Promise(function(j,Q){x.onload=j,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function a1(e,n){ds.X(e,n);var r=Ga;if(r&&e){var o=Ri(r).hoistableScripts,h=Ka(e),f=o.get(h);f||(f=r.querySelector(ml(h)),f||(e=A({src:e,async:!0},n),(n=ei.get(h))&&Ed(e,n),f=r.createElement("script"),Ge(f),dn(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function o1(e,n){ds.M(e,n);var r=Ga;if(r&&e){var o=Ri(r).hoistableScripts,h=Ka(e),f=o.get(h);f||(f=r.querySelector(ml(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=ei.get(h))&&Ed(e,n),f=r.createElement("script"),Ge(f),dn(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function h_(e,n,r,o){var h=(h=Nt.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Qa(r.href),r=Ri(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Qa(r.href);var f=Ri(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(dl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),ei.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ei.set(e,r),f||l1(h,e,r,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ka(r),r=Ri(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Qa(e){return'href="'+wn(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function f_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function l1(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),dn(n,"link",r),Ge(n),e.head.appendChild(n))}function Ka(e){return'[src="'+wn(e)+'"]'}function ml(e){return"script[async]"+e}function d_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+wn(r.href)+'"]');if(o)return n.instance=o,Ge(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ge(o),dn(o,"style",h),fc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Qa(r.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Ge(f),f;o=f_(r),(h=ei.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),Ge(f);var y=f;return y._p=new Promise(function(E,x){y.onload=E,y.onerror=x}),dn(f,"link",o),n.state.loading|=4,fc(f,r.precedence,e),n.instance=f;case"script":return f=Ka(r.src),(h=e.querySelector(ml(f)))?(n.instance=h,Ge(h),h):(o=r,(h=ei.get(f))&&(o=A({},r),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ge(h),dn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,r.precedence,e));return n.instance}function fc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function m_(e,n,r){if(dc===null){var o=new Map,h=dc=new Map;h.set(r,o)}else h=dc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[Ai]||f[Fe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function g_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function u1(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function c1(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Qa(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ge(f);return}f=n.ownerDocument||n,o=f_(o),(h=ei.get(h))&&vd(o,h),f=f.createElement("link"),Ge(f);var y=f;y._p=new Promise(function(E,x){y.onload=E,y.onerror=x}),dn(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=mc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Td=0;function h1(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*Gb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(f1,e),gc=null,mc.call(e))}function f1(e,n){if(!(n.state.loading&4)){var r=gc.get(e);if(r)var o=r.get(null);else{r=new Map,gc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=r.get(y)||o,f===o&&r.set(null,h),r.set(y,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function d1(e,n,r,o,h,f,y,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function y_(e,n,r,o,h,f,y,E,x,j,Q,$){return e=new d1(e,n,r,y,x,j,Q,$,E),n=1,f===!0&&(n|=24),f=Pn(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},sf(f),e}function __(e){return e?(e=Aa,e):Aa}function v_(e,n,r,o,h,f){h=__(h),o.context===null?o.context=h:o.pendingContext=h,o=js(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=zs(e,o,n),r!==null&&(Dn(r,e,n),Ko(r,e,n))}function E_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function bd(e,n){E_(e,n),(e=e.alternate)&&E_(e,n)}function T_(e){if(e.tag===13||e.tag===31){var n=Ur(e,67108864);n!==null&&Dn(n,e,67108864),bd(e,67108864)}}function b_(e){if(e.tag===13||e.tag===31){var n=qn();n=Rr(n);var r=Ur(e,n);r!==null&&Dn(r,e,n),bd(e,n)}}var yc=!0;function m1(e,n,r,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,Sd(e,n,r,o)}finally{nt.p=f,G.T=h}}function g1(e,n,r,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,Sd(e,n,r,o)}finally{nt.p=f,G.T=h}}function Sd(e,n,r,o){if(yc){var h=Ad(o);if(h===null)ud(e,n,o,_c,r),A_(e,o);else if(y1(h,e,n,r,o))o.stopPropagation();else if(A_(e,o),n&4&&-1<p1.indexOf(e)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Ei(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var x=1<<31-Ce(y);E.entanglements[1]|=x,y&=~x}ji(f),(oe&6)===0&&(tc=Jt()+500,ul(0))}}break;case 31:case 13:E=Ur(f,2),E!==null&&Dn(E,f,2),nc(),bd(f,2)}if(f=Ad(o),f===null&&ud(e,n,o,_c,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,r)}}function Ad(e){return e=Gn(e),wd(e)}var _c=null;function wd(e){if(_c=null,e=wi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qe()){case be:return 2;case Ot:return 8;case ee:case De:return 32;case Le:return 268435456;default:return 32}default:return 32}}var Rd=!1,Ws=null,Zs=null,Js=null,pl=new Map,yl=new Map,tr=[],p1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(e,n){switch(e){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&T_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function y1(e,n,r,o,h){switch(n){case"focusin":return Ws=_l(Ws,e,n,r,o,h),!0;case"dragenter":return Zs=_l(Zs,e,n,r,o,h),!0;case"mouseover":return Js=_l(Js,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,_l(pl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,r,o,h)),!0}return!1}function w_(e){var n=wi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,ri(e.priority,function(){b_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,ri(e.priority,function(){b_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ad(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Do=o,r.target.dispatchEvent(o),Do=null}else return n=Fn(r),n!==null&&T_(n),e.blockedOn=r,!1;n.shift()}return!0}function R_(e,n,r){vc(e)&&r.delete(n)}function _1(){Rd=!1,Ws!==null&&vc(Ws)&&(Ws=null),Zs!==null&&vc(Zs)&&(Zs=null),Js!==null&&vc(Js)&&(Js=null),pl.forEach(R_),yl.forEach(R_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_1)))}var Tc=null;function C_(e){Tc!==e&&(Tc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||r)===null)continue;break}var f=Fn(r);f!==null&&(e.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ya(e){function n(x){return Ec(x,e)}Ws!==null&&Ec(Ws,e),Zs!==null&&Ec(Zs,e),Js!==null&&Ec(Js,e),pl.forEach(n),yl.forEach(n);for(var r=0;r<tr.length;r++){var o=tr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<tr.length&&(r=tr[0],r.blockedOn===null);)w_(r),r.blockedOn===null&&tr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],y=h[sn]||null;if(typeof f=="function")y||C_(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[sn]||null)E=y.formAction;else if(wd(h)!==null)continue}else E=y.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),C_(r)}}}function I_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}bc.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=qn();v_(r,o,e,n,null,null)},bc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;v_(e.current,2,null,e,null,null),nc(),n[Si]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<tr.length&&n!==0&&n<tr[r].priority;r++);tr.splice(r,0,e),r===0&&w_(e)}};var x_=t.version;if(x_!=="19.2.0")throw Error(a(527,x_,"19.2.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var v1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{ve=Sc.inject(v1),ce=Sc}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Lp,f=Pp,y=Up;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=y_(e,1,!1,null,null,r,o,null,h,f,y,I_),e[Si]=n.current,ld(e),new Cd(n)},El.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Lp,y=Pp,E=Up,x=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),n=y_(e,1,!0,n,r??null,o,h,x,f,y,E,I_),n.context=__(null),r=n.current,o=qn(),o=Rr(o),h=js(o),h.callback=null,zs(r,h,o),r=o,n.current.lanes=r,Ar(n,r),ji(n),e[Si]=n.current,ld(e),new bc(n)},El.version="19.2.0",El}var j_;function N1(){if(j_)return Nd.exports;j_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Nd.exports=x1(),Nd.exports}var D1=N1();const O1=()=>{};var z_={};const yv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},M1=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},_v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,p=_?s[l+2]:0,T=c>>2,A=(c&3)<<4|g>>4;let N=(g&15)<<2|p>>6,B=p&63;_||(B=64,d||(N=64)),a.push(i[T],i[A],i[N],i[B])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(yv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):M1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const p=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||p==null||A==null)throw new V1;const N=c<<2|g>>4;if(a.push(N),p!==64){const B=g<<4&240|p>>2;if(a.push(B),A!==64){const F=p<<6&192|A;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class V1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k1=function(s){const t=yv(s);return _v.encodeByteArray(t,!0)},Hc=function(s){return k1(s).replace(/\./g,"")},vv=function(s){try{return _v.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function L1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const P1=()=>L1().__FIREBASE_DEFAULTS__,U1=()=>{if(typeof process>"u"||typeof z_>"u")return;const s=z_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},j1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&vv(s[1]);return t&&JSON.parse(t)},ch=()=>{try{return O1()||P1()||U1()||j1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ev=s=>ch()?.emulatorHosts?.[s],z1=s=>{const t=Ev(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Tv=()=>ch()?.config,bv=s=>ch()?.[`_${s}`];class B1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function mo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sv(s){return(await fetch(s,{credentials:"include"})).ok}function q1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Rl={};function H1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?s.emulator.push(t):s.prod.push(t);return s}function F1(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let B_=!1;function Av(s,t){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Rl[s]===t||Rl[s]||B_)return;Rl[s]=t;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=H1().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,B){N.setAttribute("width","24"),N.setAttribute("id",B),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function p(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{B_=!0,d()},N}function T(N,B){N.setAttribute("id",B),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=F1(a),B=i("text"),F=document.getElementById(B)||document.createElement("span"),tt=i("learnmore"),X=document.getElementById(tt)||document.createElement("a"),ft=i("preprendIcon"),Tt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const pt=N.element;g(pt),T(X,tt);const qt=p();_(Tt,ft),pt.append(Tt,F,X,qt),document.body.appendChild(pt)}c?(F.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function Q1(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function X1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $1(){const s=Tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function W1(){return!Q1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z1(){try{return typeof indexedDB=="object"}catch{return!1}}function J1(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const tS="FirebaseError";class Ts extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=tS,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?eS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ts(l,g,a)}}function eS(s,t){return s.replace(nS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const nS=/\{\$([^}]+)}/g;function iS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Jr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(q_(c)&&q_(d)){if(!Jr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function q_(s){return s!==null&&typeof s=="object"}function Hl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Tl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function bl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function sS(s,t){const i=new rS(s,t);return i.subscribe.bind(i)}class rS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");aS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Vd),l.error===void 0&&(l.error=Vd),l.complete===void 0&&(l.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Vd(){}function nn(s){return s&&s._delegate?s._delegate:s}class ta{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Wr="[DEFAULT]";class oS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new B1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uS(t))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Wr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wr){return this.instances.has(t)}getOptions(t=Wr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Wr){return this.component?this.component.multipleInstances?t:Wr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(s){return s===Wr?void 0:s}function uS(s){return s.instantiationMode==="EAGER"}class cS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new oS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Qt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Qt||(Qt={}));const hS={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},fS=Qt.INFO,dS={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},mS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=dS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tm{constructor(t){this.name=t,this._logLevel=fS,this._logHandler=mS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...t),this._logHandler(this,Qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...t),this._logHandler(this,Qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...t),this._logHandler(this,Qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...t),this._logHandler(this,Qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...t),this._logHandler(this,Qt.ERROR,...t)}}const gS=(s,t)=>t.some(i=>s instanceof i);let H_,F_;function pS(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yS(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wv=new WeakMap,Qd=new WeakMap,Rv=new WeakMap,kd=new WeakMap,bm=new WeakMap;function _S(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(lr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&wv.set(i,s)}).catch(()=>{}),bm.set(t,s),t}function vS(s){if(Qd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Qd.set(s,t)}let Kd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Qd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Rv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function ES(s){Kd=s(Kd)}function TS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Ld(this),t,...i);return Rv.set(a,t.sort?t.sort():[t]),lr(a)}:yS().includes(s)?function(...t){return s.apply(Ld(this),t),lr(wv.get(this))}:function(...t){return lr(s.apply(Ld(this),t))}}function bS(s){return typeof s=="function"?TS(s):(s instanceof IDBTransaction&&vS(s),gS(s,pS())?new Proxy(s,Kd):s)}function lr(s){if(s instanceof IDBRequest)return _S(s);if(kd.has(s))return kd.get(s);const t=bS(s);return t!==s&&(kd.set(s,t),bm.set(t,s)),t}const Ld=s=>bm.get(s);function SS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=lr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(lr(d.result),_.oldVersion,_.newVersion,lr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const AS=["get","getKey","getAll","getAllKeys","count"],wS=["put","add","delete","clear"],Pd=new Map;function G_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=wS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||AS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let p=_.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),l&&_.done]))[0]};return Pd.set(t,c),c}ES(s=>({...s,get:(t,i,a)=>G_(t,i)||s.get(t,i,a),has:(t,i)=>!!G_(t,i)||s.has(t,i)}));class RS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CS(s){return s.getComponent()?.type==="VERSION"}const Yd="@firebase/app",Q_="0.14.6";const ys=new Tm("@firebase/app"),IS="@firebase/app-compat",xS="@firebase/analytics-compat",NS="@firebase/analytics",DS="@firebase/app-check-compat",OS="@firebase/app-check",MS="@firebase/auth",VS="@firebase/auth-compat",kS="@firebase/database",LS="@firebase/data-connect",PS="@firebase/database-compat",US="@firebase/functions",jS="@firebase/functions-compat",zS="@firebase/installations",BS="@firebase/installations-compat",qS="@firebase/messaging",HS="@firebase/messaging-compat",FS="@firebase/performance",GS="@firebase/performance-compat",QS="@firebase/remote-config",KS="@firebase/remote-config-compat",YS="@firebase/storage",XS="@firebase/storage-compat",$S="@firebase/firestore",WS="@firebase/ai",ZS="@firebase/firestore-compat",JS="firebase",tA="12.6.0";const Xd="[DEFAULT]",eA={[Yd]:"fire-core",[IS]:"fire-core-compat",[NS]:"fire-analytics",[xS]:"fire-analytics-compat",[OS]:"fire-app-check",[DS]:"fire-app-check-compat",[MS]:"fire-auth",[VS]:"fire-auth-compat",[kS]:"fire-rtdb",[LS]:"fire-data-connect",[PS]:"fire-rtdb-compat",[US]:"fire-fn",[jS]:"fire-fn-compat",[zS]:"fire-iid",[BS]:"fire-iid-compat",[qS]:"fire-fcm",[HS]:"fire-fcm-compat",[FS]:"fire-perf",[GS]:"fire-perf-compat",[QS]:"fire-rc",[KS]:"fire-rc-compat",[YS]:"fire-gcs",[XS]:"fire-gcs-compat",[$S]:"fire-fst",[ZS]:"fire-fst-compat",[WS]:"fire-vertex","fire-js":"fire-js",[JS]:"fire-js-all"};const Fc=new Map,nA=new Map,$d=new Map;function K_(s,t){try{s.container.addComponent(t)}catch(i){ys.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function ao(s){const t=s.name;if($d.has(t))return ys.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,s);for(const i of Fc.values())K_(i,s);for(const i of nA.values())K_(i,s);return!0}function Sm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ni(s){return s==null?!1:s.settings!==void 0}const iA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new ql("app","Firebase",iA);class sA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const go=tA;function Cv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ur.create("bad-app-name",{appName:String(l)});if(i||(i=Tv()),!i)throw ur.create("no-options");const c=Fc.get(l);if(c){if(Jr(i,c.options)&&Jr(a,c.config))return c;throw ur.create("duplicate-app",{appName:l})}const d=new cS(l);for(const _ of $d.values())d.addComponent(_);const g=new sA(i,a,d);return Fc.set(l,g),g}function Iv(s=Xd){const t=Fc.get(s);if(!t&&s===Xd&&Tv())return Cv();if(!t)throw ur.create("no-app",{appName:s});return t}function cr(s,t,i){let a=eA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ys.warn(d.join(" "));return}ao(new ta(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rA="firebase-heartbeat-database",aA=1,Ol="firebase-heartbeat-store";let Ud=null;function xv(){return Ud||(Ud=SS(rA,aA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),Ud}async function oA(s){try{const i=(await xv()).transaction(Ol),a=await i.objectStore(Ol).get(Nv(s));return await i.done,a}catch(t){if(t instanceof Ts)ys.warn(t.message);else{const i=ur.create("idb-get",{originalErrorMessage:t?.message});ys.warn(i.message)}}}async function Y_(s,t){try{const a=(await xv()).transaction(Ol,"readwrite");await a.objectStore(Ol).put(t,Nv(s)),await a.done}catch(i){if(i instanceof Ts)ys.warn(i.message);else{const a=ur.create("idb-set",{originalErrorMessage:i?.message});ys.warn(a.message)}}}function Nv(s){return`${s.name}!${s.options.appId}`}const lA=1024,uA=30;class cA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uA){const l=dA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ys.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:i,unsentEntries:a}=hA(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ys.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function hA(s,t=lA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),$_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),$_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z1()?J1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await oA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function $_(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function dA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function mA(s){ao(new ta("platform-logger",t=>new RS(t),"PRIVATE")),ao(new ta("heartbeat",t=>new cA(t),"PRIVATE")),cr(Yd,Q_,s),cr(Yd,Q_,"esm2020"),cr("fire-js","")}mA("");var gA="firebase",pA="12.6.0";cr(gA,pA,"app");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,Dv;(function(){var s;function t(I,R){function w(){}w.prototype=R.prototype,I.F=R.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(V,D,L){for(var C=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)C[_e-2]=arguments[_e];return R.prototype[D].apply(V,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,R,w){w||(w=0);const V=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)V[D]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(D=0;D<16;++D)V[D]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=I.g[0],w=I.g[1],D=I.g[2];let L=I.g[3],C;C=R+(L^w&(D^L))+V[0]+3614090360&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(D^R&(w^D))+V[1]+3905402710&4294967295,L=R+(C<<12&4294967295|C>>>20),C=D+(w^L&(R^w))+V[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=w+(R^D&(L^R))+V[3]+3250441966&4294967295,w=D+(C<<22&4294967295|C>>>10),C=R+(L^w&(D^L))+V[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(D^R&(w^D))+V[5]+1200080426&4294967295,L=R+(C<<12&4294967295|C>>>20),C=D+(w^L&(R^w))+V[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=w+(R^D&(L^R))+V[7]+4249261313&4294967295,w=D+(C<<22&4294967295|C>>>10),C=R+(L^w&(D^L))+V[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(D^R&(w^D))+V[9]+2336552879&4294967295,L=R+(C<<12&4294967295|C>>>20),C=D+(w^L&(R^w))+V[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=w+(R^D&(L^R))+V[11]+2304563134&4294967295,w=D+(C<<22&4294967295|C>>>10),C=R+(L^w&(D^L))+V[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(D^R&(w^D))+V[13]+4254626195&4294967295,L=R+(C<<12&4294967295|C>>>20),C=D+(w^L&(R^w))+V[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=w+(R^D&(L^R))+V[15]+1236535329&4294967295,w=D+(C<<22&4294967295|C>>>10),C=R+(D^L&(w^D))+V[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^D&(R^w))+V[6]+3225465664&4294967295,L=R+(C<<9&4294967295|C>>>23),C=D+(R^w&(L^R))+V[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(D^L))+V[0]+3921069994&4294967295,w=D+(C<<20&4294967295|C>>>12),C=R+(D^L&(w^D))+V[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^D&(R^w))+V[10]+38016083&4294967295,L=R+(C<<9&4294967295|C>>>23),C=D+(R^w&(L^R))+V[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(D^L))+V[4]+3889429448&4294967295,w=D+(C<<20&4294967295|C>>>12),C=R+(D^L&(w^D))+V[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^D&(R^w))+V[14]+3275163606&4294967295,L=R+(C<<9&4294967295|C>>>23),C=D+(R^w&(L^R))+V[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(D^L))+V[8]+1163531501&4294967295,w=D+(C<<20&4294967295|C>>>12),C=R+(D^L&(w^D))+V[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^D&(R^w))+V[2]+4243563512&4294967295,L=R+(C<<9&4294967295|C>>>23),C=D+(R^w&(L^R))+V[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(D^L))+V[12]+2368359562&4294967295,w=D+(C<<20&4294967295|C>>>12),C=R+(w^D^L)+V[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^D)+V[8]+2272392833&4294967295,L=R+(C<<11&4294967295|C>>>21),C=D+(L^R^w)+V[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=w+(D^L^R)+V[14]+4259657740&4294967295,w=D+(C<<23&4294967295|C>>>9),C=R+(w^D^L)+V[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^D)+V[4]+1272893353&4294967295,L=R+(C<<11&4294967295|C>>>21),C=D+(L^R^w)+V[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=w+(D^L^R)+V[10]+3200236656&4294967295,w=D+(C<<23&4294967295|C>>>9),C=R+(w^D^L)+V[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^D)+V[0]+3936430074&4294967295,L=R+(C<<11&4294967295|C>>>21),C=D+(L^R^w)+V[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=w+(D^L^R)+V[6]+76029189&4294967295,w=D+(C<<23&4294967295|C>>>9),C=R+(w^D^L)+V[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^D)+V[12]+3873151461&4294967295,L=R+(C<<11&4294967295|C>>>21),C=D+(L^R^w)+V[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=w+(D^L^R)+V[2]+3299628645&4294967295,w=D+(C<<23&4294967295|C>>>9),C=R+(D^(w|~L))+V[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~D))+V[7]+1126891415&4294967295,L=R+(C<<10&4294967295|C>>>22),C=D+(R^(L|~w))+V[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=w+(L^(D|~R))+V[5]+4237533241&4294967295,w=D+(C<<21&4294967295|C>>>11),C=R+(D^(w|~L))+V[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~D))+V[3]+2399980690&4294967295,L=R+(C<<10&4294967295|C>>>22),C=D+(R^(L|~w))+V[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=w+(L^(D|~R))+V[1]+2240044497&4294967295,w=D+(C<<21&4294967295|C>>>11),C=R+(D^(w|~L))+V[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~D))+V[15]+4264355552&4294967295,L=R+(C<<10&4294967295|C>>>22),C=D+(R^(L|~w))+V[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=w+(L^(D|~R))+V[13]+1309151649&4294967295,w=D+(C<<21&4294967295|C>>>11),C=R+(D^(w|~L))+V[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~D))+V[11]+3174756917&4294967295,L=R+(C<<10&4294967295|C>>>22),C=D+(R^(L|~w))+V[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=w+(L^(D|~R))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}a.prototype.v=function(I,R){R===void 0&&(R=I.length);const w=R-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<R;){if(D==0)for(;L<=w;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<R;)if(V[D++]=I.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<R;)if(V[D++]=I[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=R},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)I[R++]=this.g[w]>>>V&255;return I};function c(I,R){var w=g;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=R(I)}function d(I,R){this.h=R;const w=[];let V=!0;for(let D=I.length-1;D>=0;D--){const L=I[D]|0;V&&L==R||(w[D]=L,V=!1)}this.g=w}var g={};function _(I){return-128<=I&&I<128?c(I,function(R){return new d([R|0],R<0?-1:0)}):new d([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return X(p(-I));const R=[];let w=1;for(let V=0;I>=w;V++)R[V]=I/w|0,w*=4294967296;return new d(R,0)}function T(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return X(T(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=p(Math.pow(R,8));let V=A;for(let L=0;L<I.length;L+=8){var D=Math.min(8,I.length-L);const C=parseInt(I.substring(L,L+D),R);D<8?(D=p(Math.pow(R,D)),V=V.j(D).add(p(C))):(V=V.j(w),V=V.add(p(C)))}return V}var A=_(0),N=_(1),B=_(16777216);s=d.prototype,s.m=function(){if(tt(this))return-X(this).m();let I=0,R=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);I+=(V>=0?V:4294967296+V)*R,R*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(F(this))return"0";if(tt(this))return"-"+X(this).toString(I);const R=p(Math.pow(I,6));var w=this;let V="";for(;;){const D=qt(w,R).g;w=ft(w,D.j(R));let L=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=D,F(w))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function F(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function tt(I){return I.h==-1}s.l=function(I){return I=ft(this,I),tt(I)?-1:F(I)?0:1};function X(I){const R=I.g.length,w=[];for(let V=0;V<R;V++)w[V]=~I.g[V];return new d(w,~I.h).add(N)}s.abs=function(){return tt(this)?X(this):this},s.add=function(I){const R=Math.max(this.g.length,I.g.length),w=[];let V=0;for(let D=0;D<=R;D++){let L=V+(this.i(D)&65535)+(I.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=C>>>16,L&=65535,C&=65535,w[D]=C<<16|L}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ft(I,R){return I.add(X(R))}s.j=function(I){if(F(this)||F(I))return A;if(tt(this))return tt(I)?X(this).j(X(I)):X(X(this).j(I));if(tt(I))return X(this.j(X(I)));if(this.l(B)<0&&I.l(B)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,w=[];for(var V=0;V<2*R;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const L=this.i(V)>>>16,C=this.i(V)&65535,_e=I.i(D)>>>16,Ne=I.i(D)&65535;w[2*V+2*D]+=C*Ne,Tt(w,2*V+2*D),w[2*V+2*D+1]+=L*Ne,Tt(w,2*V+2*D+1),w[2*V+2*D+1]+=C*_e,Tt(w,2*V+2*D+1),w[2*V+2*D+2]+=L*_e,Tt(w,2*V+2*D+2)}for(I=0;I<R;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=R;I<2*R;I++)w[I]=0;return new d(w,0)};function Tt(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function pt(I,R){this.g=I,this.h=R}function qt(I,R){if(F(R))throw Error("division by zero");if(F(I))return new pt(A,A);if(tt(I))return R=qt(X(I),R),new pt(X(R.g),X(R.h));if(tt(R))return R=qt(I,X(R)),new pt(X(R.g),R.h);if(I.g.length>30){if(tt(I)||tt(R))throw Error("slowDivide_ only works with positive integers.");for(var w=N,V=R;V.l(I)<=0;)w=yt(w),V=yt(V);var D=Rt(w,1),L=Rt(V,1);for(V=Rt(V,2),w=Rt(w,2);!F(V);){var C=L.add(V);C.l(I)<=0&&(D=D.add(w),L=C),V=Rt(V,1),w=Rt(w,1)}return R=ft(I,D.j(R)),new pt(D,R)}for(D=A;I.l(R)>=0;){for(w=Math.max(1,Math.floor(I.m()/R.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=p(w),C=L.j(R);tt(C)||C.l(I)>0;)w-=V,L=p(w),C=L.j(R);F(L)&&(L=N),D=D.add(L),I=ft(I,C)}return new pt(D,I)}s.B=function(I){return qt(this,I).h},s.and=function(I){const R=Math.max(this.g.length,I.g.length),w=[];for(let V=0;V<R;V++)w[V]=this.i(V)&I.i(V);return new d(w,this.h&I.h)},s.or=function(I){const R=Math.max(this.g.length,I.g.length),w=[];for(let V=0;V<R;V++)w[V]=this.i(V)|I.i(V);return new d(w,this.h|I.h)},s.xor=function(I){const R=Math.max(this.g.length,I.g.length),w=[];for(let V=0;V<R;V++)w[V]=this.i(V)^I.i(V);return new d(w,this.h^I.h)};function yt(I){const R=I.g.length+1,w=[];for(let V=0;V<R;V++)w[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(w,I.h)}function Rt(I,R){const w=R>>5;R%=32;const V=I.g.length-w,D=[];for(let L=0;L<V;L++)D[L]=R>0?I.i(L+w)>>>R|I.i(L+w+1)<<32-R:I.i(L+w);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Dv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,hr=d}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ov,Sl,Mv,Mc,Wd,Vv,kv,Lv;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in v))break t;v=v[P]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function p(u,m,v){return p=_,p.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,P,q){for(var it=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)it[Lt-2]=arguments[Lt];return m.prototype[P].apply(S,it)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function F(u,m){for(let S=1;S<arguments.length;S++){const P=arguments[S];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let it=0;it<q;it++)u[v+it]=P[it]}else u.push(P)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const S=pt.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var pt=new tt(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,Rt=!1,I=new Tt,R=()=>{const u=Promise.resolve(void 0);yt=()=>{u.then(w)}};function w(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){X(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function _e(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(_e,D),_e.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&_e.Z.h.call(this)},_e.prototype.h=function(){_e.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,v,S,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=P,this.key=++G,this.da=this.fa=!1}function _t(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Xt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)u[v]=S[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function ut(u){this.src=u,this.g={},this.h=0}ut.prototype.add=function(u,m,v,S,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=Nt(u,m,S,P);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new nt(m,this.src,q,!!S,P),m.fa=v,u.push(m)),m};function Ct(u,m){const v=m.type;if(v in u.g){var S=u.g[v],P=Array.prototype.indexOf.call(S,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(S,P,1),q&&(_t(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Nt(u,m,v,S){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return P}return-1}var lt="closure_lm_"+(Math.random()*1e6|0),Z={};function et(u,m,v,S,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)et(u,m[q],v,S,P);return null}return v=le(v),u&&u[Ne]?u.J(m,v,g(S)?!!S.capture:!1,P):kt(u,m,v,!1,S,P)}function kt(u,m,v,S,P,q){if(!m)throw Error("Invalid event type");const it=g(P)?!!P.capture:!!P;let Lt=dt(u);if(Lt||(u[lt]=Lt=new ut(u)),v=Lt.add(m,v,S,it,q),v.proxy)return v;if(S=St(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)L||(P=it),P===void 0&&(P=!1),u.addEventListener(m.toString(),S,P);else if(u.attachEvent)u.attachEvent(rt(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function St(){function u(v){return m.call(u.src,u.listener,v)}const m=ot;return u}function Te(u,m,v,S,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Te(u,m[q],v,S,P);else S=g(S)?!!S.capture:!!S,v=le(v),u&&u[Ne]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Nt(m,v,S,P),v>-1&&(_t(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=dt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Nt(m,v,S,P)),(v=u>-1?m[u]:null)&&at(v))}function at(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])Ct(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(rt(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=dt(m))?(Ct(v,u),v.h==0&&(v.src=null,m[lt]=null)):_t(u)}}}function rt(u){return u in Z?Z[u]:Z[u]="on"+u}function ot(u,m){if(u.da)u=!0;else{m=new _e(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&at(u),u=v.call(S,m)}return u}function dt(u){return u=u[lt],u instanceof ut?u:null}var Zt="__closure_events_fn_"+(Math.random()*1e9>>>0);function le(u){return typeof u=="function"?u:(u[Zt]||(u[Zt]=function(m){return u.handleEvent(m)}),u[Zt])}function vt(){V.call(this),this.i=new ut(this),this.M=this,this.G=null}A(vt,V),vt.prototype[Ne]=!0,vt.prototype.removeEventListener=function(u,m,v,S){Te(this,u,m,v,S)};function At(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(S,u),st(m,P)}P=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=m.g=v[it],P=$t(q,S,!0,m)&&P;if(q=m.g=u,P=$t(q,S,!0,m)&&P,P=$t(q,S,!1,m)&&P,v)for(it=0;it<v.length;it++)q=m.g=v[it],P=$t(q,S,!1,m)&&P}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)_t(v[S]);delete u.g[m],u.h--}}this.G=null},vt.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},vt.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function $t(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==v){const Lt=it.listener,Ue=it.ha||it.src;it.fa&&Ct(u.i,it),P=Lt.call(Ue,S)!==!1&&P}}return P&&!S.defaultPrevented}function re(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ne(u){u.g=re(()=>{u.g=null,u.i&&(u.i=!1,ne(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Jt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ne(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qe(u){V.call(this),this.h=u,this.g={}}A(qe,V);var be=[];function Ot(u){jt(u.g,function(m,v){this.g.hasOwnProperty(v)&&at(m)},u),u.g={}}qe.prototype.N=function(){qe.Z.N.call(this),Ot(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ee=d.JSON.stringify,De=d.JSON.parse,Le=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Me(){}function Pe(){}var ve={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ce(){D.call(this,"d")}A(ce,D);function An(){D.call(this,"c")}A(An,D);var Ce={},As=null;function _i(){return As=As||new vt}Ce.Ia="serverreachability";function tu(u){D.call(this,Ce.Ia,u)}A(tu,D);function vi(u){const m=_i();At(m,new tu(m))}Ce.STAT_EVENT="statevent";function Sr(u,m){D.call(this,Ce.STAT_EVENT,u),this.stat=m}A(Sr,D);function He(u){const m=_i();At(m,new Sr(m,u))}Ce.Ja="timingevent";function Ei(u,m){D.call(this,Ce.Ja,u),this.size=m}A(Ei,D);function Ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function Dh(u,m,v,S,P,q){u.info(function(){if(u.g)if(q){var it="",Lt=q.split("&");for(let ae=0;ae<Lt.length;ae++){var Ue=Lt[ae].split("=");if(Ue.length>1){const Ie=Ue[0];Ue=Ue[1];const Kn=Ie.split("_");it=Kn.length>=2&&Kn[1]=="type"?it+(Ie+"="+Ue+"&"):it+(Ie+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+v+`
`+it})}function eu(u,m,v,S,P,q,it){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+it})}function bi(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(S?" "+S:"")})}function Ar(u,m){u.info(function(){return"TIMEOUT: "+m})}si.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let it=1;it<S.length;it++)S[it]=""}}}}return ee(q)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function Rr(){}A(Rr,Me),Rr.prototype.g=function(){return new XMLHttpRequest},To=new Rr;function Xi(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ri(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new qe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Fe={},sn={};function Si(u,m,v){u.M=1,u.A=Cr(Qe(m)),u.u=v,u.R=!0,ua(u,null)}function ua(u,m){u.F=Date.now(),Ai(u),u.B=Qe(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),da(v.i,"t",S),u.C=0,v=u.j.L,u.h=new ai,u.g=yu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Jt(p(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(be[0]=P.toString()),P=be);for(let q=0;q<P.length;q++){const it=et(v,P[q],S||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),vi(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}ri.prototype.ba=function(u){u=u.target;const m=this.O;m&&ui(u)==3?m.j():this.Y(u)},ri.prototype.Y=function(u){try{if(u==this.g)t:{const Lt=ui(this.g),Ue=this.g.ya(),ae=this.g.ca();if(!(Lt<3)&&(Lt!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||Lt!=4||Ue==7||(Ue==8||ae<=0?vi(3):vi(2)),wi(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,Lt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var q=S;break e}}q=null}if(u=q)bi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,u);else{this.o=!1,this.m=3,He(12),Vn(this),Fn(this);break t}}if(this.R){u=!0;let Ie;for(;!this.K&&this.C<v.length;)if(Ie=su(this,v),Ie==sn){Lt==4&&(this.m=4,He(14),u=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Fe){this.m=4,He(15),bi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else bi(this.i,this.l,Ie,null),Ri(this,Ie);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||v.length!=0||this.h.h||(this.m=1,He(16),u=!1),this.o=this.o&&u,!u)bi(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(it),it.P=!0,He(11))}}else bi(this.i,this.l,v,null),Ri(this,v);Lt==4&&Vn(this),this.o&&!this.K&&(Lt==4?du(this.j,this):(this.o=!1,Ai(this)))}else Wi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,He(12)):(this.m=0,He(13)),Vn(this),Fn(this)}}}catch{}finally{}};function Mh(u){if(!iu(u))return u.g.la();const m=un(u.g);if(m==="")return"";let v="";const S=m.length,P=ui(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?sn:(v=Number(m.substring(v,S)),isNaN(v)?Fe:(S+=1,S+v>m.length?sn:(m=m.slice(S,S+v),u.C=S+v,m)))}ri.prototype.cancel=function(){this.K=!0,Vn(this)};function Ai(u){u.T=Date.now()+u.H,ca(u,u.H)}function ca(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ti(p(u.aa,u),m)}function wi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ri.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(vi(),He(17)),Vn(this),this.m=2,Fn(this)):ca(this,this.T-u)};function Fn(u){u.j.I==0||u.K||du(u.j,u)}function Vn(u){wi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ot(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ii(v.h,u))){if(!u.L&&Ii(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)_a(v),Os(v);else break t;Vr(v),He(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ti(p(v.Va,v),6e3));Ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else Vi(v,11)}else if((u.L||v.g==u)&&_a(v),!C(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let ae=P[m];const Ie=ae[0];if(!(Ie<=v.K))if(v.K=Ie,ae=ae[1],v.I==2)if(ae[0]=="c"){v.M=ae[1],v.ba=ae[2];const Kn=ae[3];Kn!=null&&(v.ka=Kn,v.j.info("VER="+v.ka));const ki=ae[4];ki!=null&&(v.za=ki,v.j.info("SVER="+v.za));const ci=ae[5];ci!=null&&typeof ci=="number"&&ci>0&&(S=1.5*ci,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const hi=u.g;if(hi){const kr=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var q=S.h;q.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ao(q,q.h),q.h=null))}if(S.G){const va=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(S.wa=va,he(S.J,S.G,va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var it=u;if(S.na=pu(S,S.L?S.ba:null,S.W),it.L){wo(S.h,it);var Lt=it,Ue=S.O;Ue&&(Lt.H=Ue),Lt.D&&(wi(Lt),Ai(Lt)),S.g=it}else hu(S);v.i.length>0&&Mi(v)}else ae[0]!="stop"&&ae[0]!="close"||Vi(v,7);else v.I==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Vi(v,7):Vo(v):ae[0]!="noop"&&v.l&&v.l.qa(ae),v.A=0)}}vi(4)}catch{}}var Ge=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ci(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let P,q=null;S>=0?(P=u[v].substring(0,S),q=u[v].substring(S+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,rn(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,Co(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,rn(this,m[1]||"",!0),this.o=xi(m[2]||""),this.g=xi(m[3]||"",!0),ws(this,m[4]),this.h=xi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=xi(m[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ir(m,fa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ir(m,fa,!0),"@"),u.push(Xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ir(v,v.charAt(0)=="/"?Io:au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ir(v,ou)),u.join("")},kn.prototype.resolve=function(u){const m=Qe(this);let v=!!u.j;v?rn(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)ws(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=m.h.lastIndexOf("/");P!=-1&&(S=m.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let it=0;it<P.length;){const Lt=P[it++];Lt=="."?S&&it==P.length&&q.push(""):Lt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&it==P.length&&q.push("")):(q.push(Lt),S=!0)}S=q.join("/")}else S=P}return v?m.h=S:v=u.i.toString()!=="",v?Co(m,uu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Qe(u){return new kn(u)}function rn(u,m,v){u.j=v?xi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof Cs?(u.i=m,ma(u.i,u.l)):(v||(m=Ir(m,Rs)),u.i=new Cs(m,u.l))}function he(u,m,v){u.i.set(m,v)}function Cr(u){return he(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function xi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ir(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,wn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fa=/[#\/\?@]/g,au=/[#\?:]/g,Io=/[#\?]/g,Rs=/[#\?@]/g,ou=/#/g;function Cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ha(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Cs.prototype,s.add=function(u,m){Rn(this),this.i=null,u=Is(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){Rn(u),m=Is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xo(u,m){return Rn(u),m=Is(u,m),u.g.has(m)}s.forEach=function(u,m){Rn(this),this.g.forEach(function(v,S){v.forEach(function(P){u.call(m,P,S,this)},this)},this)};function No(u,m){Rn(u);let v=[];if(typeof m=="string")xo(u,m)&&(v=v.concat(u.g.get(Is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Rn(this),this.i=null,u=Is(this,u),xo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function da(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(Is(u,m),B(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const P=Xi(v);v=No(this,v);for(let q=0;q<v.length;q++){let it=P;v[q]!==""&&(it+="="+Xi(v[q])),u.push(it)}}return this.i=u.join("&")};function uu(u){const m=new Cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ma(u,m){m&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(v,S){const P=S.toLowerCase();S!=P&&(lu(this,S),da(this,P,v))},u)),u.j=m}function oi(u,m){const v=new si;if(d.Image){const S=new Image;S.onload=T(Gn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Gn,v,"TestLoadImage: error",!1,m,S),S.onabort=T(Gn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Gn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Do(u,m){const v=new si,S=new AbortController,P=setTimeout(()=>{S.abort(),Gn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(P),q.ok?Gn(v,"TestPingServer: ok",!0,m):Gn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Gn(v,"TestPingServer: error",!1,m)})}function Gn(u,m,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function xs(){this.g=new Le}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ni,Me),Ni.prototype.g=function(){return new xr(this.i,this.h)};function xr(u,m){vt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(xr,vt),s=xr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,li(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ns(this):li(this),this.readyState==3&&ga(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ns(this))},s.Na=function(u){this.g&&(this.response=u,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,li(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function li(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qn(u){let m="";return jt(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Nr(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Qn(v),typeof u=="string"?v!=null&&Xi(v):he(u,m,v))}function me(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(me,vt);var Di=/^https?$/i,Oo=["POST","PUT"];s=me.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=N(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Dr(this,q);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Dr(this,q)}};function Dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),$i(u)}function Mo(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,At(this,"complete"),At(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),me.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(u){if(u.h&&typeof c<"u"){if(u.v&&ui(u)==4)setTimeout(u.Ca.bind(u),0);else if(At(u,"readystatechange"),ui(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let it=String(u.D).match(ru)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),S=!Di.test(it?it.toLowerCase():"")}v=S}if(v)At(u,"complete"),At(u,"success");else{u.o=6;try{var P=ui(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Mo(u)}}finally{$i(u)}}}}function $i(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||At(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ui(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),De(m)}};function un(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&ui(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var v=nu(u[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Xt(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ds(u){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,u),this.Za=Oi("retryDelaySeedMs",1e4,u),this.Ta=Oi("forwardChannelMaxRetries",2,u),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new xs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ds.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){He(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=pu(this,null,this.W),Mi(this)};function Vo(u){if(pa(u),u.I==3){var m=u.V++,v=Qe(u.J);if(he(v,"SID",u.M),he(v,"RID",m),he(v,"TYPE","terminate"),Mr(u,v),m=new ri(u,u.j,m),m.M=2,m.A=Cr(Qe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}gu(u)}function Os(u){u.g&&(Lo(u),u.g.cancel(),u.g=null)}function pa(u){Os(u),u.v&&(d.clearTimeout(u.v),u.v=null),_a(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Mi(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;yt||R(),Rt||(yt(),Rt=!0),I.add(m,u),u.D=0}}function ya(u,m){return Ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ti(p(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new ri(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=cu(this,P,m),v=Qe(this.J),he(v,"RID",u),he(v,"CVER",22),this.G&&he(v,"X-HTTP-Session-Id",this.G),Mr(this,v),q&&(this.R?m="headers="+Xi(Qn(q))+"&"+m:this.u&&Nr(v,this.u,q)),Ao(this.h,P),this.Ra&&he(v,"TYPE","init"),this.S?(he(v,"$req",m),he(v,"SID","null"),P.U=!0,Si(P,v,null)):Si(P,v,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||So(this.h)||ko(this))};function ko(u,m){var v;m?v=m.l:v=u.V++;const S=Qe(u.J);he(S,"SID",u.M),he(S,"RID",v),he(S,"AID",u.K),Mr(u,S),u.u&&u.o&&Nr(S,u.u,u.o),v=new ri(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),Si(v,S,m)}function Mr(u,m){u.H&&jt(u.H,function(v,S){he(m,S,v)}),u.l&&jt({},function(v,S){he(m,S,v)})}function cu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?p(u.l.Ka,u.l,u):null;t:{var P=u.i;let Lt=-1;for(;;){const Ue=["count="+v];Lt==-1?v>0?(Lt=P[0].g,Ue.push("ofs="+Lt)):Lt=0:Ue.push("ofs="+Lt);let ae=!0;for(let Ie=0;Ie<v;Ie++){var q=P[Ie].g;const Kn=P[Ie].map;if(q-=Lt,q<0)Lt=Math.max(0,P[Ie].g-100),ae=!1;else try{q="req"+q+"_"||"";try{var it=Kn instanceof Map?Kn:Object.entries(Kn);for(const[ki,ci]of it){let hi=ci;g(ci)&&(hi=ee(ci)),Ue.push(q+ki+"="+encodeURIComponent(hi))}}catch(ki){throw Ue.push(q+"type="+encodeURIComponent("_badmap")),ki}}catch{S&&S(Kn)}}if(ae){it=Ue.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;yt||R(),Rt||(yt(),Rt=!0),I.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ti(p(u.Da,u),mu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ti(p(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,He(10),Os(this),fu(this))};function Lo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new ri(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Qe(u.na);he(m,"RID","rpc"),he(m,"SID",u.M),he(m,"AID",u.K),he(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&he(m,"TO",u.ia),he(m,"TYPE","xmlhttp"),Mr(u,m),u.u&&u.o&&Nr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Cr(Qe(m)),v.u=null,v.R=!0,ua(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Os(this),Vr(this),He(19))};function _a(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var v=null;if(u.g==m){_a(u),Lo(u),u.g=null;var S=2}else if(Ii(u.h,m))v=m.G,wo(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;S=_i(),At(S,new Ei(S,v)),Mi(u)}else hu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(S==1&&ya(u,m)||S==2&&Vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Vi(u,m){if(u.j.info("Error code "+m),m==2){var v=p(u.bb,u),S=u.Ua;const P=!S;S=new kn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||rn(S,"https"),Cr(S),P?oi(S.toString(),v):Do(S.toString(),v)}else He(2);u.I=0,u.l&&u.l.pa(m),gu(u),pa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ja,m),F(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,v){var S=v instanceof kn?Qe(v):new kn(v);if(S.g!="")m&&(S.g=m+"."+S.g),ws(S,S.u);else{var P=d.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new kn(null);S&&rn(q,S),m&&(q.g=m),P&&ws(q,P),v&&(q.h=v),S=q}return v=u.G,m=u.wa,v&&m&&he(S,v,m),he(S,"VER",u.ka),Mr(u,S),S}function yu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new me(new Ni({ab:v})):new me(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}s=_u.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ms(){}Ms.prototype.g=function(u,m){return new bn(u,m)};function bn(u,m){vt.call(this),this.g=new Ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}A(bn,vt),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Vo(this.g)},bn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ee(u),u=v);m.i.push(new Ge(m.Ya++,u)),m.I==3&&Mi(m)},bn.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,bn.Z.N.call(this)};function vu(u){ce.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(vu,ce);function Eu(){An.call(this),this.status=1}A(Eu,An);function Zi(u){this.g=u}A(Zi,_u),Zi.prototype.ra=function(){At(this.g,"a")},Zi.prototype.qa=function(u){At(this.g,new vu(u))},Zi.prototype.pa=function(u){At(this.g,new Eu)},Zi.prototype.oa=function(){At(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,Lv=function(){return new Ms},kv=function(){return _i()},Vv=Ce,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Mc=wr,Eo.COMPLETE="complete",Mv=Eo,Pe.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Sl=Pe,me.prototype.listenOnce=me.prototype.K,me.prototype.getLastError=me.prototype.Ha,me.prototype.getLastErrorCode=me.prototype.ya,me.prototype.getStatus=me.prototype.ca,me.prototype.getResponseJson=me.prototype.La,me.prototype.getResponseText=me.prototype.la,me.prototype.send=me.prototype.ea,me.prototype.setWithCredentials=me.prototype.Fa,Ov=me}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const Z_="@firebase/firestore",J_="4.9.2";class vn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let po="12.3.0";const ea=new Tm("@firebase/firestore");function Xa(){return ea.logLevel}function ct(s,...t){if(ea.logLevel<=Qt.DEBUG){const i=t.map(Am);ea.debug(`Firestore (${po}): ${s}`,...i)}}function _s(s,...t){if(ea.logLevel<=Qt.ERROR){const i=t.map(Am);ea.error(`Firestore (${po}): ${s}`,...i)}}function oo(s,...t){if(ea.logLevel<=Qt.WARN){const i=t.map(Am);ea.warn(`Firestore (${po}): ${s}`,...i)}}function Am(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function xt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Pv(s,a,i)}function Pv(s,t,i){let a=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw _s(a),new Error(a)}function ue(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||Pv(t,l,a)}function Vt(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Ts{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Uv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(vn.UNAUTHENTICATED)))}shutdown(){}}class _A{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class vA{constructor(t){this.t=t,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ue(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ue(typeof a.accessToken=="string",31837,{l:a}),new Uv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ue(t===null||typeof t=="string",2055,{h:t}),new vn(t)}}class EA{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TA{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new EA(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class t0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bA{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ue(this.o===void 0,3512);const a=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new t0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ue(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new t0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SA(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class wm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=SA(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Kt(s,t){return s<t?-1:s>t?1:0}function Zd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return jd(l)===jd(c)?Kt(l,c):jd(l)?1:-1}return Kt(s.length,t.length)}const AA=55296,wA=57343;function jd(s){const t=s.charCodeAt(0);return t>=AA&&t<=wA}function lo(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const e0="__name__";class zi{constructor(t,i,a){i===void 0?i=0:i>t.length&&xt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&xt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return zi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof zi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=zi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Kt(t.length,i.length)}static compareSegments(t,i){const a=zi.isNumericId(t),l=zi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?zi.extractNumericId(t).compare(zi.extractNumericId(i)):Zd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return hr.fromString(t.substring(4,t.length-2))}}class we extends zi{construct(t,i,a){return new we(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new gt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new we(i)}static emptyPath(){return new we([])}}const RA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends zi{construct(t,i,a){return new gn(t,i,a)}static isValidIdentifier(t){return RA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e0}static keyField(){return new gn([e0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new gt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new gt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new gt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new gt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gn(i)}static emptyPath(){return new gn([])}}class bt{constructor(t){this.path=t}static fromPath(t){return new bt(we.fromString(t))}static fromName(t){return new bt(we.fromString(t).popFirst(5))}static empty(){return new bt(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&we.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return we.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new we(t.slice()))}}function jv(s,t,i){if(!i)throw new gt(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function CA(s,t,i,a){if(t===!0&&a===!0)throw new gt(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function n0(s){if(!bt.isDocumentKey(s))throw new gt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function i0(s){if(bt.isDocumentKey(s))throw new gt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function zv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Rm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":xt(12329,{type:typeof s})}function na(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new gt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rm(s);throw new gt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ze(s,t){const i={typeString:s};return t&&(i.value=t),i}function Fl(s,t){if(!zv(s))throw new gt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new gt(J.INVALID_ARGUMENT,i);return!0}const s0=-62135596800,r0=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*r0);return new Re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new gt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<s0)throw new gt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r0}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,Re._jsonSchema))return new Re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-s0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:Ze("string",Re._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new Re(0,0))}static max(){return new Dt(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function IA(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Dt.fromTimestamp(a===1e9?new Re(i+1,0):new Re(i,a));return new mr(l,bt.empty(),t)}function xA(s){return new mr(s.readTime,s.key,Ml)}class mr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new mr(Dt.min(),bt.empty(),Ml)}static max(){return new mr(Dt.max(),bt.empty(),Ml)}}function NA(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=bt.comparator(s.documentKey,t.documentKey),i!==0?i:Kt(s.largestBatchId,t.largestBatchId))}const DA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function yo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==DA)throw s;ct("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):W.reject(i)}static resolve(t){return new W(((i,a)=>{i(t)}))}static reject(t){return new W(((i,a)=>{a(t)}))}static waitFor(t){return new W(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=W.resolve(!1);for(const a of t)i=i.next((l=>l?W.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new W(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const p=_;i(t[p]).next((T=>{d[p]=T,++g,g===c&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new W(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function MA(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function _o(s){return s.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const Cm=-1;function fh(s){return s==null}function Gc(s){return s===0&&1/s==-1/0}function VA(s){return typeof s=="number"&&Number.isInteger(s)&&!Gc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Bv="";function kA(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=a0(t)),t=LA(s.get(i),t);return a0(t)}function LA(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case Bv:i+="";break;default:i+=c}}return i}function a0(s){return s+Bv+""}function o0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Er(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function qv(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class Oe{constructor(t,i){this.comparator=t,this.root=i||mn.EMPTY}insert(t,i){return new Oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(t){return new Oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mn{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??mn.RED,this.left=l??mn.EMPTY,this.right=c??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new mn(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return mn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new mn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(t){this.comparator=t,this.data=new Oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(t){return new l0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new en(this.comparator);return i.data=t,i}}class l0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(t){this.fields=t,t.sort(gn.comparator)}static empty(){return new Hn([])}unionWith(t){let i=new en(gn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Hn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return lo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class Hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Hv("Invalid base64 string: "+c):c}})(t);return new pn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new pn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const PA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(s){if(ue(!!s,39018),typeof s=="string"){let t=0;const i=PA.exec(s);if(ue(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Be(s.seconds),nanos:Be(s.nanos)}}function Be(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?pn.fromBase64String(s):pn.fromUint8Array(s)}const Fv="server_timestamp",Gv="__type__",Qv="__previous_value__",Kv="__local_write_time__";function Im(s){return(s?.mapValue?.fields||{})[Gv]?.stringValue===Fv}function dh(s){const t=s.mapValue.fields[Qv];return Im(t)?dh(t):t}function Vl(s){const t=gr(s.mapValue.fields[Kv].timestampValue);return new Re(t.seconds,t.nanos)}class UA{constructor(t,i,a,l,c,d,g,_,p,T){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=T}}const Qc="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||Qc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}const Yv="__type__",jA="__max__",Rc={mapValue:{}},Xv="__vector__",Kc="value";function yr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Im(s)?4:BA(s)?9007199254740991:zA(s)?10:11:xt(28295,{value:s})}function Ki(s,t){if(s===t)return!0;const i=yr(s);if(i!==yr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Vl(s).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=gr(l.timestampValue),g=gr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return pr(l.bytesValue).isEqual(pr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Be(l.geoPointValue.latitude)===Be(c.geoPointValue.latitude)&&Be(l.geoPointValue.longitude)===Be(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Be(l.integerValue)===Be(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Be(l.doubleValue),g=Be(c.doubleValue);return d===g?Gc(d)===Gc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return lo(s.arrayValue.values||[],t.arrayValue.values||[],Ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(o0(d)!==o0(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ki(d[_],g[_])))return!1;return!0})(s,t);default:return xt(52216,{left:s})}}function Ll(s,t){return(s.values||[]).find((i=>Ki(i,t)))!==void 0}function uo(s,t){if(s===t)return 0;const i=yr(s),a=yr(t);if(i!==a)return Kt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Kt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Be(c.integerValue||c.doubleValue),_=Be(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return u0(s.timestampValue,t.timestampValue);case 4:return u0(Vl(s),Vl(t));case 5:return Zd(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=pr(c),_=pr(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let p=0;p<g.length&&p<_.length;p++){const T=Kt(g[p],_[p]);if(T!==0)return T}return Kt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Kt(Be(c.latitude),Be(d.latitude));return g!==0?g:Kt(Be(c.longitude),Be(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return c0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},p=g[Kc]?.arrayValue,T=_[Kc]?.arrayValue,A=Kt(p?.values?.length||0,T?.values?.length||0);return A!==0?A:c0(p,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),p=d.fields||{},T=Object.keys(p);_.sort(),T.sort();for(let A=0;A<_.length&&A<T.length;++A){const N=Zd(_[A],T[A]);if(N!==0)return N;const B=uo(g[_[A]],p[T[A]]);if(B!==0)return B}return Kt(_.length,T.length)})(s.mapValue,t.mapValue);default:throw xt(23264,{he:i})}}function u0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Kt(s,t);const i=gr(s),a=gr(t),l=Kt(i.seconds,a.seconds);return l!==0?l:Kt(i.nanos,a.nanos)}function c0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=uo(i[l],a[l]);if(c)return c}return Kt(i.length,a.length)}function co(s){return Jd(s)}function Jd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=gr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return pr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return bt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Jd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Jd(i.fields[d])}`;return l+"}"})(s.mapValue):xt(61005,{value:s})}function Vc(s){switch(yr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(s);return t?16+Vc(t):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Vc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Er(a.fields,((c,d)=>{l+=c.length+Vc(d)})),l})(s.mapValue);default:throw xt(13486,{value:s})}}function tm(s){return!!s&&"integerValue"in s}function xm(s){return!!s&&"arrayValue"in s}function h0(s){return!!s&&"nullValue"in s}function f0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function kc(s){return!!s&&"mapValue"in s}function zA(s){return(s?.mapValue?.fields||{})[Yv]?.stringValue===Xv}function Cl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Er(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Cl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(s.arrayValue.values[i]);return t}return{...s}}function BA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===jA}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=gn.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Cl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Er(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Mn(Cl(this.value))}}function $v(s){const t=[];return Er(s.fields,((i,a)=>{const l=new gn([i]);if(kc(a)){const c=$v(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Hn(t)}class En{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new En(t,0,Dt.min(),Dt.min(),Dt.min(),Mn.empty(),0)}static newFoundDocument(t,i,a,l){return new En(t,1,i,Dt.min(),a,l,0)}static newNoDocument(t,i){return new En(t,2,i,Dt.min(),Dt.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new En(t,3,i,Dt.min(),Dt.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof En&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function d0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=bt.comparator(bt.fromName(d.referenceValue),i.key):a=uo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function m0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ki(s.position[i],t.position[i]))return!1;return!0}class Xc{constructor(t,i="asc"){this.field=t,this.dir=i}}function qA(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class Wv{}class tn extends Wv{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new FA(t,i,a):i==="array-contains"?new KA(t,a):i==="in"?new YA(t,a):i==="not-in"?new XA(t,a):i==="array-contains-any"?new $A(t,a):new tn(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new GA(t,a):new QA(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(uo(i,this.value)):i!==null&&yr(this.value)===yr(i)&&this.matchesComparison(uo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends Wv{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Yi(t,i)}matches(t){return Zv(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zv(s){return s.op==="and"}function Jv(s){return HA(s)&&Zv(s)}function HA(s){for(const t of s.filters)if(t instanceof Yi)return!1;return!0}function em(s){if(s instanceof tn)return s.field.canonicalString()+s.op.toString()+co(s.value);if(Jv(s))return s.filters.map((t=>em(t))).join(",");{const t=s.filters.map((i=>em(i))).join(",");return`${s.op}(${t})`}}function tE(s,t){return s instanceof tn?(function(a,l){return l instanceof tn&&a.op===l.op&&a.field.isEqual(l.field)&&Ki(a.value,l.value)})(s,t):s instanceof Yi?(function(a,l){return l instanceof Yi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&tE(d,l.filters[g])),!0):!1})(s,t):void xt(19439)}function eE(s){return s instanceof tn?(function(i){return`${i.field.canonicalString()} ${i.op} ${co(i.value)}`})(s):s instanceof Yi?(function(i){return i.op.toString()+" {"+i.getFilters().map(eE).join(" ,")+"}"})(s):"Filter"}class FA extends tn{constructor(t,i,a){super(t,i,a),this.key=bt.fromName(a.referenceValue)}matches(t){const i=bt.comparator(t.key,this.key);return this.matchesComparison(i)}}class GA extends tn{constructor(t,i){super(t,"in",i),this.keys=nE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class QA extends tn{constructor(t,i){super(t,"not-in",i),this.keys=nE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function nE(s,t){return(t.arrayValue?.values||[]).map((i=>bt.fromName(i.referenceValue)))}class KA extends tn{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return xm(i)&&Ll(i.arrayValue,this.value)}}class YA extends tn{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ll(this.value.arrayValue,i)}}class XA extends tn{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ll(this.value.arrayValue,i)}}class $A extends tn{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ll(this.value.arrayValue,a)))}}class WA{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function g0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new WA(s,t,i,a,l,c,d)}function Nm(s){const t=Vt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>em(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>co(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>co(a))).join(",")),t.Te=i}return t.Te}function Dm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!qA(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!tE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!m0(s.startAt,t.startAt)&&m0(s.endAt,t.endAt)}function nm(s){return bt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class mh{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZA(s,t,i,a,l,c,d,g){return new mh(s,t,i,a,l,c,d,g)}function iE(s){return new mh(s)}function p0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function JA(s){return s.collectionGroup!==null}function Il(s){const t=Vt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new en(gn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Xc(c,a))})),i.has(gn.keyField().canonicalString())||t.Ie.push(new Xc(gn.keyField(),a))}return t.Ie}function Bi(s){const t=Vt(s);return t.Ee||(t.Ee=tw(t,Il(s))),t.Ee}function tw(s,t){if(s.limitType==="F")return g0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Xc(l.field,c)}));const i=s.endAt?new Yc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Yc(s.startAt.position,s.startAt.inclusive):null;return g0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function im(s,t,i){return new mh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function gh(s,t){return Dm(Bi(s),Bi(t))&&s.limitType===t.limitType}function sE(s){return`${Nm(Bi(s))}|lt:${s.limitType}`}function $a(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>eE(l))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>co(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>co(l))).join(",")),`Target(${a})`})(Bi(s))}; limitType=${s.limitType})`}function ph(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):bt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Il(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const p=d0(d,g,_);return d.inclusive?p<=0:p<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,g,_){const p=d0(d,g,_);return d.inclusive?p>=0:p>0})(a.endAt,Il(a),l))})(s,t)}function ew(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function rE(s){return(t,i)=>{let a=!1;for(const l of Il(s)){const c=nw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function nw(s,t,i){const a=s.field.isKeyField()?bt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),p=g.data.field(c);return _!==null&&p!==null?uo(_,p):xt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return xt(19790,{direction:s.dir})}}class aa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Er(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return qv(this.inner)}size(){return this.innerSize}}const iw=new Oe(bt.comparator);function vs(){return iw}const aE=new Oe(bt.comparator);function Al(...s){let t=aE;for(const i of s)t=t.insert(i.key,i);return t}function oE(s){let t=aE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Zr(){return xl()}function lE(){return xl()}function xl(){return new aa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const sw=new Oe(bt.comparator),rw=new en(bt.comparator);function Yt(...s){let t=rw;for(const i of s)t=t.add(i);return t}const aw=new en(Kt);function ow(){return aw}function Om(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function uE(s){return{integerValue:""+s}}function lw(s,t){return VA(t)?uE(t):Om(s,t)}class yh{constructor(){this._=void 0}}function uw(s,t,i){return s instanceof $c?(function(l,c){const d={fields:{[Gv]:{stringValue:Fv},[Kv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Im(c)&&(c=dh(c)),c&&(d.fields[Qv]=c),{mapValue:d}})(i,t):s instanceof Pl?hE(s,t):s instanceof Ul?fE(s,t):(function(l,c){const d=cE(l,c),g=y0(d)+y0(l.Ae);return tm(d)&&tm(l.Ae)?uE(g):Om(l.serializer,g)})(s,t)}function cw(s,t,i){return s instanceof Pl?hE(s,t):s instanceof Ul?fE(s,t):i}function cE(s,t){return s instanceof Wc?(function(a){return tm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class $c extends yh{}class Pl extends yh{constructor(t){super(),this.elements=t}}function hE(s,t){const i=dE(t);for(const a of s.elements)i.some((l=>Ki(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends yh{constructor(t){super(),this.elements=t}}function fE(s,t){let i=dE(t);for(const a of s.elements)i=i.filter((l=>!Ki(l,a)));return{arrayValue:{values:i}}}class Wc extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function y0(s){return Be(s.integerValue||s.doubleValue)}function dE(s){return xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function hw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Pl&&l instanceof Pl||a instanceof Ul&&l instanceof Ul?lo(a.elements,l.elements,Ki):a instanceof Wc&&l instanceof Wc?Ki(a.Ae,l.Ae):a instanceof $c&&l instanceof $c})(s.transform,t.transform)}class fw{constructor(t,i){this.version=t,this.transformResults=i}}class pi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new pi}static exists(t){return new pi(void 0,t)}static updateTime(t){return new pi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class _h{}function mE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Mm(s.key,pi.none()):new Gl(s.key,s.data,pi.none());{const i=s.data,a=Mn.empty();let l=new en(gn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Tr(s.key,a,new Hn(l.toArray()),pi.none())}}function dw(s,t,i){s instanceof Gl?(function(l,c,d){const g=l.value.clone(),_=v0(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof Tr?(function(l,c,d){if(!Lc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=v0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(gE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(s,t,i,a){return s instanceof Gl?(function(c,d,g,_){if(!Lc(c.precondition,d))return g;const p=c.value.clone(),T=E0(c.fieldTransforms,_,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,t,i,a):s instanceof Tr?(function(c,d,g,_){if(!Lc(c.precondition,d))return g;const p=E0(c.fieldTransforms,_,d),T=d.data;return T.setAll(gE(c)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,a):(function(c,d,g){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function mw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=cE(a.transform,l||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,c))}return i||null}function _0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&lo(a,l,((c,d)=>hw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Gl extends _h{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Tr extends _h{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function gE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function v0(s,t,i){const a=new Map;ue(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,cw(d,g,i[l]))}return a}function E0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,uw(c,d,t))}return a}class Mm extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gw extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&dw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=lE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=mE(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Dt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Yt())}isEqual(t){return this.batchId===t.batchId&&lo(this.mutations,t.mutations,((i,a)=>_0(i,a)))&&lo(this.baseMutations,t.baseMutations,((i,a)=>_0(i,a)))}}class Vm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){ue(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return sw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Vm(t,i,a,l)}}class yw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _w{constructor(t,i){this.count=t,this.unchangedNames=i}}var We,te;function vw(s){switch(s){case J.OK:return xt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return xt(15467,{code:s})}}function pE(s){if(s===void 0)return _s("GRPC error has no .code"),J.UNKNOWN;switch(s){case We.OK:return J.OK;case We.CANCELLED:return J.CANCELLED;case We.UNKNOWN:return J.UNKNOWN;case We.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case We.INTERNAL:return J.INTERNAL;case We.UNAVAILABLE:return J.UNAVAILABLE;case We.UNAUTHENTICATED:return J.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case We.NOT_FOUND:return J.NOT_FOUND;case We.ALREADY_EXISTS:return J.ALREADY_EXISTS;case We.PERMISSION_DENIED:return J.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case We.ABORTED:return J.ABORTED;case We.OUT_OF_RANGE:return J.OUT_OF_RANGE;case We.UNIMPLEMENTED:return J.UNIMPLEMENTED;case We.DATA_LOSS:return J.DATA_LOSS;default:return xt(39323,{code:s})}}(te=We||(We={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";function Ew(){return new TextEncoder}const Tw=new hr([4294967295,4294967295],0);function T0(s){const t=Ew().encode(s),i=new Dv;return i.update(t),new Uint8Array(i.digest())}function b0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new hr([i,a],0),new hr([l,c],0)]}class km{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(a<0)throw new wl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=hr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(hr.fromNumber(a)));return l.compare(Tw)===1&&(l=new hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=T0(t),[a,l]=b0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new km(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=T0(t),[a,l]=b0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(Dt.min(),l,new Oe(Kt),vs(),Yt())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,Yt(),Yt(),Yt())}}class Pc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class yE{constructor(t,i){this.targetId=t,this.Ce=i}}class _E{constructor(t,i,a=pn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class S0{constructor(){this.ve=0,this.Fe=A0(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Yt(),i=Yt(),a=Yt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:xt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=A0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bw{constructor(t){this.Ge=t,this.ze=new Map,this.je=vs(),this.Je=Cc(),this.He=Cc(),this.Ye=new Oe(Kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:xt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(nm(c))if(a===0){const d=new bt(c.path);this.et(i,d,En.newNoDocument(d,Dt.min()))}else ue(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=pr(a).toUint8Array()}catch(_){if(_ instanceof Hv)return oo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new km(d,l,c)}catch(_){return oo(_ instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&nm(g.target)){const _=new bt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,En.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Yt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const p=this.ot(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new vh(t,i,this.Ye,this.je,a);return this.je=vs(),this.Je=Cc(),this.He=Cc(),this.Ye=new Oe(Kt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new S0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new en(Kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new en(Kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new S0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new Oe(bt.comparator)}function A0(){return new Oe(bt.comparator)}const Sw={asc:"ASCENDING",desc:"DESCENDING"},Aw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ww={and:"AND",or:"OR"};class Rw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(s,t){return s.useProto3Json||fh(t)?t:{value:t}}function Zc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Cw(s,t){return Zc(s,t.toTimestamp())}function qi(s){return ue(!!s,49232),Dt.fromTimestamp((function(i){const a=gr(i);return new Re(a.seconds,a.nanos)})(s))}function Lm(s,t){return rm(s,t).canonicalString()}function rm(s,t){const i=(function(l){return new we(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function EE(s){const t=we.fromString(s);return ue(wE(t),10190,{key:t.toString()}),t}function am(s,t){return Lm(s.databaseId,t.path)}function zd(s,t){const i=EE(t);if(i.get(1)!==s.databaseId.projectId)throw new gt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new gt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new bt(bE(i))}function TE(s,t){return Lm(s.databaseId,t)}function Iw(s){const t=EE(s);return t.length===4?we.emptyPath():bE(t)}function om(s){return new we(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function bE(s){return ue(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function w0(s,t,i){return{name:am(s,t),fields:i.value.mapValue.fields}}function xw(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(p,T){return p.useProto3Json?(ue(T===void 0||typeof T=="string",58123),pn.fromBase64String(T||"")):(ue(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),pn.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(p){const T=p.code===void 0?J.UNKNOWN:pE(p.code);return new gt(T,p.message||"")})(d);i=new _E(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=zd(s,a.document.name),c=qi(a.document.updateTime),d=a.document.createTime?qi(a.document.createTime):Dt.min(),g=new Mn({mapValue:{fields:a.document.fields}}),_=En.newFoundDocument(l,c,d,g),p=a.targetIds||[],T=a.removedTargetIds||[];i=new Pc(p,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=zd(s,a.document),c=a.readTime?qi(a.readTime):Dt.min(),d=En.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=zd(s,a.document),c=a.removedTargetIds||[];i=new Pc([],c,l,null)}else{if(!("filter"in t))return xt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new _w(l,c),g=a.targetId;i=new yE(g,d)}}return i}function Nw(s,t){let i;if(t instanceof Gl)i={update:w0(s,t.key,t.value)};else if(t instanceof Mm)i={delete:am(s,t.key)};else if(t instanceof Tr)i={update:w0(s,t.key,t.data),updateMask:jw(t.fieldMask)};else{if(!(t instanceof gw))return xt(16599,{Vt:t.type});i={verify:am(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Wc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw xt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Cw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xt(27497)})(s,t.precondition)),i}function Dw(s,t){return s&&s.length>0?(ue(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?qi(l.updateTime):qi(c);return d.isEqual(Dt.min())&&(d=qi(c)),new fw(d,l.transformResults||[])})(i,t)))):[]}function Ow(s,t){return{documents:[TE(s,t.path)]}}function Mw(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=TE(s,l);const c=(function(p){if(p.length!==0)return AE(Yi.create(p,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((T=>(function(N){return{field:Wa(N.field),direction:Lw(N.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=sm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:i,parent:l}}function Vw(s){let t=Iw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ue(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const N=SE(A);return N instanceof Yi&&Jv(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(F){return new Xc(Za(F.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let N;return N=typeof A=="object"?A.value:A,fh(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(A){const N=!!A.before,B=A.values||[];return new Yc(B,N)})(i.startAt));let p=null;return i.endAt&&(p=(function(A){const N=!A.before,B=A.values||[];return new Yc(B,N)})(i.endAt)),ZA(t,l,d,c,g,"F",_,p)}function kw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function SE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Za(i.unaryFilter.field);return tn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Za(i.unaryFilter.field);return tn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Za(i.unaryFilter.field);return tn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Za(i.unaryFilter.field);return tn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return tn.create(Za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Yi.create(i.compositeFilter.filters.map((a=>SE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(i.compositeFilter.op))})(s):xt(30097,{filter:s})}function Lw(s){return Sw[s]}function Pw(s){return Aw[s]}function Uw(s){return ww[s]}function Wa(s){return{fieldPath:s.canonicalString()}}function Za(s){return gn.fromServerFormat(s.fieldPath)}function AE(s){return s instanceof tn?(function(i){if(i.op==="=="){if(f0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NAN"}};if(h0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(f0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NAN"}};if(h0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(i.field),op:Pw(i.op),value:i.value}}})(s):s instanceof Yi?(function(i){const a=i.getFilters().map((l=>AE(l)));return a.length===1?a[0]:{compositeFilter:{op:Uw(i.op),filters:a}}})(s):xt(54877,{filter:s})}function jw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function wE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class or{constructor(t,i,a,l,c=Dt.min(),d=Dt.min(),g=pn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class zw{constructor(t){this.yt=t}}function Bw(s){const t=Vw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?im(t,t.limit,"L"):t}class qw{constructor(){this.Cn=new Hw}addToCollectionParentIndex(t,i){return this.Cn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(mr.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(mr.min())}updateCollectionGroup(t,i,a){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class Hw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new en(we.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new en(we.comparator)).toArray()}}const R0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RE=41943040;class On{static withCacheSize(t){return new On(t,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(RE,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class ho{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ho(0)}static cr(){return new ho(-1)}}const C0="LruGarbageCollector",Fw=1048576;function I0([s,t],[i,a]){const l=Kt(s,i);return l===0?Kt(t,a):l}class Gw{constructor(t){this.Ir=t,this.buffer=new en(I0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();I0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Qw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(C0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){_o(i)?ct(C0,"Ignoring IndexedDB error during garbage collection: ",i):await yo(i)}await this.Vr(3e5)}))}}class Kw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return W.resolve(hh.ce);const a=new Gw(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(R0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,g,_,p;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(p=Date.now(),Xa()<=Qt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(p-_)+`ms
Total Duration: ${p-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function Yw(s,t){return new Kw(s,t)}class Xw{constructor(){this.changes=new aa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,En.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $w{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Ww{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Nl(a.mutation,l,Hn.empty(),Re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Yt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Yt()){const l=Zr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Al();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Zr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Yt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=vs();const d=xl(),g=(function(){return xl()})();return i.forEach(((_,p)=>{const T=a.get(p.key);l.has(p.key)&&(T===void 0||T.mutation instanceof Tr)?c=c.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),Nl(T.mutation,p,T.mutation.getFieldMask(),Re.now())):d.set(p.key,Hn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((p,T)=>d.set(p,T))),i.forEach(((p,T)=>g.set(p,new $w(T,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=xl();let l=new Oe(((d,g)=>d-g)),c=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const p=i.get(_);if(p===null)return;let T=a.get(_)||Hn.empty();T=g.applyToLocalView(p,T),a.set(_,T);const A=(l.get(g.batchId)||Yt()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),p=_.key,T=_.value,A=lE();T.forEach((N=>{if(!c.has(N)){const B=mE(i.get(N),a.get(N));B!==null&&A.set(N,B),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,p,A))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return bt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):JA(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):W.resolve(Zr());let g=Ml,_=c;return d.next((p=>W.forEach(p,((T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(T)?W.resolve():this.remoteDocumentCache.getEntry(t,T).next((N=>{_=_.insert(T,N)}))))).next((()=>this.populateOverlays(t,p,c))).next((()=>this.computeViews(t,_,p,Yt()))).next((T=>({batchId:g,changes:oE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new bt(i)).next((a=>{let l=Al();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((g=>W.forEach(g,(_=>{const p=(function(A,N){return new mh(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,p,a,l).next((T=>{T.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,En.newInvalidDocument(T)))}));let g=Al();return d.forEach(((_,p)=>{const T=c.get(_);T!==void 0&&Nl(T.mutation,p,Hn.empty(),Re.now()),ph(i,p)&&(g=g.insert(_,p))})),g}))}}class Zw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:qi(l.createTime)}})(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Bw(l.bundledQuery),readTime:qi(l.readTime)}})(i)),W.resolve()}}class Jw{constructor(){this.overlays=new Oe(bt.comparator),this.qr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Zr();return W.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),W.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),W.resolve()}getOverlaysForCollection(t,i,a){const l=Zr(),c=i.length+1,d=new bt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,p=_.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return W.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new Oe(((p,T)=>p-T));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let T=c.get(p.largestBatchId);T===null&&(T=Zr(),c=c.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=Zr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((p,T)=>g.set(p,T))),!(g.size()>=l)););return W.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new yw(i,a));let c=this.qr.get(i);c===void 0&&(c=Yt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class t2{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}class Pm{constructor(){this.Qr=new en(on.$r),this.Ur=new en(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new on(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new on(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new bt(new we([])),a=new on(i,t),l=new on(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new bt(new we([])),a=new on(i,t),l=new on(i,t+1);let c=Yt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new on(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class on{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return bt.comparator(t.key,i.key)||Kt(t.Yr,i.Yr)}static Kr(t,i){return Kt(t.Yr,i.Yr)||bt.comparator(t.key,i.key)}}class e2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new en(on.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new pw(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new on(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Cm:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new on(i,0),l=new on(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new en(Kt);return i.forEach((l=>{const c=new on(l,0),d=new on(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),W.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;bt.isDocumentKey(c)||(c=c.child(""));const d=new on(new bt(c),0);let g=new en(Kt);return this.Zr.forEachWhile((_=>{const p=_.key.path;return!!a.isPrefixOf(p)&&(p.length===l&&(g=g.add(_.Yr)),!0)}),d),W.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){ue(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return W.forEach(i.mutations,(l=>{const c=new on(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new on(i,0),l=this.Zr.firstAfterOrEqual(a);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class n2{constructor(t){this.ri=t,this.docs=(function(){return new Oe(bt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():En.newInvalidDocument(i))}getEntries(t,i){let a=vs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():En.newInvalidDocument(l))})),W.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=vs();const d=i.path,g=new bt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:p,value:{document:T}}=_.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||NA(xA(T),a)<=0||(l.has(T.key)||ph(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(t,i,a,l){xt(9500)}ii(t,i){return W.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new i2(this)}getSize(t){return W.resolve(this.size)}}class i2 extends Xw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),W.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class s2{constructor(t){this.persistence=t,this.si=new aa((i=>Nm(i)),Dm),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=ho.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),W.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ho(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.Pr(i),W.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return W.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),W.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return W.resolve(a)}containsKey(t,i){return W.resolve(this._i.containsKey(i))}}class CE{constructor(t,i){this.ui={},this.overlays={},this.ci=new hh(0),this.li=!1,this.li=!0,this.hi=new t2,this.referenceDelegate=t(this),this.Pi=new s2(this),this.indexManager=new qw,this.remoteDocumentCache=(function(l){return new n2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new zw(i),this.Ii=new Zw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Jw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new e2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ct("MemoryPersistence","Starting transaction:",t);const l=new r2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return W.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class r2 extends OA{constructor(t){super(),this.currentSequenceNumber=t}}class Um{constructor(t){this.persistence=t,this.Ri=new Pm,this.Vi=null}static mi(t){return new Um(t)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),W.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(a=>{const l=bt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Dt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Jc{constructor(t,i){this.persistence=t,this.pi=new aa((a=>kA(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Yw(this,i)}static mi(t,i){return new Jc(t,i)}Ei(){}di(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return W.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?W.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Dt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),W.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Vc(t.data.value)),i}br(t,i,a){return W.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Yt(),l=Yt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new jm(t,i.fromCache,a,l)}}class a2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class o2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return W1()?8:MA(Tn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new a2;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Xa()<=Qt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",$a(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Xa()<=Qt.DEBUG&&ct("QueryEngine","Query:",$a(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Xa()<=Qt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",$a(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(i))):W.resolve())}ys(t,i){if(p0(i))return W.resolve(null);let a=Bi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=im(i,null,"F"),a=Bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Yt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const p=this.Ds(i,g);return this.Cs(i,p,d,_.readTime)?this.ys(t,im(i,null,"F")):this.vs(t,p,i,_)}))))})))))}ws(t,i,a,l){return p0(i)||l.isEqual(Dt.min())?W.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?W.resolve(null):(Xa()<=Qt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),$a(i)),this.vs(t,d,i,IA(l,Ml)).next((g=>g)))}))}Ds(t,i){let a=new en(rE(t));return i.forEach(((l,c)=>{ph(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Xa()<=Qt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",$a(i)),this.ps.getDocumentsMatchingQuery(t,i,mr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const zm="LocalStore",l2=3e8;class u2{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Oe(Kt),this.xs=new aa((c=>Nm(c)),Dm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ww(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function c2(s,t,i,a){return new u2(s,t,i,a)}async function IE(s,t){const i=Vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Yt();for(const p of l){d.push(p.batchId);for(const T of p.mutations)_=_.add(T.key)}for(const p of c){g.push(p.batchId);for(const T of p.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function h2(s,t){const i=Vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,p,T){const A=p.batch,N=A.keys();let B=W.resolve();return N.forEach((F=>{B=B.next((()=>T.getEntry(_,F))).next((tt=>{const X=p.docVersions.get(F);ue(X!==null,48541),tt.version.compareTo(X)<0&&(A.applyToRemoteDocument(tt,p),tt.isValidDocument()&&(tt.setReadTime(p.commitVersion),T.addEntry(tt)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Yt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(_=_.add(g.batch.mutations[p].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function xE(s){const t=Vt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function f2(s,t){const i=Vt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((T,A)=>{const N=l.get(A);if(!N)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,A))));let B=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?B=B.withResumeToken(pn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,a)),l=l.insert(A,B),(function(tt,X,ft){return tt.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=l2?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(N,B,T)&&g.push(i.Pi.updateTargetData(c,B))}));let _=vs(),p=Yt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(d2(c,d,t.documentUpdates).next((T=>{_=T.ks,p=T.qs}))),!a.isEqual(Dt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return W.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,p))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function d2(s,t,i){let a=Yt(),l=Yt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=vs();return i.forEach(((g,_)=>{const p=c.get(g);_.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Dt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):ct(zm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function m2(s,t){const i=Vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Cm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function g2(s,t){const i=Vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,W.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new or(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function lm(s,t,i){const a=Vt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_o(d))throw d;ct(zm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function x0(s,t,i){const a=Vt(s);let l=Dt.min(),c=Yt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,p,T){const A=Vt(_),N=A.xs.get(T);return N!==void 0?W.resolve(A.Ms.get(N)):A.Pi.getTargetData(p,T)})(a,d,Bi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Dt.min(),i?c:Yt()))).next((g=>(p2(a,ew(t),g),{documents:g,Qs:c})))))}function p2(s,t,i){let a=s.Os.get(t)||Dt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class N0{constructor(){this.activeTargetIds=ow()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class y2{constructor(){this.Mo=new N0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new N0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class _2{Oo(t){}shutdown(){}}const D0="ConnectivityMonitor";class O0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(D0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(D0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ic=null;function um(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}const Bd="RestConnection",v2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class E2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Qc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=um(),g=this.zo(t,i.toUriEncodedString());ct(Bd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:p}=new URL(g),T=mo(p);return this.Jo(t,g,_,a,T).then((A=>(ct(Bd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw oo(Bd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=v2[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class T2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const _n="WebChannelConnection";class b2 extends E2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=um();return new Promise(((g,_)=>{const p=new Ov;p.setWithCredentials(!0),p.listenOnce(Mv.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Mc.NO_ERROR:const A=p.getResponseJson();ct(_n,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Mc.TIMEOUT:ct(_n,`RPC '${t}' ${d} timed out`),_(new gt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const N=p.getStatus();if(ct(_n,`RPC '${t}' ${d} failed with status:`,N,"response text:",p.getResponseText()),N>0){let B=p.getResponseJson();Array.isArray(B)&&(B=B[0]);const F=B?.error;if(F&&F.status&&F.message){const tt=(function(ft){const Tt=ft.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Tt)>=0?Tt:J.UNKNOWN})(F.status);_(new gt(tt,F.message))}else _(new gt(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new gt(J.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ct(_n,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);ct(_n,`RPC '${t}' ${d} sending request:`,l),p.send(i,"POST",T,a,15)}))}T_(t,i,a){const l=um(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Lv(),g=kv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const T=c.join("");ct(_n,`Creating RPC '${t}' stream ${l}: ${T}`,_);const A=d.createWebChannel(T,_);this.I_(A);let N=!1,B=!1;const F=new T2({Yo:X=>{B?ct(_n,`Not sending because RPC '${t}' stream ${l} is closed:`,X):(N||(ct(_n,`Opening RPC '${t}' stream ${l} transport.`),A.open(),N=!0),ct(_n,`RPC '${t}' stream ${l} sending:`,X),A.send(X))},Zo:()=>A.close()}),tt=(X,ft,Tt)=>{X.listen(ft,(pt=>{try{Tt(pt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return tt(A,Sl.EventType.OPEN,(()=>{B||(ct(_n,`RPC '${t}' stream ${l} transport opened.`),F.o_())})),tt(A,Sl.EventType.CLOSE,(()=>{B||(B=!0,ct(_n,`RPC '${t}' stream ${l} transport closed`),F.a_(),this.E_(A))})),tt(A,Sl.EventType.ERROR,(X=>{B||(B=!0,oo(_n,`RPC '${t}' stream ${l} transport errored. Name:`,X.name,"Message:",X.message),F.a_(new gt(J.UNAVAILABLE,"The operation could not be completed")))})),tt(A,Sl.EventType.MESSAGE,(X=>{if(!B){const ft=X.data[0];ue(!!ft,16349);const Tt=ft,pt=Tt?.error||Tt[0]?.error;if(pt){ct(_n,`RPC '${t}' stream ${l} received error:`,pt);const qt=pt.status;let yt=(function(R){const w=We[R];if(w!==void 0)return pE(w)})(qt),Rt=pt.message;yt===void 0&&(yt=J.INTERNAL,Rt="Unknown error status: "+qt+" with message "+pt.message),B=!0,F.a_(new gt(yt,Rt)),A.close()}else ct(_n,`RPC '${t}' stream ${l} received:`,ft),F.u_(ft)}})),tt(g,Vv.STAT_EVENT,(X=>{X.stat===Wd.PROXY?ct(_n,`RPC '${t}' stream ${l} detected buffering proxy`):X.stat===Wd.NOPROXY&&ct(_n,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}function Eh(s){return new Rw(s,!0)}class NE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const M0="PersistentStream";class DE{constructor(t,i,a,l,c,d,g,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(_s(i.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new gt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(M0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ct(M0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class S2 extends DE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=xw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Dt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Dt.min():d.readTime?qi(d.readTime):Dt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=om(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=nm(_)?{documents:Ow(c,_)}:{query:Mw(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=vE(c,d.resumeToken);const p=sm(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Dt.min())>0){g.readTime=Zc(c,d.snapshotVersion.toTimestamp());const p=sm(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,t);const a=kw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=om(this.serializer),i.removeTarget=t,this.q_(i)}}class A2 extends DE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ue(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ue(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ue(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Dw(t.writeResults,t.commitTime),a=qi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=om(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Nw(this.serializer,a)))};this.q_(i)}}class w2{}class R2 extends w2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new gt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,rm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(J.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,rm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new gt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class C2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class I2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{oa(this)&&(ct(ia,"Restarting streams for network reachability change."),await(async function(_){const p=Vt(_);p.Ea.add(4),await Kl(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Th(p)})(this))}))})),this.Ra=new C2(a,l)}}async function Th(s){if(oa(s))for(const t of s.da)await t(!0)}async function Kl(s){for(const t of s.da)await t(!1)}function OE(s,t){const i=Vt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Fm(i)?Hm(i):vo(i).O_()&&qm(i,t))}function Bm(s,t){const i=Vt(s),a=vo(i);i.Ia.delete(t),a.O_()&&ME(i,t),i.Ia.size===0&&(a.O_()?a.L_():oa(i)&&i.Ra.set("Unknown"))}function qm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}vo(s).Y_(t)}function ME(s,t){s.Va.Ue(t),vo(s).Z_(t)}function Hm(s){s.Va=new bw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),vo(s).start(),s.Ra.ua()}function Fm(s){return oa(s)&&!vo(s).x_()&&s.Ia.size>0}function oa(s){return Vt(s).Ea.size===0}function VE(s){s.Va=void 0}async function x2(s){s.Ra.set("Online")}async function N2(s){s.Ia.forEach(((t,i)=>{qm(s,t)}))}async function D2(s,t){VE(s),Fm(s)?(s.Ra.ha(t),Hm(s)):s.Ra.set("Unknown")}async function O2(s,t,i){if(s.Ra.set("Online"),t instanceof _E&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(a){ct(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await th(s,a)}else if(t instanceof Pc?s.Va.Ze(t):t instanceof yE?s.Va.st(t):s.Va.tt(t),!i.isEqual(Dt.min()))try{const a=await xE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(p);T&&c.Ia.set(p,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,p)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(pn.EMPTY_BYTE_STRING,T.snapshotVersion)),ME(c,_);const A=new or(T.target,_,p,T.sequenceNumber);qm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ct(ia,"Failed to raise snapshot:",a),await th(s,a)}}async function th(s,t,i){if(!_o(t))throw t;s.Ea.add(1),await Kl(s),s.Ra.set("Offline"),i||(i=()=>xE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ct(ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Th(s)}))}function kE(s,t){return t().catch((i=>th(s,i,t)))}async function bh(s){const t=Vt(s),i=_r(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Cm;for(;M2(t);)try{const l=await m2(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,V2(t,l)}catch(l){await th(t,l)}LE(t)&&PE(t)}function M2(s){return oa(s)&&s.Ta.length<10}function V2(s,t){s.Ta.push(t);const i=_r(s);i.O_()&&i.X_&&i.ea(t.mutations)}function LE(s){return oa(s)&&!_r(s).x_()&&s.Ta.length>0}function PE(s){_r(s).start()}async function k2(s){_r(s).ra()}async function L2(s){const t=_r(s);for(const i of s.Ta)t.ea(i.mutations)}async function P2(s,t,i){const a=s.Ta.shift(),l=Vm.from(a,t,i);await kE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await bh(s)}async function U2(s,t){t&&_r(s).X_&&await(async function(a,l){if((function(d){return vw(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();_r(a).B_(),await kE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(a)}})(s,t),LE(s)&&PE(s)}async function V0(s,t){const i=Vt(s);i.asyncQueue.verifyOperationInProgress(),ct(ia,"RemoteStore received new credentials");const a=oa(i);i.Ea.add(3),await Kl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function j2(s,t){const i=Vt(s);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Kl(i),i.Ra.set("Unknown"))}function vo(s){return s.ma||(s.ma=(function(i,a,l){const c=Vt(i);return c.sa(),new S2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:x2.bind(null,s),t_:N2.bind(null,s),r_:D2.bind(null,s),H_:O2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Fm(s)?Hm(s):s.Ra.set("Unknown")):(await s.ma.stop(),VE(s))}))),s.ma}function _r(s){return s.fa||(s.fa=(function(i,a,l){const c=Vt(i);return c.sa(),new A2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:k2.bind(null,s),r_:U2.bind(null,s),ta:L2.bind(null,s),na:P2.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await bh(s)):(await s.fa.stop(),s.Ta.length>0&&(ct(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Gm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new Gm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(s,t){if(_s("AsyncQueue",`${t}: ${s}`),_o(s))return new gt(J.UNAVAILABLE,`${t}: ${s}`);throw s}class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||bt.comparator(i.key,a.key):(i,a)=>bt.comparator(i.key,a.key),this.keyedMap=Al(),this.sortedSet=new Oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new to;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class k0{constructor(){this.ga=new Oe(bt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):xt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class fo{constructor(t,i,a,l,c,d,g,_,p){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new fo(t,i,to.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class z2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class B2{constructor(){this.queries=L0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Vt(i),c=l.queries;l.queries=L0(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new gt(J.ABORTED,"Firestore shutting down"))}}function L0(){return new aa((s=>sE(s)),gh)}async function q2(s,t){const i=Vt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new z2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Qm(d,`Initialization of query '${$a(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Km(i)}async function H2(s,t){const i=Vt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function F2(s,t){const i=Vt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&Km(i)}function G2(s,t,i){const a=Vt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Km(s){s.Ca.forEach((t=>{t.next()}))}var cm,P0;(P0=cm||(cm={})).Ma="default",P0.Cache="cache";class Q2{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new fo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==cm.Cache}}class UE{constructor(t){this.key=t}}class jE{constructor(t){this.key=t}}class K2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Yt(),this.mutatedKeys=Yt(),this.eu=rE(t),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new k0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const N=l.get(T),B=ph(this.query,A)?A:null,F=!!N&&this.mutatedKeys.has(N.key),tt=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let X=!1;N&&B?N.data.isEqual(B.data)?F!==tt&&(a.track({type:3,doc:B}),X=!0):this.su(N,B)||(a.track({type:2,doc:B}),X=!0,(_&&this.eu(B,_)>0||p&&this.eu(B,p)<0)&&(g=!0)):!N&&B?(a.track({type:0,doc:B}),X=!0):N&&!B&&(a.track({type:1,doc:N}),X=!0,(_||p)&&(g=!0)),X&&(B?(d=d.add(B),c=tt?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(B,F){const tt=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Rt:X})}};return tt(B)-tt(F)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,p=_!==this.Za;return this.Za=_,d.length!==0||p?{snapshot:new fo(this.query,t.tu,c,d,t.mutatedKeys,_===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new k0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Yt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new jE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new UE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Yt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ym="SyncEngine";class Y2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class X2{constructor(t){this.key=t,this.hu=!1}}class $2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new aa((g=>sE(g)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new Oe(bt.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function W2(s,t,i=!0){const a=GE(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await zE(a,t,i,!0),l}async function Z2(s,t){const i=GE(s);await zE(i,t,!0,!1)}async function zE(s,t,i,a){const l=await g2(s.localStore,Bi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await J2(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&OE(s.remoteStore,l),g}async function J2(s,t,i,a,l){s.pu=(A,N,B)=>(async function(tt,X,ft,Tt){let pt=X.view.ru(ft);pt.Cs&&(pt=await x0(tt.localStore,X.query,!1).then((({documents:I})=>X.view.ru(I,pt))));const qt=Tt&&Tt.targetChanges.get(X.targetId),yt=Tt&&Tt.targetMismatches.get(X.targetId)!=null,Rt=X.view.applyChanges(pt,tt.isPrimaryClient,qt,yt);return j0(tt,X.targetId,Rt.au),Rt.snapshot})(s,A,N,B);const c=await x0(s.localStore,t,!0),d=new K2(t,c.Qs),g=d.ru(c.documents),_=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),p=d.applyChanges(g,s.isPrimaryClient,_);j0(s,i,p.au);const T=new Y2(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),p.snapshot}async function tR(s,t,i){const a=Vt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await lm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Bm(a.remoteStore,l.targetId),hm(a,l.targetId)})).catch(yo)):(hm(a,l.targetId),await lm(a.localStore,l.targetId,!0))}async function eR(s,t){const i=Vt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Bm(i.remoteStore,a.targetId))}async function nR(s,t,i){const a=uR(s);try{const l=await(function(d,g){const _=Vt(d),p=Re.now(),T=g.reduce(((B,F)=>B.add(F.key)),Yt());let A,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let F=vs(),tt=Yt();return _.Ns.getEntries(B,T).next((X=>{F=X,F.forEach(((ft,Tt)=>{Tt.isValidDocument()||(tt=tt.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(B,F))).next((X=>{A=X;const ft=[];for(const Tt of g){const pt=mw(Tt,A.get(Tt.key).overlayedDocument);pt!=null&&ft.push(new Tr(Tt.key,pt,$v(pt.value.mapValue),pi.exists(!0)))}return _.mutationQueue.addMutationBatch(B,p,ft,g)})).next((X=>{N=X;const ft=X.applyToLocalDocumentSet(A,tt);return _.documentOverlayCache.saveOverlays(B,X.batchId,ft)}))})).then((()=>({batchId:N.batchId,changes:oE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let p=d.Vu[d.currentUser.toKey()];p||(p=new Oe(Kt)),p=p.insert(g,_),d.Vu[d.currentUser.toKey()]=p})(a,l.batchId,i),await Yl(a,l.changes),await bh(a.remoteStore)}catch(l){const c=Qm(l,"Failed to persist write");i.reject(c)}}async function BE(s,t){const i=Vt(s);try{const a=await f2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(ue(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ue(d.hu,14607):l.removedDocuments.size>0&&(ue(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await yo(a)}}function U0(s,t,i){const a=Vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Vt(d);_.onlineState=g;let p=!1;_.queries.forEach(((T,A)=>{for(const N of A.Sa)N.va(g)&&(p=!0)})),p&&Km(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function iR(s,t,i){const a=Vt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new Oe(bt.comparator);d=d.insert(c,En.newNoDocument(c,Dt.min()));const g=Yt().add(c),_=new vh(Dt.min(),new Map,new Oe(Kt),d,g);await BE(a,_),a.du=a.du.remove(c),a.Au.delete(t),Xm(a)}else await lm(a.localStore,t,!1).then((()=>hm(a,t,i))).catch(yo)}async function sR(s,t){const i=Vt(s),a=t.batch.batchId;try{const l=await h2(i.localStore,t);HE(i,a,null),qE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await yo(l)}}async function rR(s,t,i){const a=Vt(s);try{const l=await(function(d,g){const _=Vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return _.mutationQueue.lookupMutationBatch(p,g).next((A=>(ue(A!==null,37113),T=A.keys(),_.mutationQueue.removeMutationBatch(p,A)))).next((()=>_.mutationQueue.performConsistencyCheck(p))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(p,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>_.localDocuments.getDocuments(p,T)))}))})(a.localStore,t);HE(a,t,i),qE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await yo(l)}}function qE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function HE(s,t,i){const a=Vt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function hm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||FE(s,a)}))}function FE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Bm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Xm(s))}function j0(s,t,i){for(const a of i)a instanceof UE?(s.Ru.addReference(a.key,t),aR(s,a)):a instanceof jE?(ct(Ym,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||FE(s,a.key)):xt(19791,{wu:a})}function aR(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ct(Ym,"New document in limbo: "+i),s.Eu.add(a),Xm(s))}function Xm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new bt(we.fromString(t)),a=s.fu.next();s.Au.set(a,new X2(i)),s.du=s.du.insert(i,a),OE(s.remoteStore,new or(Bi(iE(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Yl(s,t,i){const a=Vt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((p=>{if((p||i)&&a.isPrimaryClient){const T=p?!p.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(p){l.push(p);const T=jm.As(_.targetId,p);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,p){const T=Vt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>W.forEach(p,(N=>W.forEach(N.Es,(B=>T.persistence.referenceDelegate.addReference(A,N.targetId,B))).next((()=>W.forEach(N.ds,(B=>T.persistence.referenceDelegate.removeReference(A,N.targetId,B)))))))))}catch(A){if(!_o(A))throw A;ct(zm,"Failed to update sequence numbers: "+A)}for(const A of p){const N=A.targetId;if(!A.fromCache){const B=T.Ms.get(N),F=B.snapshotVersion,tt=B.withLastLimboFreeSnapshotVersion(F);T.Ms=T.Ms.insert(N,tt)}}})(a.localStore,c))}async function oR(s,t){const i=Vt(s);if(!i.currentUser.isEqual(t)){ct(Ym,"User change. New user:",t.toKey());const a=await IE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new gt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ls)}}function lR(s,t){const i=Vt(s),a=i.Au.get(t);if(a&&a.hu)return Yt().add(a.key);{let l=Yt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function GE(s){const t=Vt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=BE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iR.bind(null,t),t.Pu.H_=F2.bind(null,t.eventManager),t.Pu.yu=G2.bind(null,t.eventManager),t}function uR(s){const t=Vt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rR.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return c2(this.persistence,new o2,t.initialUser,this.serializer)}Cu(t){return new CE(Um.mi,this.serializer)}Du(t){return new y2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class cR extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ue(this.persistence.referenceDelegate instanceof Jc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Qw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new CE((a=>Jc.mi(a,i)),this.serializer)}}class fm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>U0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=oR.bind(null,this.syncEngine),await j2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new B2})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=(function(c){return new b2(c)})(t.databaseInfo);return(function(c,d,g,_){return new R2(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new I2(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>U0(this.syncEngine,i,0)),(function(){return O0.v()?new O0:new _2})())}createSyncEngine(t,i){return(function(l,c,d,g,_,p,T){const A=new $2(l,c,d,g,_,p);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Vt(i);ct(ia,"RemoteStore shutting down."),a.Ea.add(5),await Kl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fm.provider={build:()=>new fm};class hR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):_s("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const vr="FirestoreClient";class fR{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=vn.UNAUTHENTICATED,this.clientId=wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ct(vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ct(vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Qm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(s,t){s.asyncQueue.verifyOperationInProgress(),ct(vr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await IE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function z0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await dR(s);ct(vr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>V0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>V0(t.remoteStore,l))),s._onlineComponents=t}async function dR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ct(vr,"Using user provided OfflineComponentProvider");try{await Hd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await Hd(s,new eh)}}else ct(vr,"Using default OfflineComponentProvider"),await Hd(s,new cR(void 0));return s._offlineComponents}async function QE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ct(vr,"Using user provided OnlineComponentProvider"),await z0(s,s._uninitializedComponentsProvider._online)):(ct(vr,"Using default OnlineComponentProvider"),await z0(s,new fm))),s._onlineComponents}function mR(s){return QE(s).then((t=>t.syncEngine))}async function gR(s){const t=await QE(s),i=t.eventManager;return i.onListen=W2.bind(null,t.syncEngine),i.onUnlisten=tR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Z2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=eR.bind(null,t.syncEngine),i}function pR(s,t,i={}){const a=new fr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,p){const T=new hR({next:N=>{T.Nu(),d.enqueueAndForget((()=>H2(c,A))),N.fromCache&&_.source==="server"?p.reject(new gt(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(N)},error:N=>p.reject(N)}),A=new Q2(g,T,{includeMetadataChanges:!0,qa:!0});return q2(c,A)})(await gR(s),s.asyncQueue,t,i,a))),a.promise}function KE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const B0=new Map;const YE="firestore.googleapis.com",q0=!0;class H0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YE,this.ssl=q0}else this.host=t.host,this.ssl=t.ssl??q0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=RE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Fw)throw new gt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new gt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new gt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new gt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new yA;switch(a.type){case"firstParty":return new TA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new gt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=B0.get(i);a&&(ct("ComponentProvider","Removing Datastore"),B0.delete(i),a.terminate())})(this),Promise.resolve()}}function yR(s,t,i,a={}){s=na(s,Sh);const l=mo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(Sv(`https://${g}`),Av("Firestore",!0)),c.host!==YE&&c.host!==g&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!Jr(_,d)&&(s._setSettings(_),a.mockUserToken)){let p,T;if(typeof a.mockUserToken=="string")p=a.mockUserToken,T=vn.MOCK_USER;else{p=q1(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new gt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new vn(A)}s._authCredentials=new _A(new Uv(p,T))}}class Ah{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ah(this.firestore,t,this._query)}}class ln{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ln(this.firestore,t,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fl(i,ln._jsonSchema))return new ln(t,a||null,new bt(we.fromString(i.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:Ze("string",ln._jsonSchemaVersion),referencePath:Ze("string")};class dr extends Ah{constructor(t,i,a){super(t,i,iE(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new bt(t))}withConverter(t){return new dr(this.firestore,t,this._path)}}function F0(s,t,...i){if(s=nn(s),jv("collection","path",t),s instanceof Sh){const a=we.fromString(t,...i);return i0(a),new dr(s,null,a)}{if(!(s instanceof ln||s instanceof dr))throw new gt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(we.fromString(t,...i));return i0(a),new dr(s.firestore,null,a)}}function dm(s,t,...i){if(s=nn(s),arguments.length===1&&(t=wm.newId()),jv("doc","path",t),s instanceof Sh){const a=we.fromString(t,...i);return n0(a),new ln(s,null,new bt(a))}{if(!(s instanceof ln||s instanceof dr))throw new gt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(we.fromString(t,...i));return n0(a),new ln(s.firestore,s instanceof dr?s.converter:null,new bt(a))}}const G0="AsyncQueue";class Q0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NE(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&ct(G0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_o(t))throw t;ct(G0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",K0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Gm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&xt(47125,{Pc:K0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function K0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Xl extends Sh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Q0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Q0(t),this._firestoreClient=void 0,await t}}}function _R(s,t){const i=typeof s=="object"?s:Iv(),a=typeof s=="string"?s:Qc,l=Sm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=z1("firestore");c&&yR(l,...c)}return l}function XE(s){if(s._terminated)throw new gt(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||vR(s),s._firestoreClient}function vR(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new UA(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,KE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new fR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ii{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ii(pn.fromBase64String(t))}catch(i){throw new gt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ii(pn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,ii._jsonSchema))return ii.fromBase64String(t.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Ze("string",ii._jsonSchemaVersion),bytes:Ze("string")};class wh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new gt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class $m{constructor(t){this._methodName=t}}class Hi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new gt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new gt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Ze("string",Hi._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};class Fi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Fi(t.vectorValues);throw new gt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Ze("string",Fi._jsonSchemaVersion),vectorValues:Ze("object")};const ER=/^__.*__$/;class TR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Tr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}class $E{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Tr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function WE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:s})}}class Wm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Wm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return nh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(WE(this.Ac)&&ER.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class bR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}Cc(t,i,a,l=!1){return new Wm({Ac:t,methodName:i,Dc:a,path:gn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZE(s){const t=s._freezeSettings(),i=Eh(s._databaseId);return new bR(s._databaseId,!!t.ignoreUndefinedProperties,i)}function SR(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Zm("Data must be an object, but it was:",d,a);const g=JE(a,d);let _,p;if(c.merge)_=new Hn(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const N=mm(t,A,i);if(!d.contains(N))throw new gt(J.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);eT(T,N)||T.push(N)}_=new Hn(T),p=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,p=d.fieldTransforms;return new TR(new Mn(g),_,p)}class Rh extends $m{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rh}}function AR(s,t,i,a){const l=s.Cc(1,t,i);Zm("Data must be an object, but it was:",l,a);const c=[],d=Mn.empty();Er(a,((_,p)=>{const T=Jm(t,_,i);p=nn(p);const A=l.yc(T);if(p instanceof Rh)c.push(T);else{const N=Ch(p,A);N!=null&&(c.push(T),d.set(T,N))}}));const g=new Hn(c);return new $E(d,g,l.fieldTransforms)}function wR(s,t,i,a,l,c){const d=s.Cc(1,t,i),g=[mm(t,a,i)],_=[l];if(c.length%2!=0)throw new gt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)g.push(mm(t,c[N])),_.push(c[N+1]);const p=[],T=Mn.empty();for(let N=g.length-1;N>=0;--N)if(!eT(p,g[N])){const B=g[N];let F=_[N];F=nn(F);const tt=d.yc(B);if(F instanceof Rh)p.push(B);else{const X=Ch(F,tt);X!=null&&(p.push(B),T.set(B,X))}}const A=new Hn(p);return new $E(T,A,d.fieldTransforms)}function Ch(s,t){if(tT(s=nn(s)))return Zm("Unsupported field value:",t,s),JE(s,t);if(s instanceof $m)return(function(a,l){if(!WE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=Ch(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=nn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Re.fromDate(a);return{timestampValue:Zc(l.serializer,c)}}if(a instanceof Re){const c=new Re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,c)}}if(a instanceof Hi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ii)return{bytesValue:vE(l.serializer,a._byteString)};if(a instanceof ln){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Fi)return(function(d,g){return{mapValue:{fields:{[Yv]:{stringValue:Xv},[Kc]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return Om(g.serializer,p)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Rm(a)}`)})(s,t)}function JE(s,t){const i={};return qv(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Er(s,((a,l)=>{const c=Ch(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function tT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Re||s instanceof Hi||s instanceof ii||s instanceof ln||s instanceof $m||s instanceof Fi)}function Zm(s,t,i){if(!tT(i)||!zv(i)){const a=Rm(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function mm(s,t,i){if((t=nn(t))instanceof wh)return t._internalPath;if(typeof t=="string")return Jm(s,t);throw nh("Field path arguments must be of type string or ",s,!1,void 0,i)}const RR=new RegExp("[~\\*/\\[\\]]");function Jm(s,t,i){if(t.search(RR)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new wh(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function nh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new gt(J.INVALID_ARGUMENT,g+s+_)}function eT(s,t){return s.some((i=>i.isEqual(t)))}class nT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(iT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CR extends nT{data(){return super.data()}}function iT(s,t){return typeof t=="string"?Jm(s,t):t instanceof wh?t._internalPath:t._delegate._internalPath}function IR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new gt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xR{convertValue(t,i="none"){switch(yr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(pr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw xt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Er(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Kc].arrayValue?.values?.map((a=>Be(a.doubleValue)));return new Fi(i)}convertGeoPoint(t){return new Hi(Be(t.latitude),Be(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=gr(t);return new Re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=we.fromString(t);ue(wE(a),9688,{name:t});const l=new kl(a.get(1),a.get(3)),c=new bt(a.popFirst(5));return l.isEqual(i)||_s(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function NR(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class xc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class eo extends nT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(iT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=eo._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:Ze("string",eo._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class Uc extends eo{data(t={}){return super.data(t)}}class no{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new xc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Uc(this._firestore,this._userDataWriter,a.key,a,new xc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Uc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new xc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Uc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new xc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:DR(g.type),doc:_,oldIndex:p,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:s})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Ze("string",no._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class OR extends xR{constructor(t){super(),this.firestore=t}convertBytes(t){return new ii(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,i)}}function MR(s){s=na(s,Ah);const t=na(s.firestore,Xl),i=XE(t),a=new OR(t);return IR(s._query),pR(i,s._query).then((l=>new no(t,a,s,l)))}function VR(s,t,i,...a){s=na(s,ln);const l=na(s.firestore,Xl),c=ZE(l);let d;return d=typeof(t=nn(t))=="string"||t instanceof wh?wR(c,"updateDoc",s._key,t,i,a):AR(c,"updateDoc",s._key,t),tg(l,[d.toMutation(s._key,pi.exists(!0))])}function kR(s){return tg(na(s.firestore,Xl),[new Mm(s._key,pi.none())])}function LR(s,t){const i=na(s.firestore,Xl),a=dm(s),l=NR(s.converter,t);return tg(i,[SR(ZE(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,pi.exists(!1))]).then((()=>a))}function tg(s,t){return(function(a,l){const c=new fr;return a.asyncQueue.enqueueAndForget((async()=>nR(await mR(a),l,c))),c.promise})(XE(s),t)}(function(t,i=!0){(function(l){po=l})(go),ao(new ta("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Xl(new vA(a.getProvider("auth-internal")),new bA(d,a.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new gt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(p.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),cr(Z_,J_,t),cr(Z_,J_,"esm2020")})();function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PR=sT,rT=new ql("auth","Firebase",sT());const ih=new Tm("@firebase/auth");function UR(s,...t){ih.logLevel<=Qt.WARN&&ih.warn(`Auth (${go}): ${s}`,...t)}function jc(s,...t){ih.logLevel<=Qt.ERROR&&ih.error(`Auth (${go}): ${s}`,...t)}function yi(s,...t){throw eg(s,...t)}function Gi(s,...t){return eg(s,...t)}function aT(s,t,i){const a={...PR(),[t]:i};return new ql("auth","Firebase",a).create(t,{appName:s.name})}function ps(s){return aT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return rT.create(s,...t)}function It(s,t,...i){if(!s)throw eg(t,...i)}function ms(s){const t="INTERNAL ASSERTION FAILED: "+s;throw jc(t),new Error(t)}function Es(s,t){s||ms(t)}function gm(){return typeof self<"u"&&self.location?.href||""}function jR(){return Y0()==="http:"||Y0()==="https:"}function Y0(){return typeof self<"u"&&self.location?.protocol||null}function zR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jR()||Y1()||"connection"in navigator)?navigator.onLine:!0}function BR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class $l{constructor(t,i){this.shortDelay=t,this.longDelay=i,Es(i>t,"Short delay should be less than long delay!"),this.isMobile=G1()||X1()}get(){return zR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ng(s,t){Es(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class oT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const HR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FR=new $l(3e4,6e4);function bs(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Ss(s,t,i,a,l={}){return lT(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Hl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const p={method:t,headers:_,...c};return K1()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&mo(s.emulatorConfig.host)&&(p.credentials="include"),oT.fetch()(await uT(s,s.config.apiHost,i,g),p)})}async function lT(s,t,i){s._canInitEmulator=!1;const a={...qR,...t};try{const l=new QR(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,p]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Nc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Nc(s,"user-disabled",d);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw aT(s,T,p);yi(s,T)}}catch(l){if(l instanceof Ts)throw l;yi(s,"network-request-failed",{message:String(l)})}}async function Wl(s,t,i,a,l={}){const c=await Ss(s,t,i,a,l);return"mfaPendingCredential"in c&&yi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function uT(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?ng(s.config,l):`${s.config.apiScheme}://${l}`;return HR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function GR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Gi(this.auth,"network-request-failed")),FR.get())})}}function Nc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Gi(s,t,a);return l.customData._tokenResponse=i,l}function X0(s){return s!==void 0&&s.enterprise!==void 0}class KR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return GR(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YR(s,t){return Ss(s,"GET","/v2/recaptchaConfig",bs(s,t))}async function XR(s,t){return Ss(s,"POST","/v1/accounts:delete",t)}async function sh(s,t){return Ss(s,"POST","/v1/accounts:lookup",t)}function Dl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $R(s,t=!1){const i=nn(s),a=await i.getIdToken(t),l=ig(a);It(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Dl(Fd(l.auth_time)),issuedAtTime:Dl(Fd(l.iat)),expirationTime:Dl(Fd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(s){return Number(s)*1e3}function ig(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=vv(i);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function $0(s){const t=ig(s);return It(t,"internal-error"),It(typeof t.exp<"u","internal-error"),It(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function jl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ts&&WR(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function WR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class ZR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(s){const t=s.auth,i=await s.getIdToken(),a=await jl(s,sh(t,{idToken:i}));It(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?cT(l.providerUserInfo):[],d=tC(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,p=g?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new pm(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,T)}async function JR(s){const t=nn(s);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tC(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function cT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function eC(s,t){const i=await lT(s,{},async()=>{const a=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await uT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&mo(s.emulatorConfig.host)&&(_.credentials="include"),oT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function nC(s,t){return Ss(s,"POST","/v2/accounts:revokeToken",bs(s,t))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){It(t.idToken,"internal-error"),It(typeof t.idToken<"u","internal-error"),It(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){It(t.length!==0,"internal-error");const i=$0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await eC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new io;return a&&(It(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(It(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(It(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return ms("not implemented")}}function nr(s,t){It(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class gi{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new ZR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new pm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await jl(this,this.stsTokenManager.getToken(this.auth,t));return It(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return $R(this,t)}reload(){return JR(this)}_assign(t){this!==t&&(It(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(ps(this.auth));const t=await this.getIdToken();return await jl(this,XR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,p=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:B,providerData:F,stsTokenManager:tt}=i;It(A&&tt,t,"internal-error");const X=io.fromJSON(this.name,tt);It(typeof A=="string",t,"internal-error"),nr(a,t.name),nr(l,t.name),It(typeof N=="boolean",t,"internal-error"),It(typeof B=="boolean",t,"internal-error"),nr(c,t.name),nr(d,t.name),nr(g,t.name),nr(_,t.name),nr(p,t.name),nr(T,t.name);const ft=new gi({uid:A,auth:t,email:l,emailVerified:N,displayName:a,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:X,createdAt:p,lastLoginAt:T});return F&&Array.isArray(F)&&(ft.providerData=F.map(Tt=>({...Tt}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new io;l.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await rh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];It(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?cT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new io;g.updateFromIdToken(a);const _=new gi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new pm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,p),_}}const W0=new Map;function gs(s){Es(s instanceof Function,"Expected a class definition");let t=W0.get(s);return t?(Es(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,W0.set(s,t),t)}class hT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}hT.type="NONE";const Z0=hT;function zc(s,t,i){return`firebase:${s}:${t}:${i}`}class so{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await sh(this.auth,{idToken:t}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,t):null}return gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new so(gs(Z0),t,a);const l=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=l[0]||gs(Z0);const d=zc(a,t.config.apiKey,t.name);let g=null;for(const p of i)try{const T=await p._get(d);if(T){let A;if(typeof T=="string"){const N=await sh(t,{idToken:T}).catch(()=>{});if(!N)break;A=await gi._fromGetAccountInfoResponse(t,N,T)}else A=gi._fromJSON(t,T);p!==c&&(g=A),c=p;break}}catch{}const _=l.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new so(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async p=>{if(p!==c)try{await p._remove(d)}catch{}})),new so(c,t,a))}}function J0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yT(t))return"Blackberry";if(_T(t))return"Webos";if(dT(t))return"Safari";if((t.includes("chrome/")||mT(t))&&!t.includes("edge/"))return"Chrome";if(pT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function fT(s=Tn()){return/firefox\//i.test(s)}function dT(s=Tn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mT(s=Tn()){return/crios\//i.test(s)}function gT(s=Tn()){return/iemobile/i.test(s)}function pT(s=Tn()){return/android/i.test(s)}function yT(s=Tn()){return/blackberry/i.test(s)}function _T(s=Tn()){return/webos/i.test(s)}function sg(s=Tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function iC(s=Tn()){return sg(s)&&!!window.navigator?.standalone}function sC(){return $1()&&document.documentMode===10}function vT(s=Tn()){return sg(s)||pT(s)||_T(s)||yT(s)||/windows phone/i.test(s)||gT(s)}function ET(s,t=[]){let i;switch(s){case"Browser":i=J0(Tn());break;case"Worker":i=`${J0(Tn())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${go}/${a}`}class rC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function aC(s,t={}){return Ss(s,"GET","/v2/passwordPolicy",bs(s,t))}const oC=6;class lC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??oC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class uC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tv(this),this.idTokenSubscription=new tv(this),this.beforeStateQueue=new rC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await sh(this,{idToken:t}),a=await gi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(ps(this));const i=t?nn(t):null;return i&&It(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&It(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aC(this),i=new lC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await nC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&gs(t)||this._popupRedirectResolver;It(i,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&UR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function br(s){return nn(s)}class tv{constructor(t){this.auth=t,this.observer=null,this.addObserver=sS(i=>this.observer=i)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cC(s){Ih=s}function TT(s){return Ih.loadJS(s)}function hC(){return Ih.recaptchaEnterpriseScript}function fC(){return Ih.gapiScript}function dC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class mC{constructor(){this.enterprise=new gC}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class gC{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const pC="recaptcha-enterprise",bT="NO_RECAPTCHA";class yC{constructor(t){this.type=pC,this.auth=br(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{YR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new KR(_);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,d(p.siteKey)}}).catch(_=>{g(_)})})}function l(c,d,g){const _=window.grecaptcha;X0(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(p=>{d(p)}).catch(()=>{d(bT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(g=>{if(!i&&X0(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=hC();_.length!==0&&(_+=g),TT(_).then(()=>{l(g,c,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function ev(s,t,i,a=!1,l=!1){const c=new yC(s);let d;if(l)d=bT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const _=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const _=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function ah(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ev(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ev(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function _C(s,t){const i=Sm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Jr(c,t??{}))return l;yi(l,"already-initialized")}return i.initialize({options:t})}function vC(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(gs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function EC(s,t,i){const a=br(s);It(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=ST(t),{host:d,port:g}=TC(t),_=g===null?"":`:${g}`,p={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){It(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),It(Jr(p,a.config.emulator)&&Jr(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,mo(d)?(Sv(`${c}//${d}${_}`),Av("Auth",!0)):bC()}function ST(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function TC(s){const t=ST(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:nv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:nv(d)}}}function nv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function bC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class rg{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(t){return ms("not implemented")}_linkToIdToken(t,i){return ms("not implemented")}_getReauthenticationResolver(t){return ms("not implemented")}}async function SC(s,t){return Ss(s,"POST","/v1/accounts:signUp",t)}async function AC(s,t){return Wl(s,"POST","/v1/accounts:signInWithPassword",bs(s,t))}async function AT(s,t){return Ss(s,"POST","/v1/accounts:sendOobCode",bs(s,t))}async function wC(s,t){return AT(s,t)}async function RC(s,t){return AT(s,t)}async function CC(s,t){return Wl(s,"POST","/v1/accounts:signInWithEmailLink",bs(s,t))}async function IC(s,t){return Wl(s,"POST","/v1/accounts:signInWithEmailLink",bs(s,t))}class zl extends rg{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new zl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new zl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ah(t,i,"signInWithPassword",AC);case"emailLink":return CC(t,{email:this._email,oobCode:this._password});default:yi(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ah(t,a,"signUpPassword",SC);case"emailLink":return IC(t,{idToken:i,email:this._email,oobCode:this._password});default:yi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ro(s,t){return Wl(s,"POST","/v1/accounts:signInWithIdp",bs(s,t))}const xC="http://localhost";class sa extends rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):yi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new sa(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ro(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,ro(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ro(t,i)}buildRequest(){const t={requestUri:xC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Hl(i)}return t}}function NC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DC(s){const t=Tl(bl(s)).link,i=t?Tl(bl(t)).deep_link_id:null,a=Tl(bl(s)).deep_link_id;return(a?Tl(bl(a)).link:null)||a||i||t||s}class ag{constructor(t){const i=Tl(bl(t)),a=i.apiKey??null,l=i.oobCode??null,c=NC(i.mode??null);It(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=DC(t);try{return new ag(i)}catch{return null}}}class la{constructor(){this.providerId=la.PROVIDER_ID}static credential(t,i){return zl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=ag.parseLink(i);return It(a,"argument-error"),zl._fromEmailAndCode(t,a.code,a.tenantId)}}la.PROVIDER_ID="password";la.EMAIL_PASSWORD_SIGN_IN_METHOD="password";la.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Zl extends wT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ir extends Zl{constructor(){super("facebook.com")}static credential(t){return sa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";class sr extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return sa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return sr.credential(i,a)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";class rr extends Zl{constructor(){super("github.com")}static credential(t){return sa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends Zl{constructor(){super("twitter.com")}static credential(t,i){return sa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";async function OC(s,t){return Wl(s,"POST","/v1/accounts:signUp",bs(s,t))}class ra{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await gi._fromIdTokenResponse(t,a,l),d=iv(a);return new ra({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=iv(a);return new ra({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function iv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class oh extends Ts{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new oh(t,i,a,l)}}function RT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(s,c,t,a):c})}async function MC(s,t,i=!1){const a=await jl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ra._forOperation(s,"link",a)}async function CT(s,t,i=!1){const{auth:a}=s;if(ni(a.app))return Promise.reject(ps(a));const l="reauthenticate";try{const c=await jl(s,RT(a,l,t,s),i);It(c.idToken,a,"internal-error");const d=ig(c.idToken);It(d,a,"internal-error");const{sub:g}=d;return It(s.uid===g,a,"user-mismatch"),ra._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&yi(a,"user-mismatch"),c}}async function IT(s,t,i=!1){if(ni(s.app))return Promise.reject(ps(s));const a="signIn",l=await RT(s,a,t),c=await ra._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function VC(s,t){return IT(br(s),t)}async function kC(s,t){return CT(nn(s),t)}async function xT(s){const t=br(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function LC(s,t,i){const a=br(s);await ah(a,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",wC)}async function PC(s,t,i){if(ni(s.app))return Promise.reject(ps(s));const a=br(s),d=await ah(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OC).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&xT(s),_}),g=await ra._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function UC(s,t,i){return ni(s.app)?Promise.reject(ps(s)):VC(nn(s),la.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&xT(s),a})}async function jC(s,t,i){const a=nn(s),c={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await s.getIdToken(),newEmail:t},{email:d}=await RC(a.auth,c);d!==s.email&&await s.reload()}function zC(s,t,i,a){return nn(s).onIdTokenChanged(t,i,a)}function BC(s,t,i){return nn(s).beforeAuthStateChanged(t,i)}function qC(s,t,i,a){return nn(s).onAuthStateChanged(t,i,a)}function HC(s){return nn(s).signOut()}const lh="__sak";class NT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const FC=1e3,GC=10;class DT extends NT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);sC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,GC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},FC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}DT.type="LOCAL";const QC=DT;class OT extends NT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}OT.type="SESSION";const MT=OT;function KC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class xh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new xh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async p=>p(i.origin,c)),_=await KC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function og(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class YC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const p=og("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const N=A;if(N.data.eventId===p)switch(N.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Qi(){return window}function XC(s){Qi().location.href=s}function VT(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function $C(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WC(){return navigator?.serviceWorker?.controller||null}function ZC(){return VT()?self:null}const kT="firebaseLocalStorageDb",JC=1,uh="firebaseLocalStorage",LT="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Nh(s,t){return s.transaction([uh],t?"readwrite":"readonly").objectStore(uh)}function tI(){const s=indexedDB.deleteDatabase(kT);return new Jl(s).toPromise()}function ym(){const s=indexedDB.open(kT,JC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(uh,{keyPath:LT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(uh)?t(a):(a.close(),await tI(),t(await ym()))})})}async function sv(s,t,i){const a=Nh(s,!0).put({[LT]:t,value:i});return new Jl(a).toPromise()}async function eI(s,t){const i=Nh(s,!1).get(t),a=await new Jl(i).toPromise();return a===void 0?null:a.value}function rv(s,t){const i=Nh(s,!0).delete(t);return new Jl(i).toPromise()}const nI=800,iI=3;class PT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>iI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(ZC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $C(),!this.activeServiceWorker)return;this.sender=new YC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||WC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ym();return await sv(t,lh,"1"),await rv(t,lh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>sv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>eI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Nh(l,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PT.type="LOCAL";const sI=PT;new $l(3e4,6e4);function rI(s,t){return t?gs(t):(It(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class lg extends rg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ro(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function aI(s){return IT(s.auth,new lg(s),s.bypassAuthState)}function oI(s){const{auth:t,user:i}=s;return It(i,t,"internal-error"),CT(i,new lg(s),s.bypassAuthState)}async function lI(s){const{auth:t,user:i}=s;return It(i,t,"internal-error"),MC(i,new lg(s),s.bypassAuthState)}class UT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aI;case"linkViaPopup":case"linkViaRedirect":return lI;case"reauthViaPopup":case"reauthViaRedirect":return oI;default:yi(this.auth,"internal-error")}}resolve(t){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uI=new $l(2e3,1e4);class Ja extends UT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return It(t,this.auth,"internal-error"),t}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const t=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uI.get())};t()}}Ja.currentPopupAction=null;const cI="pendingRedirect",Bc=new Map;class hI extends UT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const a=await fI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fI(s,t){const i=gI(t),a=mI(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function dI(s,t){Bc.set(s._key(),t)}function mI(s){return gs(s._redirectPersistence)}function gI(s){return zc(cI,s.config.apiKey,s.name)}async function pI(s,t,i=!1){if(ni(s.app))return Promise.reject(ps(s));const a=br(s),l=rI(a,t),d=await new hI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const yI=600*1e3;class _I{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!jT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Gi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yI&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(t))}saveEventToCache(t){this.cachedEventUids.add(av(t)),this.lastProcessedEventTime=Date.now()}}function av(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function jT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function vI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jT(s);default:return!1}}async function EI(s,t={}){return Ss(s,"GET","/v1/projects",t)}const TI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bI=/^https?/;async function SI(s){if(s.config.emulator)return;const{authorizedDomains:t}=await EI(s);for(const i of t)try{if(AI(i))return}catch{}yi(s,"unauthorized-domain")}function AI(s){const t=gm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!bI.test(i))return!1;if(TI.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const wI=new $l(3e4,6e4);function ov(){const s=Qi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function RI(s){return new Promise((t,i)=>{function a(){ov(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ov(),i(Gi(s,"network-request-failed"))},timeout:wI.get()})}if(Qi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Qi().gapi?.load)a();else{const l=dC("iframefcb");return Qi()[l]=()=>{gapi.load?a():i(Gi(s,"network-request-failed"))},TT(`${fC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw qc=null,t})}let qc=null;function CI(s){return qc=qc||RI(s),qc}const II=new $l(5e3,15e3),xI="__/auth/iframe",NI="emulator/auth/iframe",DI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MI(s){const t=s.config;It(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?ng(t,NI):`https://${s.config.authDomain}/${xI}`,a={apiKey:t.apiKey,appName:s.name,v:go},l=OI.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Hl(a).slice(1)}`}async function VI(s){const t=await CI(s),i=Qi().gapi;return It(i,s,"internal-error"),t.open({where:document.body,url:MI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DI,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Gi(s,"network-request-failed"),g=Qi().setTimeout(()=>{c(d)},II.get());function _(){Qi().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const kI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LI=500,PI=600,UI="_blank",jI="http://localhost";class lv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zI(s,t,i,a=LI,l=PI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...kI,width:a.toString(),height:l.toString(),top:c,left:d},p=Tn().toLowerCase();i&&(g=mT(p)?UI:i),fT(p)&&(t=t||jI,_.scrollbars="yes");const T=Object.entries(_).reduce((N,[B,F])=>`${N}${B}=${F},`,"");if(iC(p)&&g!=="_self")return BI(t||"",g),new lv(null);const A=window.open(t||"",g,T);It(A,s,"popup-blocked");try{A.focus()}catch{}return new lv(A)}function BI(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const qI="__/auth/handler",HI="emulator/auth/handler",FI=encodeURIComponent("fac");async function uv(s,t,i,a,l,c){It(s.config.authDomain,s,"auth-domain-config-required"),It(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:go,eventId:l};if(t instanceof wT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",iS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof Zl){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await s._getAppCheckToken(),p=_?`#${FI}=${encodeURIComponent(_)}`:"";return`${GI(s)}?${Hl(g).slice(1)}${p}`}function GI({config:s}){return s.emulator?ng(s,HI):`https://${s.authDomain}/${qI}`}const Gd="webStorageSupport";class QI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MT,this._completeRedirectFn=pI,this._overrideRedirectResult=dI}async _openPopup(t,i,a,l){Es(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uv(t,i,a,gm(),l);return zI(t,c,og())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await uv(t,i,a,gm(),l);return XC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Es(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await VI(t),a=new _I(t);return i.register("authEvent",l=>(It(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Gd,{type:Gd},l=>{const c=l?.[0]?.[Gd];c!==void 0&&i(!!c),yi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=SI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return vT()||dT()||sg()}}const KI=QI;var cv="@firebase/auth",hv="1.11.1";class YI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $I(s){ao(new ta("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;It(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(s)},p=new uC(a,l,c,_);return vC(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ao(new ta("auth-internal",t=>{const i=br(t.getProvider("auth").getImmediate());return(a=>new YI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(cv,hv,XI(s)),cr(cv,hv,"esm2020")}const WI=300,ZI=bv("authIdTokenMaxAge")||WI;let fv=null;const JI=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>ZI)return;const l=i?.token;fv!==l&&(fv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function tx(s=Iv()){const t=Sm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=_C(s,{popupRedirectResolver:KI,persistence:[sI,QC,MT]}),a=bv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=JI(c.toString());BC(i,d,()=>d(i.currentUser)),zC(i,g=>d(g))}}const l=Ev("auth");return l&&EC(i,`http://${l}`),i}function ex(){return document.getElementsByTagName("head")?.[0]??document}cC({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Gi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",ex().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$I("Browser");const nx={apiKey:"AIzaSyCSmJMPQVPFC6NBofoYoJZ-HH3q-Ix3cO4",authDomain:"citytraffic-e7196.firebaseapp.com",projectId:"citytraffic-e7196",storageBucket:"citytraffic-e7196.firebasestorage.app",messagingSenderId:"602906331470",appId:"1:602906331470:web:e0ec5f47a3c07260b7b61f"},zT=Cv(nx),Dc=_R(zT),Bl=tx(zT),dv=1216,mv=768,ix=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),b.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),b.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),ug=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),b.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),sx=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M3 7v6h6"}),b.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),rx=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M21 7v6h-6"}),b.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3L21 13"})]}),BT=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("polyline",{points:"3 6 5 6 21 6"}),b.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),_m=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),b.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),b.jsx("polyline",{points:"7 3 7 8 15 8"})]}),vm=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:b.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),ax=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),b.jsx("polyline",{points:"12 19 5 12 12 5"})]}),ox=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),b.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),qT=[{type:"select",label:"Select",emoji:"",color:"from-blue-500 to-cyan-400"},{type:"road_menu",label:"Roads",emoji:"",color:"from-slate-500 to-slate-400"},{type:"decoration_menu",label:"Decor",emoji:"",color:"from-green-500 to-emerald-400"},{type:"car",label:"Car",emoji:"",color:"from-red-500 to-orange-400"},{type:"traffic_light",label:"Signal",emoji:"",color:"from-yellow-400 to-orange-500"},{type:"eraser",label:"Eraser",emoji:"",color:"from-pink-500 to-rose-400"}],HT=[{type:"road_straight_vertical",label:"Vertical",emoji:"",color:"from-gray-500 to-gray-400"},{type:"road_straight_horizontal",label:"Horizontal",emoji:"",color:"from-gray-500 to-gray-400"},{type:"road_intersection",label:"Intersect",emoji:"",color:"from-gray-600 to-gray-500"},{type:"road_multilane_vertical",label:"Multi-Lane Vert",emoji:"",color:"from-slate-600 to-slate-500"},{type:"road_multilane_horizontal",label:"Multi-Lane Horz",emoji:"",color:"from-slate-600 to-slate-500"},{type:"road_divider_vertical",label:"Divider Vert",emoji:"",color:"from-yellow-600 to-yellow-500"},{type:"road_divider_horizontal",label:"Divider Horz",emoji:"",color:"from-yellow-600 to-yellow-500"}],FT=[{type:"building",label:"Building",emoji:"",color:"from-indigo-500 to-purple-500"},{type:"tree",label:"Tree",emoji:"",color:"from-green-500 to-emerald-400"}],gv=(s,t)=>Array.from({length:s},()=>Array(t).fill(null)),lx=s=>{let t=0;return s==="right"&&(t=90),s==="down"&&(t=180),s==="left"&&(t=270),b.jsxs("g",{transform:`translate(50,50) rotate(${t}) translate(-25,-30)`,children:[b.jsx("rect",{x:"2",y:"4",width:"50",height:"60",rx:"8",fill:"rgba(0,0,0,0.2)"}),b.jsx("rect",{x:"-4",y:"8",width:"8",height:"12",rx:"2",fill:"#333"}),b.jsx("rect",{x:"46",y:"8",width:"8",height:"12",rx:"2",fill:"#333"}),b.jsx("rect",{x:"-4",y:"40",width:"8",height:"12",rx:"2",fill:"#333"}),b.jsx("rect",{x:"46",y:"40",width:"8",height:"12",rx:"2",fill:"#333"}),b.jsx("rect",{x:"0",y:"0",width:"50",height:"60",rx:"8",fill:"#EF4444",stroke:"#991B1B",strokeWidth:"2"}),b.jsx("rect",{x:"5",y:"8",width:"40",height:"10",rx:"2",fill:"#93C5FD"}),b.jsx("rect",{x:"5",y:"42",width:"40",height:"8",rx:"2",fill:"#93C5FD"}),b.jsx("rect",{x:"6",y:"20",width:"38",height:"20",rx:"1",fill:"#F87171",opacity:"0.5"})]})},ux=s=>{const t={green:"#22c55e",yellow:"#eab308",red:"#ef4444",off:"#374151"},i=s||"green";return b.jsxs("g",{transform:"translate(25, 10)",children:[b.jsx("rect",{x:"0",y:"0",width:"50",height:"80",rx:"10",fill:"#1f2937",stroke:"#4b5563",strokeWidth:"2"}),b.jsx("circle",{cx:"25",cy:"20",r:"8",fill:i==="red"?t.red:t.off}),b.jsx("circle",{cx:"25",cy:"40",r:"8",fill:i==="yellow"?t.yellow:t.off}),b.jsx("circle",{cx:"25",cy:"60",r:"8",fill:i==="green"?t.green:t.off})]})},cx=s=>{let t=null,i=0;if(s==="up"||s==="down"||s==="left"||s==="right")s==="right"?i=90:s==="down"?i=180:s==="left"&&(i=270),t=b.jsxs(b.Fragment,{children:[b.jsx("path",{d:"M0 -15 L10 5 L-10 5 Z",fill:"white"}),b.jsx("rect",{x:"-4",y:"5",width:"8",height:"15",fill:"white"})]});else if(s&&s.startsWith("turn_")){const a=s.split("_"),l=a[1],c=a[2];let d="",g="";l==="up"&&c==="right"?(d="M 0 35 Q 0 0 35 0",g="M 35 0 L 25 -5 L 25 5 Z",i=0):l==="left"&&c==="up"?(d="M -35 0 Q 0 0 0 -35",g="M 0 -35 L -5 -25 L 5 -25 Z",i=0):l==="down"&&c==="left"?(d="M 0 -35 Q 0 0 -35 0",g="M -35 0 L -25 -5 L -25 5 Z",i=0):l==="right"&&c==="down"?(d="M 35 0 Q 0 0 0 35",g="M 0 35 L -5 25 L 5 25 Z",i=0):l==="up"&&c==="left"?(d="M 0 35 Q 0 0 -35 0",g="M -35 0 L -25 -5 L -25 5 Z",i=0):l==="left"&&c==="down"?(d="M -35 0 Q 0 0 0 35",g="M 0 35 L -5 25 L 5 25 Z",i=0):l==="down"&&c==="right"?(d="M 0 -35 Q 0 0 35 0",g="M 35 0 L 25 -5 L 25 5 Z",i=0):l==="right"&&c==="up"&&(d="M 35 0 Q 0 0 0 -35",g="M 0 -35 L -5 -25 L 5 -25 Z",i=0),t=b.jsxs(b.Fragment,{children:[b.jsx("path",{d,fill:"none",stroke:"white",strokeWidth:"8",strokeLinecap:"round"}),b.jsx("path",{d:g,fill:"white"})]})}return b.jsx("g",{transform:`translate(50,50) rotate(${i})`,opacity:"0.9",style:{pointerEvents:"none"},children:t})},hx=(s,t)=>{const i=s?.type,a=s?.hasCar,l=s?.flowDirection,c=[];if(i)if(i==="traffic_light")c.push(b.jsx(Oc.Fragment,{children:ux(s.state)},"light"));else if(i.startsWith("road_")){const d="#334155";if(i==="road_divider_vertical"){const p=s.lanePosition||0;c.push(b.jsx("line",{x1:50,y1:-1,x2:50,y2:101,stroke:d,strokeWidth:80},"bg-road"));const T=p===0?100:0;c.push(b.jsx("line",{x1:T,y1:0,x2:T,y2:100,stroke:"#FACC15",strokeWidth:"6"},"divider-line"))}else if(i==="road_divider_horizontal"){const p=s.lanePosition||0;c.push(b.jsx("line",{x1:-1,y1:50,x2:101,y2:50,stroke:d,strokeWidth:80},"bg-road"));const T=p===0?100:0;c.push(b.jsx("line",{x1:0,y1:T,x2:100,y2:T,stroke:"#FACC15",strokeWidth:"6"},"divider-line"))}else if(i==="road_multilane_vertical"){const p=s.lanePosition||0,T=s.laneCount||2;c.push(b.jsx("line",{x1:50,y1:-1,x2:50,y2:101,stroke:d,strokeWidth:80},"bg-road")),p>0&&c.push(b.jsx("line",{x1:0,y1:0,x2:0,y2:100,stroke:"white",strokeWidth:"6",strokeDasharray:"12,12"},"dashed-line-left")),p<T-1&&c.push(b.jsx("line",{x1:100,y1:0,x2:100,y2:100,stroke:"white",strokeWidth:"6",strokeDasharray:"12,12"},"dashed-line-right"))}else if(i==="road_multilane_horizontal"){const p=s.lanePosition||0,T=s.laneCount||2;c.push(b.jsx("line",{x1:-1,y1:50,x2:101,y2:50,stroke:d,strokeWidth:80},"bg-road")),p>0&&c.push(b.jsx("line",{x1:0,y1:0,x2:100,y2:0,stroke:"white",strokeWidth:"6",strokeDasharray:"12,12"},"dashed-line-top")),p<T-1&&c.push(b.jsx("line",{x1:0,y1:100,x2:100,y2:100,stroke:"white",strokeWidth:"6",strokeDasharray:"12,12"},"dashed-line-bottom"))}else if(i==="road_intersection"){const{up:p,down:T,left:A,right:N}=t;p&&c.push(b.jsx("line",{x1:50,y1:50,x2:50,y2:-1,stroke:d,strokeWidth:80},"up")),T&&c.push(b.jsx("line",{x1:50,y1:50,x2:50,y2:101,stroke:d,strokeWidth:80},"down")),A&&c.push(b.jsx("line",{x1:50,y1:50,x2:-1,y2:50,stroke:d,strokeWidth:80},"left")),N&&c.push(b.jsx("line",{x1:50,y1:50,x2:101,y2:50,stroke:d,strokeWidth:80},"right")),p||T||A||N?c.push(b.jsx("rect",{x:50-80/2,y:50-80/2,width:80,height:80,fill:d},"center")):c.push(b.jsx("circle",{cx:50,cy:50,r:80/2,fill:d},"dot"))}else i==="road_straight_vertical"?c.push(b.jsx("line",{x1:50,y1:-1,x2:50,y2:101,stroke:d,strokeWidth:80},"vertical")):i==="road_straight_horizontal"&&c.push(b.jsx("line",{x1:-1,y1:50,x2:101,y2:50,stroke:d,strokeWidth:80},"horizontal"));l&&c.push(b.jsx(Oc.Fragment,{children:cx(l)},"flow"))}else{const d=qT.find(g=>g.type===i)||HT.find(g=>g.type===i)||FT.find(g=>g.type===i);d&&c.push(b.jsx("foreignObject",{x:"0",y:"0",width:"100",height:"100",children:b.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl drop-shadow-md",children:d.emoji})},"base"))}return a&&c.push(b.jsx(Oc.Fragment,{children:lx(a)},"car")),b.jsx("svg",{className:"w-full h-full",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:c})},fx=Oc.memo(({cellData:s,row:t,col:i,onDrop:a,onPaint:l,onRightClick:c,cellWidth:d,cellHeight:g,neighborInfo:_,isSelected:p})=>{const T=F=>{F.preventDefault(),a(t,i,F.dataTransfer.getData("itemType"))},A=F=>{F.button===0&&l(t,i)},N=F=>{F.buttons===1&&l(t,i)},B=F=>{F.preventDefault(),c(t,i)};return b.jsx("div",{style:{position:"absolute",left:`${i*d}px`,top:`${t*g}px`,width:`${d}px`,height:`${g}px`},onDragOver:F=>F.preventDefault(),onDrop:T,onMouseDown:A,onMouseEnter:N,onContextMenu:B,className:`flex items-center justify-center cursor-pointer transition-colors duration-75 ${p?"ring-2 ring-yellow-400 bg-white/10 z-10":"hover:bg-white/5"}`,children:hx(s,_)})}),dx=({grid:s,rows:t,cols:i,onDrop:a,onPaint:l,setIsMouseDown:c,onRightClick:d,selectedCell:g})=>{const _=dv/i,p=mv/t,T=(B,F)=>B>=0&&B<t&&F>=0&&F<i&&s[B][F]&&(s[B][F].type==="road_straight_vertical"||s[B][F].type==="road_multilane_vertical"||s[B][F].type==="road_divider_vertical"),A=(B,F)=>B>=0&&B<t&&F>=0&&F<i&&s[B][F]&&(s[B][F].type==="road_straight_horizontal"||s[B][F].type==="road_multilane_horizontal"||s[B][F].type==="road_divider_horizontal"),N=(B,F)=>B>=0&&B<t&&F>=0&&F<i&&s[B][F]&&s[B][F].type==="road_intersection";return b.jsx("div",{onMouseDown:()=>c(!0),onMouseUp:()=>c(!1),onMouseLeave:()=>c(!1),className:"relative bg-slate-100/50 shadow-2xl rounded-sm overflow-hidden flex-shrink-0",style:{userSelect:"none",width:`${dv}px`,height:`${mv}px`,backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:`${_}px ${p}px`},children:s.flatMap((B,F)=>B.map((tt,X)=>{const ft=tt?.type||null;let Tt={up:!1,down:!1,left:!1,right:!1};return ft==="road_intersection"?Tt={up:T(F-1,X)||N(F-1,X),down:T(F+1,X)||N(F+1,X),left:A(F,X-1)||N(F,X-1),right:A(F,X+1)||N(F,X+1)}:ft&&ft.includes("vertical")?Tt={up:T(F-1,X)||N(F-1,X),down:T(F+1,X)||N(F+1,X),left:!1,right:!1}:ft&&ft.includes("horizontal")&&(Tt={up:!1,down:!1,left:A(F,X-1)||N(F,X-1),right:A(F,X+1)||N(F,X+1)}),b.jsx(fx,{cellData:tt,neighborInfo:Tt,row:F,col:X,onDrop:a,onPaint:l,onRightClick:d,cellWidth:_,cellHeight:p,isSelected:g&&g.row===F&&g.col===X},`${F}-${X}`)}))})},mx=({item:s,isSelected:t,onClick:i})=>{const a=l=>l.dataTransfer.setData("itemType",s.type);return b.jsxs("div",{draggable:!0,onDragStart:a,onClick:i,className:`relative group aspect-square rounded-2xl flex flex-col items-center justify-center cursor-pointer transition-all duration-300 transform hover:-translate-y-1 ${t?"bg-slate-700 ring-2 ring-blue-500 shadow-lg shadow-blue-500/20":"bg-slate-800 hover:bg-slate-700 border border-slate-700"}`,children:[b.jsx("div",{className:`absolute inset-2 rounded-xl opacity-20 bg-gradient-to-br ${s.color}`}),b.jsx("span",{className:"text-3xl z-10 drop-shadow-sm filter",children:s.emoji}),b.jsx("span",{className:"text-[10px] font-medium text-slate-400 mt-2 z-10 uppercase tracking-wide group-hover:text-slate-200 transition-colors",children:s.label})]})},gx=()=>{const[s,t]=Gt.useState(!1),[i,a]=Gt.useState(""),[l,c]=Gt.useState(""),[d,g]=Gt.useState(null),_=async p=>{p.preventDefault(),g(null);try{s?await PC(Bl,i,l):await UC(Bl,i,l)}catch(T){console.error(T),T.code==="auth/invalid-credential"?g("Invalid email or password."):T.code==="auth/email-already-in-use"?g("Email already in use."):T.code==="auth/weak-password"?g("Password should be at least 6 characters."):g("Authentication failed. Try again.")}};return b.jsx("div",{className:"flex h-screen w-screen bg-slate-950 items-center justify-center font-sans",children:b.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-8 rounded-2xl shadow-2xl max-w-md w-full text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-xl mx-auto flex items-center justify-center text-4xl shadow-lg shadow-blue-500/20 mb-6",children:""}),b.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:["CityBuilder",b.jsx("span",{className:"text-blue-400 font-light",children:"Pro"})]}),b.jsx("p",{className:"text-slate-400 mb-8",children:s?"Create an account to save cities.":"Sign in to load your layouts."}),d&&b.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 text-sm p-3 rounded-lg mb-4",children:d}),b.jsxs("form",{onSubmit:_,className:"space-y-4 text-left",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Email"}),b.jsx("input",{type:"email",value:i,onChange:p=>a(p.target.value),placeholder:"name@example.com",className:"w-full mt-1 bg-slate-800 border border-slate-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Password"}),b.jsx("input",{type:"password",value:l,onChange:p=>c(p.target.value),placeholder:"",className:"w-full mt-1 bg-slate-800 border border-slate-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",required:!0})]}),b.jsx("button",{type:"submit",className:"w-full py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-bold transition-all shadow-lg shadow-blue-900/20 mt-2",children:s?"Sign Up":"Sign In"})]}),b.jsx("div",{className:"mt-6 pt-6 border-t border-slate-800",children:b.jsxs("p",{className:"text-slate-400 text-sm",children:[s?"Already have an account?":"Don't have an account?",b.jsx("button",{onClick:()=>{t(!s),g(null)},className:"ml-2 text-blue-400 hover:text-blue-300 font-medium transition-colors",children:s?"Log In":"Register"})]})})]})})},px=({user:s,onClose:t})=>{const[i,a]=Gt.useState("profile"),[l,c]=Gt.useState(""),[d,g]=Gt.useState(""),[_,p]=Gt.useState(!1),[T,A]=Gt.useState({type:null,message:null});Gt.useEffect(()=>{A({type:null,message:null}),c(""),g("")},[i]);const N=async tt=>{if(tt.preventDefault(),A({type:null,message:null}),p(!0),!l||!d){A({type:"error",message:"Email and password required."}),p(!1);return}try{const X=la.credential(s.email,d);await kC(s,X),await jC(s,l),A({type:"success",message:`Verification sent to ${l}. Check your inbox!`}),c(""),g("")}catch(X){console.error(X),A({type:"error",message:"Failed to update. Check password."})}p(!1)},B=async()=>{A({type:null,message:null}),p(!0);try{await LC(Bl,s.email),A({type:"success",message:`Reset link sent to ${s.email}`})}catch(tt){console.error(tt),A({type:"error",message:"Failed to send email."})}p(!1)},F=async()=>{try{await HC(Bl),t()}catch(tt){console.error("Error signing out:",tt)}};return b.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:b.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center bg-slate-800/50",children:[b.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[b.jsx("div",{className:"p-1.5 bg-blue-500/20 rounded-lg text-blue-400",children:b.jsx(ox,{})}),"Account Settings"]}),b.jsx("button",{onClick:t,className:"p-1 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",children:b.jsx(ug,{})})]}),b.jsxs("div",{className:"flex border-b border-slate-800",children:[b.jsxs("button",{onClick:()=>a("profile"),className:`flex-1 py-3 text-sm font-medium transition-colors relative ${i==="profile"?"text-blue-400 bg-slate-800/30":"text-slate-400 hover:text-slate-200 hover:bg-slate-800/50"}`,children:["Profile",i==="profile"&&b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"})]}),b.jsxs("button",{onClick:()=>a("security"),className:`flex-1 py-3 text-sm font-medium transition-colors relative ${i==="security"?"text-blue-400 bg-slate-800/30":"text-slate-400 hover:text-slate-200 hover:bg-slate-800/50"}`,children:["Security",i==="security"&&b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"})]})]}),b.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar min-h-[300px]",children:[T.message&&b.jsxs("div",{className:`mb-6 p-3 rounded-lg border text-xs font-medium flex items-center gap-2 ${T.type==="success"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,children:[b.jsx("span",{children:T.type==="success"?"":""}),T.message]}),i==="profile"&&b.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[b.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-800 rounded-xl border border-slate-700",children:[b.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 flex items-center justify-center text-xl font-bold text-white shadow-lg",children:s.email?s.email[0].toUpperCase():"U"}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("div",{className:"text-white font-bold truncate text-sm",children:s.email}),b.jsxs("div",{className:"text-[10px] text-slate-500 font-mono truncate max-w-[200px] mt-0.5",children:["ID: ",s.uid]})]})]}),b.jsxs("div",{className:"p-5 bg-slate-800 rounded-xl border border-slate-700",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx("div",{className:"p-2 bg-slate-950 rounded text-lg",children:""}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-white font-bold text-sm",children:"Update Email"}),b.jsx("p",{className:"text-[10px] text-slate-400",children:"Confirmation sent to new address."})]})]}),b.jsxs("form",{onSubmit:N,className:"space-y-3",children:[b.jsx("input",{type:"email",value:l,onChange:tt=>c(tt.target.value),placeholder:"New Email Address",className:"w-full bg-slate-950 border border-slate-600 rounded-lg p-2.5 text-sm text-white placeholder-slate-500 focus:ring-1 focus:ring-blue-500 outline-none"}),b.jsx("input",{type:"password",value:d,onChange:tt=>g(tt.target.value),placeholder:"Verify Current Password",className:"w-full bg-slate-950 border border-slate-600 rounded-lg p-2.5 text-sm text-white placeholder-slate-500 focus:ring-1 focus:ring-blue-500 outline-none"}),b.jsx("button",{type:"submit",disabled:_,className:"w-full py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white rounded-lg font-bold text-xs shadow-lg shadow-blue-900/20",children:_?"Sending...":"Send Verification Link"})]})]}),b.jsx("div",{className:"pt-2 border-t border-slate-800",children:b.jsxs("button",{onClick:F,className:"w-full py-3 bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 rounded-lg font-bold text-sm transition-all flex items-center justify-center gap-2",children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),b.jsx("polyline",{points:"16 17 21 12 16 7"}),b.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sign Out"]})})]}),i==="security"&&b.jsx("div",{className:"space-y-6 animate-fadeIn",children:b.jsxs("div",{className:"p-5 bg-slate-800 rounded-xl border border-slate-700",children:[b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"p-2 bg-slate-950 rounded text-lg",children:""}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-white font-bold text-sm",children:"Reset Password"}),b.jsxs("p",{className:"text-[10px] text-slate-400 mt-1",children:["Link sent to ",s.email]})]})]}),b.jsx("button",{onClick:B,disabled:_,className:"mt-4 w-full py-2 bg-slate-700 hover:bg-slate-600 text-white border border-slate-600 rounded-lg font-medium text-xs transition-all",children:_?"Sending...":"Send Password Reset Email"})]})})]})]})})},pv=({mode:s,onClose:t,grid:i,rows:a,cols:l,onLoadLayout:c,currentLayoutId:d,setCurrentLayoutId:g,user:_})=>{const[p,T]=Gt.useState(""),[A,N]=Gt.useState([]),[B,F]=Gt.useState(!1),[tt,X]=Gt.useState(null);Gt.useEffect(()=>{s==="load"&&ft()},[s]);const ft=async()=>{F(!0);try{const yt=F0(Dc,"users",_.uid,"layouts"),I=(await MR(yt)).docs.map(R=>({id:R.id,...R.data()}));N(I)}catch(yt){console.error(yt),X("Error connecting to Firebase.")}F(!1)},Tt=async()=>{if(!p.trim())return;const yt=JSON.stringify(i);try{const Rt=F0(Dc,"users",_.uid,"layouts"),I=await LR(Rt,{name:p,description:"",rows:a,cols:l,grid_data:yt,created_at:new Date().toISOString()});g(I.id),t(),alert("Saved as new layout!")}catch(Rt){console.error("Firebase Error Details:",Rt),X("Error saving to Firebase.")}},pt=async()=>{if(!d)return;const yt=JSON.stringify(i);try{const Rt=dm(Dc,"users",_.uid,"layouts",d);await VR(Rt,{rows:a,cols:l,grid_data:yt,updated_at:new Date().toISOString()}),t(),alert("Layout overwritten successfully!")}catch(Rt){console.error(Rt),X("Overwrite failed.")}},qt=async yt=>{if(confirm("Delete this layout?"))try{await kR(dm(Dc,"users",_.uid,"layouts",yt)),N(Rt=>Rt.filter(I=>I.id!==yt)),yt===d&&g(null)}catch(Rt){console.error(Rt),X("Delete failed.")}};return b.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:b.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[80vh]",children:[b.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center bg-slate-800/50",children:[b.jsx("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:s==="save"?b.jsxs(b.Fragment,{children:[b.jsx(_m,{})," Save Layout"]}):b.jsxs(b.Fragment,{children:[b.jsx(vm,{})," Load Layout"]})}),b.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:b.jsx(ug,{})})]}),b.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[tt&&b.jsx("div",{className:"mb-4 p-2 bg-red-900/30 border border-red-500/30 text-red-300 rounded text-sm text-center",children:tt}),s==="save"?b.jsxs("div",{className:"space-y-6",children:[d&&b.jsxs("div",{className:"p-4 bg-emerald-900/20 border border-emerald-500/30 rounded-lg",children:[b.jsx("div",{className:"text-xs font-bold text-emerald-400 uppercase mb-2",children:"Current Layout Loaded"}),b.jsxs("button",{onClick:pt,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-bold transition-all shadow-lg shadow-emerald-900/20 flex justify-center items-center gap-2",children:[b.jsx(_m,{})," Overwrite Save"]})]}),d&&b.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-xs uppercase font-bold",children:[b.jsx("div",{className:"h-px bg-slate-700 flex-1"}),"OR",b.jsx("div",{className:"h-px bg-slate-700 flex-1"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:d?"Save as New Layout":"Layout Name"}),b.jsx("input",{type:"text",value:p,onChange:yt=>T(yt.target.value),placeholder:"My New City",className:"w-full bg-slate-800 border border-slate-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none mb-3",autoFocus:!d}),b.jsx("button",{onClick:Tt,className:"w-full py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-bold transition-all shadow-lg shadow-blue-900/20",children:d?"Save Copy":"Save Layout"})]})]}):b.jsx("div",{className:"space-y-3",children:B?b.jsx("div",{className:"text-center text-slate-500 py-4",children:"Loading..."}):A.length===0?b.jsx("div",{className:"text-center text-slate-500 py-4",children:"No saved layouts found."}):A.map(yt=>b.jsxs("div",{className:`group flex justify-between items-center p-3 rounded-lg border transition-all ${d===yt.id?"bg-blue-900/20 border-blue-500/50":"bg-slate-800 border-slate-700 hover:border-blue-500/50 hover:bg-slate-750"}`,children:[b.jsxs("div",{className:"min-w-0",children:[b.jsxs("div",{className:"font-bold text-slate-200 truncate",children:[yt.name,d===yt.id&&b.jsx("span",{className:"ml-2 text-[10px] text-blue-400 uppercase tracking-wider",children:"(Active)"})]}),b.jsxs("div",{className:"text-[10px] text-slate-500",children:[yt.created_at?new Date(yt.created_at).toLocaleDateString():"Unknown Date"," "," ",yt.rows,"x",yt.cols]})]}),b.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[b.jsx("button",{onClick:()=>{c(yt.grid_data,yt.rows,yt.cols,yt.id),t()},className:"p-2 bg-blue-600/20 text-blue-400 hover:bg-blue-600 hover:text-white rounded transition-colors",title:"Load",children:b.jsx(vm,{})}),b.jsx("button",{onClick:()=>qt(yt.id),className:"p-2 bg-red-600/20 text-red-400 hover:bg-red-600 hover:text-white rounded transition-colors",title:"Delete",children:b.jsx(BT,{})})]})]},yt.id))})]})]})})};function yx(){const[s,t]=Gt.useState(null),[i,a]=Gt.useState(!0),[l,c]=Gt.useState(16),[d,g]=Gt.useState(25),[_,p]=Gt.useState([gv(16,25)]),[T,A]=Gt.useState(0),N=_[T],[B,F]=Gt.useState("select"),[tt,X]=Gt.useState(!1),[ft,Tt]=Gt.useState("main"),[pt,qt]=Gt.useState(!1),[yt,Rt]=Gt.useState(null),[I,R]=Gt.useState(!0),[w,V]=Gt.useState(null),[D,L]=Gt.useState(null),[C,_e]=Gt.useState(2),[Ne,G]=Gt.useState(null);Gt.useEffect(()=>{const Z=qC(Bl,et=>{t(et),a(!1)});return()=>Z()},[]);const nt=(Z,et,kt)=>et<0||et>=Z.length||kt<0||kt>=Z[0].length?null:Z[et][kt];Gt.useEffect(()=>{if(!pt)return;const Z=setInterval(()=>{p(et=>{const St=et[T].map(at=>at.map(rt=>rt?{...rt}:null)),Te=new Set;for(let at=0;at<l;at++)for(let rt=0;rt<d;rt++){let ot=St[at][rt];if(ot){if(ot.type==="traffic_light"){ot.config||(ot.config={green:10,yellow:4,red:10}),ot.state||(ot.state="green"),ot.timer===void 0&&(ot.timer=0),ot.timer+=1;const dt=ot.config[ot.state];ot.timer>=dt&&(ot.timer=0,ot.state==="green"?ot.state="yellow":ot.state==="yellow"?ot.state="red":ot.state==="red"&&(ot.state="green"))}if(ot.hasCar&&!Te.has(`${at},${rt}`)){let dt=ot.hasCar;const Zt=ot.flowDirection;Zt&&(Zt==="left"&&dt==="right"?dt="left":Zt==="right"&&dt==="left"?dt="right":Zt==="up"&&dt==="down"?dt="up":Zt==="down"&&dt==="up"&&(dt="down"));let le=!1,vt=at,At=rt,$t=dt,re=!1;const ne=[{dr:-1,dc:0},{dr:1,dc:0},{dr:0,dc:-1},{dr:0,dc:1}];for(const Jt of ne){const qe=nt(St,at+Jt.dr,rt+Jt.dc);if(qe&&qe.type==="traffic_light"){const be=qe.state||"green";(be==="yellow"||be==="red")&&(re=!0)}}if(!re){dt==="up"&&vt--,dt==="down"&&vt++,dt==="left"&&At--,dt==="right"&&At++;const Jt=nt(St,vt,At);let qe=!1;const be=(Ot,ee)=>{if(!Ot||Ot.hasCar||Ot.type==="traffic_light"||!Ot.type.startsWith("road"))return!1;if(Ot.flowDirection)if(Ot.flowDirection.startsWith("turn_")){const De=Ot.flowDirection.split("_")[1];return ee===De}else return Ot.flowDirection===ee;return!0};if(ot.flowDirection&&ot.flowDirection.startsWith("turn_")?($t=ot.flowDirection.split("_")[2],vt=at,At=rt,$t==="up"&&vt--,$t==="down"&&vt++,$t==="left"&&At--,$t==="right"&&At++,be(nt(St,vt,At),$t)&&(le=!0)):Jt&&Jt.type.startsWith("road")&&be(Jt,$t)?le=!0:qe=!0,!le&&qe){const Ot=[],ee=ot.flowDirection,De=Le=>{if(ee&&ee!==Le)return;let Me=0,Pe=0;Le==="up"&&(Me=-1),Le==="down"&&(Me=1),Le==="left"&&(Pe=-1),Le==="right"&&(Pe=1);const ve=nt(St,at+Me,rt+Pe);be(ve,Le)&&Ot.push(Le)};if(dt==="up"||dt==="down"?(De("left"),De("right")):(De("up"),De("down")),Ot.length>0){const Me=(ot.carConfig||{}).turnBias||"none";let Pe=null;if(Me!=="none"){const ce=((An,Ce)=>{const As=["up","right","down","left"],_i=As.indexOf(An);return _i===-1?null:Ce==="left"?As[(_i+3)%4]:Ce==="right"?As[(_i+1)%4]:null})(dt,Me);ce&&Ot.includes(ce)&&(Pe=ce)}Pe||(Pe=Ot[Math.floor(Math.random()*Ot.length)]),$t=Pe,vt=at,At=rt,$t==="up"&&vt--,$t==="down"&&vt++,$t==="left"&&At--,$t==="right"&&At++,le=!0}}if(le){const Ot=ot.carConfig;if(ot.type?St[at][rt]={...ot,hasCar:!1,carConfig:void 0}:St[at][rt]=null,St[vt]&&St[vt][At]!==void 0){const ee=St[vt][At];ee?St[vt][At]={...ee,hasCar:$t,carConfig:Ot}:St[vt][At]={type:"road_straight_horizontal",hasCar:$t,carConfig:Ot},Te.add(`${vt},${At}`)}}else St[at][rt]={...ot,hasCar:$t}}}}}return[...et.slice(0,T+1),St]}),A(et=>et+1)},500);return()=>clearInterval(Z)},[pt,T,l,d]);const _t=Gt.useCallback((Z,et,kt)=>{pt&&qt(!1),p(St=>{const at=St[T].map(ot=>ot.map(dt=>dt?{...dt}:null));let rt=at[Z][et]||{type:null,hasCar:!1};if(B==="select")return St;if(kt==="eraser")rt.hasCar?(rt.hasCar=!1,rt.carConfig=void 0,at[Z][et]&&(at[Z][et]=rt)):(rt=null,at[Z][et]=null);else if(kt==="car"){let ot="right";rt.flowDirection&&!rt.flowDirection.startsWith("turn")&&(ot=rt.flowDirection),rt.hasCar=ot,rt.carConfig={speed:1,turnBias:"none"},at[Z][et]=rt}else if(kt==="road_divider_vertical"){if(rt.type=kt,rt.lanePosition=0,at[Z][et]=rt,et+1<d){const ot=at[Z][et+1]||{type:null,hasCar:!1};ot.type||(ot.type="road_divider_vertical",ot.lanePosition=1,at[Z][et+1]=ot)}}else if(kt==="road_divider_horizontal"){if(rt.type=kt,rt.lanePosition=0,at[Z][et]=rt,Z+1<l){const ot=at[Z+1][et]||{type:null,hasCar:!1};ot.type||(ot.type="road_divider_horizontal",ot.lanePosition=1,at[Z+1][et]=ot)}}else if(kt==="road_multilane_vertical"){const ot=C;for(let dt=0;dt<ot;dt++)if(et+dt<d){const Zt=at[Z][et+dt]||{type:null,hasCar:!1};if(Zt.type&&Zt.type.includes("divider"))continue;Zt.type=kt,Zt.laneCount=ot,Zt.lanePosition=dt,at[Z][et+dt]=Zt}}else if(kt==="road_multilane_horizontal"){const ot=C;for(let dt=0;dt<ot;dt++)if(Z+dt<l){const Zt=at[Z+dt][et]||{type:null,hasCar:!1};if(Zt.type&&Zt.type.includes("divider"))continue;Zt.type=kt,Zt.laneCount=ot,Zt.lanePosition=dt,at[Z+dt][et]=Zt}}else rt.type=kt,kt==="traffic_light"&&(rt.state="green",rt.timer=0,rt.config={green:10,yellow:4,red:10}),at[Z][et]=rt;return[...St.slice(0,T+1),at]}),A(St=>St+1)},[T,B,pt,l,d,C]),jt=(Z,et,kt,St)=>{p(Te=>{const rt=Te[T].map(ot=>ot.map(dt=>dt?{...dt}:null));return rt[Z][et]&&rt[Z][et].type==="traffic_light"&&(rt[Z][et].config={...rt[Z][et].config,[kt]:parseInt(St)},rt[Z][et].config||(rt[Z][et].config={green:10,yellow:4,red:10,[kt]:parseInt(St)})),[...Te.slice(0,T+1),rt]}),A(Te=>Te+1)},Xt=(Z,et,kt)=>{p(St=>{const at=St[T].map(rt=>rt.map(ot=>ot?{...ot}:null));return at[Z][et]&&at[Z][et].type.startsWith("road")&&(at[Z][et].flowDirection=kt),[...St.slice(0,T+1),at]}),A(St=>St+1)},M=(Z,et,kt)=>{p(St=>{const at=St[T].map(ot=>ot.map(dt=>dt?{...dt}:null)),rt=at[Z][et];if(rt&&rt.type.includes("multilane")){const ot=rt.laneCount||2,dt=rt.lanePosition||0,Zt=Math.max(2,Math.min(6,ot+kt));if(Zt===ot)return St;let le=Z,vt=et;const At=rt.type.includes("vertical");At?vt=et-dt:le=Z-dt;for(let $t=0;$t<Math.max(ot,Zt);$t++){const re=At?le:le+$t,ne=At?vt+$t:vt;if(re>=0&&re<l&&ne>=0&&ne<d){if(at[re][ne]&&at[re][ne].type&&at[re][ne].type.includes("divider"))continue;if($t<Zt){const Jt=at[re][ne]||{type:null,hasCar:!1};Jt.type=rt.type,Jt.laneCount=Zt,Jt.lanePosition=$t,!Jt.flowDirection&&rt.flowDirection&&(Jt.flowDirection=rt.flowDirection),at[re][ne]=Jt}else at[re][ne]&&at[re][ne].type===rt.type&&at[re][ne].lanePosition===$t&&(at[re][ne]=null)}}}return[...St.slice(0,T+1),at]}),A(St=>St+1)},K=(Z,et,kt,St)=>{p(Te=>{const rt=Te[T].map(ot=>ot.map(dt=>dt?{...dt}:null));return rt[Z][et]&&rt[Z][et].hasCar&&(rt[Z][et].carConfig={...rt[Z][et].carConfig,[kt]:St}),[...Te.slice(0,T+1),rt]}),A(Te=>Te+1)},st=(Z,et,kt)=>{p(St=>{const at=St[T].map(le=>le.map(vt=>vt?{...vt}:null)),rt=at[Z][et];if(!rt||!rt.type.startsWith("road"))return St;let ot=kt;kt&&kt.startsWith("turn_")&&(ot=kt.split("_")[2]);const dt=[[Z,et,ot]],Zt=new Set;for(;dt.length>0;){let[le,vt,At]=dt.shift();const $t=`${le},${vt}`;if(Zt.has($t))continue;Zt.add($t);const re=at[le][vt];if(re&&re.type.startsWith("road")){if(re.type.includes("multilane")){const be=re.laneCount||2,Ot=re.lanePosition||0,ee=re.type.includes("vertical"),De=ee?le:le-Ot,Le=ee?vt-Ot:vt;for(let Me=0;Me<be;Me++){if(Me===Ot)continue;const Pe=ee?De:De+Me,ve=ee?Le+Me:Le,ce=`${Pe},${ve}`;!Zt.has(ce)&&Pe>=0&&Pe<l&&ve>=0&&ve<d&&at[Pe][ve]&&at[Pe][ve].type===re.type&&dt.push([Pe,ve,At])}}if(re.type==="road_intersection"){re.flowDirection=null;const be=[{dr:-1,dc:0,dir:"up"},{dr:1,dc:0,dir:"down"},{dr:0,dc:-1,dir:"left"},{dr:0,dc:1,dir:"right"}];for(const Ot of be){const ee=le+Ot.dr,De=vt+Ot.dc;ee>=0&&ee<l&&De>=0&&De<d&&at[ee][De]&&at[ee][De].type.startsWith("road")&&dt.push([ee,De,Ot.dir])}continue}let ne=At;if(le!==Z||vt!==et){const be=re.type;let Ot=At;if(be.includes("horizontal")&&(At==="up"||At==="down")){const ve=nt(at,le,vt-1),ce=nt(at,le,vt+1);ve&&ve.type.startsWith("road")?(ne="left",Ot=`turn_${At}_left`):ce&&ce.type.startsWith("road")&&(ne="right",Ot=`turn_${At}_right`)}else if(be.includes("vertical")&&(At==="left"||At==="right")){const ve=nt(at,le-1,vt),ce=nt(at,le+1,vt);ve&&ve.type.startsWith("road")?(ne="up",Ot=`turn_${At}_up`):ce&&ce.type.startsWith("road")&&(ne="down",Ot=`turn_${At}_down`)}let ee=0,De=0;ne==="up"&&(ee=-1),ne==="down"&&(ee=1),ne==="left"&&(De=-1),ne==="right"&&(De=1);const Le=le+ee,Me=vt+De;Le>=0&&Le<l&&Me>=0&&Me<d&&at[Le][Me]&&at[Le][Me].type.startsWith("road")?re.flowDirection=Ot:re.flowDirection=null}let Jt=0,qe=0;if(ne==="up"&&(Jt=-1),ne==="down"&&(Jt=1),ne==="left"&&(qe=-1),ne==="right"&&(qe=1),Jt!==0||qe!==0){const be=le+Jt,Ot=vt+qe;be>=0&&be<l&&Ot>=0&&Ot<d&&at[be][Ot]&&at[be][Ot].type.startsWith("road")&&dt.push([be,Ot,ne])}}}return[...St.slice(0,T+1),at]}),A(St=>St+1)},ut=(Z,et)=>{B==="select"?(V({row:Z,col:et}),I||R(!0)):_t(Z,et,B)},Ct=(Z,et,kt,St)=>{const Te=typeof Z=="string"?JSON.parse(Z):Z;c(et),g(kt),p([Te]),A(0),qt(!1),Rt(null),L(St)};let Nt=qT;ft==="road"&&(Nt=HT),ft==="decoration"&&(Nt=FT);const lt=w?N[w.row]&&N[w.row][w.col]:null;return i?b.jsx("div",{className:"flex h-screen w-screen bg-slate-950 items-center justify-center font-sans text-slate-400 animate-pulse",children:"Loading Authentication..."}):s?b.jsxs("div",{className:"flex h-screen w-screen bg-slate-950 font-sans text-slate-200 overflow-hidden",children:[Ne==="save"&&b.jsx(pv,{mode:"save",onClose:()=>G(null),grid:N,rows:l,cols:d,onLoadLayout:Ct,currentLayoutId:D,setCurrentLayoutId:L,user:s}),Ne==="load"&&b.jsx(pv,{mode:"load",onClose:()=>G(null),grid:N,rows:l,cols:d,onLoadLayout:Ct,currentLayoutId:D,setCurrentLayoutId:L,user:s}),Ne==="profile"&&b.jsx(px,{user:s,onClose:()=>G(null)}),b.jsx("div",{className:"absolute top-4 left-4 z-50",children:b.jsx("button",{onClick:()=>R(!0),className:`p-2 bg-slate-800 rounded-lg shadow-lg border border-slate-700 hover:bg-slate-700 transition-all ${I?"opacity-0 pointer-events-none":"opacity-100"}`,children:b.jsx(ix,{})})}),I&&b.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>R(!1)}),b.jsx("div",{className:`flex-shrink-0 h-full bg-slate-900/95 backdrop-blur-md shadow-2xl z-40 overflow-hidden transition-[width] duration-300 ease-in-out border-r border-slate-800 flex flex-col ${I?"w-64":"w-0 border-none"}`,children:b.jsxs("div",{className:"w-64 h-full flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-slate-800 bg-gradient-to-r from-slate-900 to-slate-800 flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 rounded bg-gradient-to-br from-blue-500 to-cyan-400 flex items-center justify-center text-lg shadow-lg shadow-blue-500/30",children:""}),b.jsxs("h1",{className:"text-xl font-bold text-white tracking-tight",children:["City",b.jsx("span",{className:"text-blue-400 font-light",children:"Pro"})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>G("profile"),className:"w-8 h-8 rounded-full bg-slate-700 border border-slate-600 flex items-center justify-center text-xs font-bold text-slate-300 overflow-hidden hover:ring-2 hover:ring-blue-500 transition-all",title:"User Settings",children:s.photoURL?b.jsx("img",{src:s.photoURL,alt:"User",className:"w-full h-full object-cover"}):s.email?s.email[0].toUpperCase():"U"}),b.jsx("button",{onClick:()=>R(!1),className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors border border-transparent hover:border-slate-600",title:"Close Menu",children:b.jsx(ug,{})})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:[!w&&B&&B.includes("multilane")&&b.jsxs("div",{className:"mb-6 p-4 bg-slate-800 rounded-xl border-l-4 border-slate-400 shadow-md animate-fadeIn",children:[b.jsx("div",{className:"flex justify-between items-center mb-3",children:b.jsx("h2",{className:"text-sm font-bold text-white uppercase tracking-wider",children:" Tool Settings"})}),b.jsxs("div",{className:"flex justify-between items-center text-xs",children:[b.jsx("span",{className:"text-slate-300",children:"Lanes to Place:"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>_e(Math.max(2,C-1)),className:"w-6 h-6 bg-slate-700 rounded text-white hover:bg-slate-600 flex items-center justify-center",children:"-"}),b.jsx("span",{className:"font-bold text-white",children:C}),b.jsx("button",{onClick:()=>_e(Math.min(6,C+1)),className:"w-6 h-6 bg-slate-700 rounded text-white hover:bg-slate-600 flex items-center justify-center",children:"+"})]})]}),b.jsxs("div",{className:"mt-2 text-[10px] text-slate-500",children:["Click on the grid to place a ",C,"-lane road."]})]}),w&&lt&&lt.type&&lt.type.includes("multilane")&&b.jsxs("div",{className:"mb-6 p-4 bg-slate-800 rounded-xl border-l-4 border-slate-400 shadow-md animate-fadeIn",children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("h2",{className:"text-sm font-bold text-white uppercase tracking-wider",children:" Road Config"}),b.jsx("button",{onClick:()=>V(null),className:"text-xs text-slate-400 hover:text-white",children:"Close"})]}),b.jsxs("div",{className:"flex justify-between items-center text-xs",children:[b.jsx("span",{className:"text-slate-300",children:"Lanes:"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>M(w.row,w.col,-1),className:"w-6 h-6 bg-slate-700 rounded text-white hover:bg-slate-600 flex items-center justify-center",children:"-"}),b.jsx("span",{className:"font-bold text-white",children:lt.laneCount||2}),b.jsx("button",{onClick:()=>M(w.row,w.col,1),className:"w-6 h-6 bg-slate-700 rounded text-white hover:bg-slate-600 flex items-center justify-center",children:"+"})]})]})]}),w&&lt&&lt.type==="traffic_light"&&b.jsxs("div",{className:"mb-6 p-4 bg-slate-800 rounded-xl border-l-4 border-blue-500 shadow-md animate-fadeIn",children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("h2",{className:"text-sm font-bold text-white uppercase tracking-wider",children:" Signal Config"}),b.jsx("button",{onClick:()=>V(null),className:"text-xs text-slate-400 hover:text-white",children:"Close"})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("p",{className:"text-[10px] text-slate-400",children:["Position: ",w.row,", ",w.col]}),b.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] text-green-400 block mb-1",children:"Green"}),b.jsx("input",{type:"number",min:"1",value:lt.config?.green||10,onChange:Z=>jt(w.row,w.col,"green",Z.target.value),className:"w-full bg-slate-900 border border-slate-600 rounded p-1 text-xs text-center text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] text-yellow-400 block mb-1",children:"Yellow"}),b.jsx("input",{type:"number",min:"1",value:lt.config?.yellow||4,onChange:Z=>jt(w.row,w.col,"yellow",Z.target.value),className:"w-full bg-slate-900 border border-slate-600 rounded p-1 text-xs text-center text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] text-red-400 block mb-1",children:"Red"}),b.jsx("input",{type:"number",min:"1",value:lt.config?.red||10,onChange:Z=>jt(w.row,w.col,"red",Z.target.value),className:"w-full bg-slate-900 border border-slate-600 rounded p-1 text-xs text-center text-white"})]})]}),b.jsxs("div",{className:"bg-slate-900 p-2 rounded flex justify-between items-center",children:[b.jsx("span",{className:"text-xs text-slate-500",children:"Current State:"}),b.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded ${lt.state==="green"?"bg-green-900 text-green-400":lt.state==="yellow"?"bg-yellow-900 text-yellow-400":"bg-red-900 text-red-400"}`,children:[(lt.state||"GREEN").toUpperCase()," (",lt.timer||0,")"]})]})]})]}),w&&lt&&lt.hasCar&&b.jsxs("div",{className:"mb-6 p-4 bg-slate-800 rounded-xl border-l-4 border-orange-500 shadow-md animate-fadeIn",children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("h2",{className:"text-sm font-bold text-white uppercase tracking-wider",children:" Car Settings"}),b.jsx("button",{onClick:()=>V(null),className:"text-xs text-slate-400 hover:text-white",children:"Close"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1",children:[b.jsx("span",{children:"Speed"}),b.jsxs("span",{children:[lt.carConfig?.speed||1,"x"]})]}),b.jsx("input",{type:"range",min:"1",max:"3",step:"0.5",value:lt.carConfig?.speed||1,onChange:Z=>K(w.row,w.col,"speed",parseFloat(Z.target.value)),className:"w-full accent-orange-500 h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] text-slate-400 block mb-2",children:"Turn Priority"}),b.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[b.jsx("button",{onClick:()=>K(w.row,w.col,"turnBias","left"),className:`p-2 rounded text-xs border ${lt.carConfig?.turnBias==="left"?"bg-orange-600 border-orange-400 text-white":"bg-slate-700 border-slate-600 text-slate-400"}`,children:" Left"}),b.jsx("button",{onClick:()=>K(w.row,w.col,"turnBias","none"),className:`p-2 rounded text-xs border ${!lt.carConfig?.turnBias||lt.carConfig?.turnBias==="none"?"bg-orange-600 border-orange-400 text-white":"bg-slate-700 border-slate-600 text-slate-400"}`,children:"None"}),b.jsx("button",{onClick:()=>K(w.row,w.col,"turnBias","right"),className:`p-2 rounded text-xs border ${lt.carConfig?.turnBias==="right"?"bg-orange-600 border-orange-400 text-white":"bg-slate-700 border-slate-600 text-slate-400"}`,children:"Right "})]})]})]})]}),w&&lt&&lt.type&&lt.type.startsWith("road")&&b.jsxs("div",{className:"mb-6 p-4 bg-slate-800 rounded-xl border-l-4 border-emerald-500 shadow-md animate-fadeIn",children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("h2",{className:"text-sm font-bold text-white uppercase tracking-wider",children:" Traffic Flow"}),b.jsx("button",{onClick:()=>V(null),className:"text-xs text-slate-400 hover:text-white",children:"Close"})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"grid grid-cols-5 gap-1 mb-2",children:[b.jsx("button",{onClick:()=>Xt(w.row,w.col,null),className:`p-1 rounded text-[10px] border ${lt.flowDirection?"bg-slate-700":"bg-emerald-600"}`,children:"Any"}),b.jsx("button",{onClick:()=>Xt(w.row,w.col,"up"),className:`p-1 rounded text-lg border ${lt.flowDirection==="up"?"bg-emerald-600":"bg-slate-700"}`,children:""}),b.jsx("button",{onClick:()=>Xt(w.row,w.col,"down"),className:`p-1 rounded text-lg border ${lt.flowDirection==="down"?"bg-emerald-600":"bg-slate-700"}`,children:""}),b.jsx("button",{onClick:()=>Xt(w.row,w.col,"left"),className:`p-1 rounded text-lg border ${lt.flowDirection==="left"?"bg-emerald-600":"bg-slate-700"}`,children:""}),b.jsx("button",{onClick:()=>Xt(w.row,w.col,"right"),className:`p-1 rounded text-lg border ${lt.flowDirection==="right"?"bg-emerald-600":"bg-slate-700"}`,children:""})]}),b.jsx("div",{className:"pt-2 border-t border-slate-700 mt-2",children:b.jsx("button",{onClick:()=>st(w.row,w.col,lt.flowDirection),className:"w-full py-1.5 bg-slate-700 hover:bg-slate-600 text-xs text-slate-300 rounded transition-colors",children:"Apply to Connected"})})]})]}),w&&lt&&lt.type&&!lt.type.startsWith("road")&&lt.type!=="traffic_light"&&b.jsxs("div",{className:"mb-6 p-4 bg-slate-800 rounded-xl border border-slate-700",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-xs font-bold text-slate-500 uppercase",children:"Selected Cell"}),b.jsx("button",{onClick:()=>V(null),className:"text-xs text-slate-400 hover:text-white",children:""})]}),b.jsxs("div",{className:"mt-2 text-sm text-slate-300",children:["Type:"," ",b.jsx("span",{className:"text-blue-400 font-mono",children:lt.type}),lt.hasCar&&b.jsx("div",{className:"mt-1 text-xs text-orange-400",children:"Contains Car"})]})]}),!w&&b.jsx("div",{className:"mb-6 p-4 border border-dashed border-slate-700 rounded-xl text-center",children:b.jsxs("p",{className:"text-xs text-slate-500",children:["Select a Road or Signal with"," ",b.jsx("span",{className:"text-lg",children:""})," to edit."]})}),b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3 ml-1",children:"Tools & Objects"}),b.jsx("div",{className:"grid grid-cols-2 gap-3",children:Nt.map(Z=>b.jsx(mx,{item:Z,isSelected:B===Z.type,onClick:()=>{Z.type==="road_menu"?(Tt("road"),F("select")):Z.type==="decoration_menu"?(Tt("decoration"),F("select")):F(Z.type),Z.type!=="select"&&V(null)}},Z.type))})]})]}),ft!=="main"&&b.jsx("div",{className:"p-4 border-t border-slate-800 bg-slate-900",children:b.jsxs("button",{onClick:()=>{Tt("main"),F("select")},className:"w-full py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg flex items-center justify-center gap-2 transition-colors border border-slate-700",children:[b.jsx(ax,{}),b.jsx("span",{className:"text-sm font-medium",children:"Back to Menu"})]})})]})}),b.jsxs("div",{className:"flex-1 relative overflow-hidden bg-slate-950 flex flex-col min-w-0",children:[b.jsxs("div",{className:"absolute bottom-8 right-8 z-50 flex items-center gap-2 p-2 bg-slate-900/90 backdrop-blur-md border border-slate-700 rounded-2xl shadow-2xl",children:[b.jsx("button",{onClick:()=>A(Z=>Math.max(0,Z-1)),disabled:T===0,className:"p-3 text-slate-300 hover:text-white hover:bg-slate-700 rounded-xl transition-colors disabled:opacity-30",title:"Undo",children:b.jsx(sx,{})}),b.jsx("button",{onClick:()=>A(Z=>Math.min(_.length-1,Z+1)),disabled:T===_.length-1,className:"p-3 text-slate-300 hover:text-white hover:bg-slate-700 rounded-xl transition-colors disabled:opacity-30",title:"Redo",children:b.jsx(rx,{})}),b.jsx("div",{className:"w-px h-6 bg-slate-700 mx-1"}),b.jsx("button",{onClick:()=>G("save"),className:"p-3 text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/20 rounded-xl transition-colors",title:"Save Layout",children:b.jsx(_m,{})}),b.jsx("button",{onClick:()=>G("load"),className:"p-3 text-blue-400 hover:text-blue-300 hover:bg-blue-500/20 rounded-xl transition-colors",title:"Load Layout",children:b.jsx(vm,{})}),b.jsx("div",{className:"w-px h-6 bg-slate-700 mx-1"}),b.jsx("button",{onClick:()=>{confirm("Clear entire grid? This cannot be undone.")&&(qt(!1),p(Z=>[...Z.slice(0,T+1),gv(l,d)]),A(Z=>Z+1))},className:"p-3 text-red-400 hover:text-red-300 hover:bg-red-500/20 rounded-xl transition-colors",title:"Clear Grid",children:b.jsx(BT,{})})]}),b.jsx("div",{className:"absolute top-4 left-0 right-0 z-20 flex justify-center pointer-events-none",children:b.jsxs("div",{className:"flex items-center gap-4 px-6 py-3 bg-slate-900/90 backdrop-blur-md rounded-full border border-slate-700 shadow-2xl pointer-events-auto",children:[b.jsx("div",{className:"hidden md:block mr-4 pr-4 border-r border-slate-700 text-xs text-slate-400",children:B==="select"?"Select Mode (Click objects)":`Painting: ${B}`}),b.jsx("button",{onClick:()=>{pt||Rt(T),qt(!pt)},className:`px-6 py-2 rounded-full font-bold text-white shadow-lg flex items-center gap-2 ${pt?"bg-amber-500":"bg-emerald-500"}`,children:pt?" Pause":" Start"}),b.jsx("button",{onClick:()=>{yt!==null&&A(yt),qt(!1)},className:"px-4 py-2 rounded-full bg-slate-800 text-slate-300 text-xs border border-slate-600",disabled:yt===null,children:"Reset"})]})}),b.jsx("div",{className:"flex-1 flex items-center justify-center p-8 overflow-auto",children:b.jsx(dx,{grid:N,rows:l,cols:d,onDrop:(Z,et,kt)=>_t(Z,et,kt),onPaint:(Z,et)=>ut(Z,et),setIsMouseDown:X,onRightClick:(Z,et)=>_t(Z,et,"eraser"),selectedCell:w})})]})]}):b.jsx(gx,{})}D1.createRoot(document.getElementById("root")).render(b.jsx(Gt.StrictMode,{children:b.jsx(yx,{})}));
